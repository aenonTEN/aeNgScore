"use strict";var eV=Object.defineProperty,tV=Object.defineProperties,nV=Object.getOwnPropertyDescriptors,Ox=Object.getOwnPropertySymbols,rV=Object.prototype.hasOwnProperty,iV=Object.prototype.propertyIsEnumerable,Px=(We,ye,P)=>ye in We?eV(We,ye,{enumerable:!0,configurable:!0,writable:!0,value:P}):We[ye]=P,Nx=(We,ye)=>{for(var P in ye||(ye={}))rV.call(ye,P)&&Px(We,P,ye[P]);if(Ox)for(var P of Ox(ye))iV.call(ye,P)&&Px(We,P,ye[P]);return We},Fx=(We,ye)=>tV(We,nV(ye));(self.webpackChunkfirebaseDemo=self.webpackChunkfirebaseDemo||[]).push([[179],{2011:(We,ye,P)=>{P.d(ye,{Dh:()=>ce,GT:()=>ge,cc:()=>Ae,hO:()=>Be,on:()=>z,pX:()=>se,xv:()=>fe});var u=P(5e3),ee=P(127),N=P(5813);We=P.hmd(We);const he=["ngOnDestroy"],se=(Ee,Ue,Ge,Te={})=>new Proxy(Ee,{get:(Ce,we)=>Ge.runOutsideAngular(()=>{var Fe;if(Ee[we])return(null===(Fe=null==Te?void 0:Te.spy)||void 0===Fe?void 0:Fe.get)&&Te.spy.get(we,Ee[we]),Ee[we];if(he.indexOf(we)>-1)return()=>{};const Le=Ue.toPromise().then($=>{const be=$&&$[we];return"function"==typeof be?be.bind($):be&&be.then?be.then(K=>Ge.run(()=>K)):Ge.run(()=>be)});return new Proxy(()=>{},{get:($,be)=>Le[be],apply:($,be,K)=>Le.then(oe=>{var re;const _e=oe&&oe(...K);return(null===(re=null==Te?void 0:Te.spy)||void 0===re?void 0:re.apply)&&Te.spy.apply(we,K,_e),_e})})})}),ge=(Ee,Ue)=>{Ue.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Te=>{Object.defineProperty(Ee.prototype,Te,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Te))})})};class ae{constructor(Ue){return Ue}}const ce=new u.OlP("angularfire2.app.options"),fe=new u.OlP("angularfire2.app.name");function z(Ee,Ue,Ge){const Ce="object"==typeof Ge&&Ge||{};Ce.name=Ce.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Fe=ee.Z.apps.filter(Le=>Le&&Le.name===Ce.name)[0]||Ue.runOutsideAngular(()=>ee.Z.initializeApp(Ee,Ce));try{JSON.stringify(Ee)!==JSON.stringify(Fe.options)&&j("error",`${Fe.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Le){}return new ae(Fe)}const j=(Ee,...Ue)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Ee](...Ue)},ie={provide:ae,useFactory:z,deps:[ce,u.R0b,[new u.FiY,fe]]};let Be=(()=>{class Ee{constructor(Ge){ee.Z.registerVersion("angularfire",N.q4.full,"core"),ee.Z.registerVersion("angularfire",N.q4.full,"app-compat"),ee.Z.registerVersion("angular",u.q4F.full,Ge.toString())}static initializeApp(Ge,Te){return{ngModule:Ee,providers:[{provide:ce,useValue:Ge},{provide:fe,useValue:Te}]}}}return Ee.\u0275fac=function(Ge){return new(Ge||Ee)(u.LFG(u.Lbi))},Ee.\u0275mod=u.oAB({type:Ee}),Ee.\u0275inj=u.cJS({providers:[ie]}),Ee})();function Ae(Ee,Ue,Ge,Te,Ce){const[,we,Fe]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===Ee)||[];if(we)return function xe(Ee,Ue){try{return Ee.toString()===Ue.toString()}catch(Ge){return Ee===Ue}}(Ce,Fe)||(me("error",`${Ue} was already initialized on the ${Ge} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ce,was:Fe})),we;{const Le=Te();return globalThis.\u0275AngularfireInstanceCache.push([Ee,Le,Ce]),Le}}const Ne=!!We.hot,me=(Ee,...Ue)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Ee](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(We,ye,P)=>{P.d(ye,{q4:()=>ta,iC:()=>Ld,HU:()=>fu,vb:()=>vf,JM:()=>Co});var u=P(5e3),ee=P(5867),N=P(5861),he=P(9681),se=P(2090),ge=P(4859),ae=P(1877),ce=P(8766);const fe="@firebase/installations",z="0.5.10",ie=`w:${z}`,Be="FIS_v2",Ue=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(E){return E instanceof se.ZR&&E.code.includes("request-failed")}function Te({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ce(E){return{token:E.token,requestStatus:2,expiresIn:oe(E.expiresIn),creationTime:Date.now()}}function we(E,T){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,N.Z)(function*(E,T){const V=(yield T.json()).error;return Ue.create("request-failed",{requestName:E,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Le({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function $(E,{refreshToken:T}){const R=Le(E);return R.append("Authorization",function re(E){return`${Be} ${E}`}(T)),R}function be(E){return K.apply(this,arguments)}function K(){return(K=(0,N.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function oe(E){return Number(E.replace("s","000"))}function _e(E,T){return ue.apply(this,arguments)}function ue(){return(ue=(0,N.Z)(function*({appConfig:E,heartbeatServiceProvider:T},{fid:R}){const V=Te(E),Q=Le(E),ne=T.getImmediate({optional:!0});if(ne){const mt=yield ne.getHeartbeatsHeader();mt&&Q.append("x-firebase-client",mt)}const $e={method:"POST",headers:Q,body:JSON.stringify({fid:R,authVersion:Be,appId:E.appId,sdkVersion:ie})},Ke=yield be(()=>fetch(V,$e));if(Ke.ok){const mt=yield Ke.json();return{fid:mt.fid||R,registrationStatus:2,refreshToken:mt.refreshToken,authToken:Ce(mt.authToken)}}throw yield we("Create Installation",Ke)})).apply(this,arguments)}function ke(E){return new Promise(T=>{setTimeout(T,E)})}const kt=/^[cdef][\w-]{21}$/;function ze(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const R=function Ut(E){return function tt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return kt.test(R)?R:""}catch(E){return""}}function ln(E){return`${E.appName}!${E.appId}`}const jt=new Map;function Vt(E,T){const R=ln(E);Tt(R,T),function ri(E,T){const R=function Wn(){return!Ar&&"BroadcastChannel"in self&&(Ar=new BroadcastChannel("[Firebase] FID Change"),Ar.onmessage=E=>{Tt(E.data.key,E.data.fid)}),Ar}();R&&R.postMessage({key:E,fid:T}),function ir(){0===jt.size&&Ar&&(Ar.close(),Ar=null)}()}(R,T)}function Tt(E,T){const R=jt.get(E);if(R)for(const V of R)V(T)}let Ar=null;const pr="firebase-installations-store";let jr=null;function lt(){return jr||(jr=(0,ce.X3)("firebase-installations-database",1,{upgrade:(E,T)=>{0===T&&E.createObjectStore(pr)}})),jr}function Mr(E,T){return on.apply(this,arguments)}function on(){return(on=(0,N.Z)(function*(E,T){const R=ln(E),Q=(yield lt()).transaction(pr,"readwrite"),ne=Q.objectStore(pr),de=yield ne.get(R);return yield ne.put(T,R),yield Q.done,(!de||de.fid!==T.fid)&&Vt(E,T.fid),T})).apply(this,arguments)}function cn(E){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,N.Z)(function*(E){const T=ln(E),V=(yield lt()).transaction(pr,"readwrite");yield V.objectStore(pr).delete(T),yield V.done})).apply(this,arguments)}function mr(E,T){return xn.apply(this,arguments)}function xn(){return(xn=(0,N.Z)(function*(E,T){const R=ln(E),Q=(yield lt()).transaction(pr,"readwrite"),ne=Q.objectStore(pr),de=yield ne.get(R),$e=T(de);return void 0===$e?yield ne.delete(R):yield ne.put($e,R),yield Q.done,$e&&(!de||de.fid!==$e.fid)&&Vt(E,$e.fid),$e})).apply(this,arguments)}function un(E){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,N.Z)(function*(E){let T;const R=yield mr(E.appConfig,V=>{const Q=ws(V),ne=Ot(E,Q);return T=ne.registrationPromise,ne.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function ws(E){return Es(E||{fid:ze(),registrationStatus:0})}function Ot(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ue.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function Je(E,T){return dt.apply(this,arguments)}(E,R);return{installationEntry:R,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:qn(E)}:{installationEntry:T}}function dt(){return(dt=(0,N.Z)(function*(E,T){try{const R=yield _e(E,T);return Mr(E.appConfig,R)}catch(R){throw Ge(R)&&409===R.customData.serverCode?yield cn(E.appConfig):yield Mr(E.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function qn(E){return xr.apply(this,arguments)}function xr(){return(xr=(0,N.Z)(function*(E){let T=yield Mt(E.appConfig);for(;1===T.registrationStatus;)yield ke(100),T=yield Mt(E.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield un(E);return V||R}return T})).apply(this,arguments)}function Mt(E){return mr(E,T=>{if(!T)throw Ue.create("installation-not-found");return Es(T)})}function Es(E){return function Zn(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Yn(E,T){return U.apply(this,arguments)}function U(){return(U=(0,N.Z)(function*({appConfig:E,heartbeatServiceProvider:T},R){const V=W(E,R),Q=$(E,R),ne=T.getImmediate({optional:!0});if(ne){const mt=yield ne.getHeartbeatsHeader();mt&&Q.append("x-firebase-client",mt)}const $e={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:ie,appId:E.appId}})},Ke=yield be(()=>fetch(V,$e));if(Ke.ok)return Ce(yield Ke.json());throw yield we("Generate Auth Token",Ke)})).apply(this,arguments)}function W(E,{fid:T}){return`${Te(E)}/${T}/authTokens:generate`}function q(E){return De.apply(this,arguments)}function De(){return(De=(0,N.Z)(function*(E,T=!1){let R;const V=yield mr(E.appConfig,ne=>{if(!ht(ne))throw Ue.create("not-registered");const de=ne.authToken;if(!T&&Kt(de))return ne;if(1===de.requestStatus)return R=G(E,T),ne;{if(!navigator.onLine)throw Ue.create("app-offline");const $e=Tn(ne);return R=qe(E,$e),$e}});return R?yield R:V.authToken})).apply(this,arguments)}function G(E,T){return te.apply(this,arguments)}function te(){return(te=(0,N.Z)(function*(E,T){let R=yield Me(E.appConfig);for(;1===R.authToken.requestStatus;)yield ke(100),R=yield Me(E.appConfig);const V=R.authToken;return 0===V.requestStatus?q(E,T):V})).apply(this,arguments)}function Me(E){return mr(E,T=>{if(!ht(T))throw Ue.create("not-registered");return function sr(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function qe(E,T){return nt.apply(this,arguments)}function nt(){return(nt=(0,N.Z)(function*(E,T){try{const R=yield Yn(E,T),V=Object.assign(Object.assign({},T),{authToken:R});return yield Mr(E.appConfig,V),R}catch(R){if(!Ge(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Mr(E.appConfig,V)}else yield cn(E.appConfig);throw R}})).apply(this,arguments)}function ht(E){return void 0!==E&&2===E.registrationStatus}function Kt(E){return 2===E.requestStatus&&!function ft(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+36e5}(E)}function Tn(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}function Uo(){return(Uo=(0,N.Z)(function*(E){const T=E,{installationEntry:R,registrationPromise:V}=yield un(T);return V?V.catch(console.error):q(T).catch(console.error),R.fid})).apply(this,arguments)}function Ho(){return(Ho=(0,N.Z)(function*(E,T=!1){const R=E;return yield In(R),(yield q(R,T)).token})).apply(this,arguments)}function In(E){return or.apply(this,arguments)}function or(){return(or=(0,N.Z)(function*(E){const{registrationPromise:T}=yield un(E);T&&(yield T)})).apply(this,arguments)}function to(E){return Ue.create("missing-app-config-values",{valueName:E})}const _r="installations",et=E=>{const T=E.getProvider("app").getImmediate(),R=function Fn(E){if(!E||!E.options)throw to("App Configuration");if(!E.name)throw to("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!E.options[R])throw to(R);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,he._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},$t=E=>{const T=E.getProvider("app").getImmediate(),R=(0,he._getProvider)(T,_r).getImmediate();return{getId:()=>function Aa(E){return Uo.apply(this,arguments)}(R),getToken:Q=>function Ma(E){return Ho.apply(this,arguments)}(R,Q)}};(function yr(){(0,he._registerComponent)(new ge.wA(_r,et,"PUBLIC")),(0,he._registerComponent)(new ge.wA("installations-internal",$t,"PRIVATE"))})(),(0,he.registerVersion)(fe,z),(0,he.registerVersion)(fe,z,"esm2017");const si="@firebase/remote-config",dn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class lf{constructor(T,R,V,Q){this.client=T,this.storage=R,this.storageCache=V,this.logger=Q}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,Q=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Q}.`),Q}fetch(T){var R=this;return(0,N.Z)(function*(){const[V,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(T.cacheMaxAgeMillis,V))return Q;T.eTag=Q&&Q.eTag;const ne=yield R.client.fetch(T),de=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&de.push(R.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(de),ne})()}}function $c(E=navigator){return E.languages&&E.languages[0]||E.language}class Kn{constructor(T,R,V,Q,ne,de){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=V,this.projectId=Q,this.apiKey=ne,this.appId=de}fetch(T){var R=this;return(0,N.Z)(function*(){var V,Q,ne;const[de,$e]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},st={sdk_version:R.sdkVersion,app_instance_id:de,app_instance_id_token:$e,app_id:R.appId,language_code:$c()},pn={method:"POST",headers:Lt,body:JSON.stringify(st)},Cr=fetch(mt,pn),Li=new Promise((Qr,Bi)=>{T.signal.addEventListener(()=>{const Do=new Error("The operation was aborted.");Do.name="AbortError",Bi(Do)})});let Nr;try{yield Promise.race([Cr,Li]),Nr=yield Cr}catch(Qr){let Bi="fetch-client-network";throw"AbortError"===(null===(V=Qr)||void 0===V?void 0:V.name)&&(Bi="fetch-timeout"),dn.create(Bi,{originalErrorMessage:null===(Q=Qr)||void 0===Q?void 0:Q.message})}let Fr=Nr.status;const Vi=Nr.headers.get("ETag")||void 0;let Eo,Kr;if(200===Nr.status){let Qr;try{Qr=yield Nr.json()}catch(Bi){throw dn.create("fetch-client-parse",{originalErrorMessage:null===(ne=Bi)||void 0===ne?void 0:ne.message})}Eo=Qr.entries,Kr=Qr.state}if("INSTANCE_STATE_UNSPECIFIED"===Kr?Fr=500:"NO_CHANGE"===Kr?Fr=304:("NO_TEMPLATE"===Kr||"EMPTY_CONFIG"===Kr)&&(Eo={}),304!==Fr&&200!==Fr)throw dn.create("fetch-status",{httpStatus:Fr});return{status:Fr,eTag:Vi,config:Eo}})()}}class cf{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,N.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:V}){var Q=this;return(0,N.Z)(function*(){yield function es(E,T){return new Promise((R,V)=>{const Q=Math.max(T-Date.now(),0),ne=setTimeout(R,Q);E.addEventListener(()=>{clearTimeout(ne),V(dn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const ne=yield Q.client.fetch(T);return yield Q.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function zc(E){if(!(E instanceof se.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ne))throw ne;const de={throttleEndTimeMillis:Date.now()+(0,se.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(de),Q.attemptFetch(T,de)}})()}}class Gc{constructor(T,R,V,Q,ne){this.app=T,this._client=R,this._storageCache=V,this._storage=Q,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Al(E,T){var R;const V=E.target.error||void 0;return dn.create(T,{originalErrorMessage:V&&(null===(R=V)||void 0===R?void 0:R.message)})}const ts="app_namespace_store";class ff{constructor(T,R,V,Q=function hf(){return new Promise((E,T)=>{var R;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=Q=>{T(Al(Q,"storage-open"))},V.onsuccess=Q=>{E(Q.target.result)},V.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(ts,{keyPath:"compositeKey"})}}catch(V){T(dn.create("storage-open",{originalErrorMessage:null===(R=V)||void 0===R?void 0:R.message}))}})}()){this.appId=T,this.appName=R,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((Q,ne)=>{var de;const Ke=V.transaction([ts],"readonly").objectStore(ts),mt=R.createCompositeKey(T);try{const Lt=Ke.get(mt);Lt.onerror=st=>{ne(Al(st,"storage-get"))},Lt.onsuccess=st=>{const pn=st.target.result;Q(pn?pn.value:void 0)}}catch(Lt){ne(dn.create("storage-get",{originalErrorMessage:null===(de=Lt)||void 0===de?void 0:de.message}))}})})()}set(T,R){var V=this;return(0,N.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((ne,de)=>{var $e;const mt=Q.transaction([ts],"readwrite").objectStore(ts),Lt=V.createCompositeKey(T);try{const st=mt.put({compositeKey:Lt,value:R});st.onerror=pn=>{de(Al(pn,"storage-set"))},st.onsuccess=()=>{ne()}}catch(st){de(dn.create("storage-set",{originalErrorMessage:null===($e=st)||void 0===$e?void 0:$e.message}))}})})()}delete(T){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((Q,ne)=>{var de;const Ke=V.transaction([ts],"readwrite").objectStore(ts),mt=R.createCompositeKey(T);try{const Lt=Ke.delete(mt);Lt.onerror=st=>{ne(Al(st,"storage-delete"))},Lt.onsuccess=()=>{Q()}}catch(Lt){ne(dn.create("storage-delete",{originalErrorMessage:null===(de=Lt)||void 0===de?void 0:de.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class qc{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const R=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),Q=T.storage.getActiveConfig(),ne=yield R;ne&&(T.lastFetchStatus=ne);const de=yield V;de&&(T.lastSuccessfulFetchTimestampMillis=de);const $e=yield Q;$e&&(T.activeConfig=$e)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Oa(){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,N.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(E){return!1}})).apply(this,arguments)}!function no(){(0,he._registerComponent)(new ge.wA("remote-config",function E(T,{instanceIdentifier:R}){const V=T.getProvider("app").getImmediate(),Q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw dn.create("registration-window");if(!(0,se.hl)())throw dn.create("indexed-db-unavailable");const{projectId:ne,apiKey:de,appId:$e}=V.options;if(!ne)throw dn.create("registration-project-id");if(!de)throw dn.create("registration-api-key");if(!$e)throw dn.create("registration-app-id");const Ke=new ff($e,V.name,R=R||"firebase"),mt=new qc(Ke),Lt=new ae.Yd(si);Lt.logLevel=ae.in.ERROR;const st=new Kn(Q,he.SDK_VERSION,R,ne,de,$e),pn=new cf(st,Ke),Cr=new lf(pn,Ke,mt,Lt),Li=new Gc(V,Cr,mt,Ke,Lt);return function qt(E){const T=(0,se.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Li),Li},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(si,"0.3.9"),(0,he.registerVersion)(si,"0.3.9","esm2017")}();const Yc="/firebase-messaging-sw.js",Qn="/firebase-cloud-messaging-push-scope",Is="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ro="google.c.a.c_id",Kc="google.c.a.c_l",xd="google.c.a.ts",Ml="google.c.a.e";var io=(()=>{return(E=io||(io={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",io;var E})();function lr(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qc(E){const R=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),Q=new Uint8Array(V.length);for(let ne=0;ne<V.length;++ne)Q[ne]=V.charCodeAt(ne);return Q}const Jn="fcm_token_details_db",kr="fcm_token_object_Store";function Rl(E){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,N.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(Jn))return null;let T=null;return(yield(0,ce.X3)(Jn,5,{upgrade:(V=(0,N.Z)(function*(Q,ne,de,$e){var Ke;if(ne<2||!Q.objectStoreNames.contains(kr))return;const mt=$e.objectStore(kr),Lt=yield mt.index("fcmSenderId").get(E);if(yield mt.clear(),Lt)if(2===ne){const st=Lt;if(!st.auth||!st.p256dh||!st.endpoint)return;T={token:st.fcmToken,createTime:null!==(Ke=st.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:st.auth,p256dh:st.p256dh,endpoint:st.endpoint,swScope:st.swScope,vapidKey:"string"==typeof st.vapidKey?st.vapidKey:lr(st.vapidKey)}}}else if(3===ne){const st=Lt;T={token:st.fcmToken,createTime:st.createTime,subscriptionOptions:{auth:lr(st.auth),p256dh:lr(st.p256dh),endpoint:st.endpoint,swScope:st.swScope,vapidKey:lr(st.vapidKey)}}}else if(4===ne){const st=Lt;T={token:st.fcmToken,createTime:st.createTime,subscriptionOptions:{auth:lr(st.auth),p256dh:lr(st.p256dh),endpoint:st.endpoint,swScope:st.swScope,vapidKey:lr(st.vapidKey)}}}}),function(ne,de,$e,Ke){return V.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Jn),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),xl(T)?T:null;var V}),Jc.apply(this,arguments)}function xl(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ui="firebase-messaging-store";let kd=null;function Zt(){return kd||(kd=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(E,T)=>{0===T&&E.createObjectStore(ui)}})),kd}function qo(E){return As.apply(this,arguments)}function As(){return(As=(0,N.Z)(function*(E){const T=Bn(E),V=yield(yield Zt()).transaction(ui).objectStore(ui).get(T);if(V)return V;{const Q=yield Rl(E.appConfig.senderId);if(Q)return yield Bt(E,Q),Q}})).apply(this,arguments)}function Bt(E,T){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,N.Z)(function*(E,T){const R=Bn(E),Q=(yield Zt()).transaction(ui,"readwrite");return yield Q.objectStore(ui).put(T,R),yield Q.done,T})).apply(this,arguments)}function Pa(E){return ns.apply(this,arguments)}function ns(){return(ns=(0,N.Z)(function*(E){const T=Bn(E),V=(yield Zt()).transaction(ui,"readwrite");yield V.objectStore(ui).delete(T),yield V.done})).apply(this,arguments)}function Bn({appConfig:E}){return E.appId}const rn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function di(E,T){return Un.apply(this,arguments)}function Un(){return(Un=(0,N.Z)(function*(E,T){const R=yield oo(E),V=rs(T),Q={method:"POST",headers:R,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(hi(E.appConfig),Q)).json()}catch(de){throw rn.create("token-subscribe-failed",{errorInfo:de})}if(ne.error)throw rn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw rn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Ms(E,T){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,N.Z)(function*(E,T){const R=yield oo(E),V=rs(T.subscriptionOptions),Q={method:"PATCH",headers:R,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(`${hi(E.appConfig)}/${T.token}`,Q)).json()}catch(de){throw rn.create("token-update-failed",{errorInfo:de})}if(ne.error)throw rn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw rn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function Yo(E,T){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,N.Z)(function*(E,T){const V={method:"DELETE",headers:yield oo(E)};try{const ne=yield(yield fetch(`${hi(E.appConfig)}/${T}`,V)).json();if(ne.error)throw rn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Q){throw rn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function hi({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function oo(E){return ct.apply(this,arguments)}function ct(){return(ct=(0,N.Z)(function*({appConfig:E,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function rs({p256dh:E,auth:T,endpoint:R,vapidKey:V}){const Q={web:{endpoint:R,auth:T,p256dh:E}};return V!==Is&&(Q.web.applicationPubKey=V),Q}const Pl=6048e5;function Ko(E){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,N.Z)(function*(E){const T=yield Rs(E.swRegistration,E.vapidKey),R={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:lr(T.getKey("auth")),p256dh:lr(T.getKey("p256dh"))},V=yield qo(E.firebaseDependencies);if(V){if(La(V.subscriptionOptions,R))return Date.now()>=V.createTime+Pl?Fl(E,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield Yo(E.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return Ie(E.firebaseDependencies,R)}return Ie(E.firebaseDependencies,R)})).apply(this,arguments)}function Na(E){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,N.Z)(function*(E){const T=yield qo(E.firebaseDependencies);T&&(yield Yo(E.firebaseDependencies,T.token),yield Pa(E.firebaseDependencies));const R=yield E.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Fl(E,T){return ao.apply(this,arguments)}function ao(){return(ao=(0,N.Z)(function*(E,T){try{const R=yield Ms(E.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield Bt(E.firebaseDependencies,V),R}catch(R){throw yield Na(E),R}})).apply(this,arguments)}function Ie(E,T){return It.apply(this,arguments)}function It(){return(It=(0,N.Z)(function*(E,T){const V={token:yield di(E,T),createTime:Date.now(),subscriptionOptions:T};return yield Bt(E,V),V.token})).apply(this,arguments)}function Rs(E,T){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,N.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qc(T)})})).apply(this,arguments)}function La(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}function xs(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Or(E,T){if(!T.notification)return;E.notification={};const R=T.notification.title;R&&(E.notification.title=R);const V=T.notification.body;V&&(E.notification.body=V);const Q=T.notification.image;Q&&(E.notification.image=Q)}(T,E),function Ll(E,T){!T.data||(E.data=T.data)}(T,E),function Vl(E,T){var R,V,Q,ne,de;if(!T.fcmOptions&&!(null===(R=T.notification)||void 0===R?void 0:R.click_action))return;E.fcmOptions={};const $e=null!==(Q=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Q?Q:null===(ne=T.notification)||void 0===ne?void 0:ne.click_action;$e&&(E.fcmOptions.link=$e);const Ke=null===(de=T.fcmOptions)||void 0===de?void 0:de.analytics_label;Ke&&(E.fcmOptions.analyticsLabel=Ke)}(T,E),T}function Bl(E){return"object"==typeof E&&!!E&&ro in E}function Xc(E,T){const R=[];for(let V=0;V<E.length;V++)R.push(E.charAt(V)),V<T.length&&R.push(T.charAt(V));return R.join("")}function Si(E){return rn.create("missing-app-config-values",{valueName:E})}Xc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xn{constructor(T,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function pf(E){if(!E||!E.options)throw Si("App Configuration Object");if(!E.name)throw Si("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=E;for(const V of T)if(!R[V])throw Si(V);return{appName:E.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Q,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Pr(E){return Va.apply(this,arguments)}function Va(){return(Va=(0,N.Z)(function*(E){var T;try{E.swRegistration=yield navigator.serviceWorker.register(Yc,{scope:Qn}),E.swRegistration.update().catch(()=>{})}catch(R){throw rn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=R)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function is(E,T){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,N.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield Pr(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw rn.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function Ul(E,T){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,N.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=Is)})).apply(this,arguments)}function Hl(){return(Hl=(0,N.Z)(function*(E,T){if(!navigator)throw rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rn.create("permission-blocked");return yield Ul(E,null==T?void 0:T.vapidKey),yield is(E,null==T?void 0:T.serviceWorkerRegistration),Ko(E)})).apply(this,arguments)}function lo(E,T,R){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,N.Z)(function*(E,T,R){const V=ja(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[ro],message_name:R[Kc],message_time:R[xd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ja(E){switch(E){case io.NOTIFICATION_CLICKED:return"notification_open";case io.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function tu(){return(tu=(0,N.Z)(function*(E,T){const R=T.data;if(!R.isFirebaseMessaging)return;E.onMessageHandler&&R.messageType===io.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(xs(R)):E.onMessageHandler.next(xs(R)));const V=R.data;Bl(V)&&"1"===V[Ml]&&(yield lo(E,R.messageType,V))})).apply(this,arguments)}const $a="@firebase/messaging",nu=E=>{const T=new Xn(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function eu(E,T){return tu.apply(this,arguments)}(T,R)),T},co=E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:V=>function Ua(E,T){return Hl.apply(this,arguments)}(T,V)}};function za(){return vr.apply(this,arguments)}function vr(){return(vr=(0,N.Z)(function*(){try{yield(0,se.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ru(){(0,he._registerComponent)(new ge.wA("messaging",nu,"PUBLIC")),(0,he._registerComponent)(new ge.wA("messaging-internal",co,"PRIVATE")),(0,he.registerVersion)($a,"0.9.14"),(0,he.registerVersion)($a,"0.9.14","esm2017")}();const iu="analytics",mf="firebase_id",Ai="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ps="https://www.googletagmanager.com/gtag/js",An=new ae.Yd("@firebase/analytics");function su(E){return Promise.all(E.map(T=>T.catch(R=>R)))}function gf(E,T){const R=document.createElement("script");R.src=`${Ps}?l=${E}&id=${T}`,R.async=!0,document.head.appendChild(R)}function uo(E,T,R,V,Q,ne){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,N.Z)(function*(E,T,R,V,Q,ne){const de=V[Q];try{if(de)yield T[de];else{const Ke=(yield su(R)).find(mt=>mt.measurementId===Q);Ke&&(yield T[Ke.appId])}}catch($e){An.error($e)}E("config",Q,ne)})).apply(this,arguments)}function _f(E,T,R,V,Q){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,N.Z)(function*(E,T,R,V,Q){try{let ne=[];if(Q&&Q.send_to){let de=Q.send_to;Array.isArray(de)||(de=[de]);const $e=yield su(R);for(const Ke of de){const mt=$e.find(st=>st.measurementId===Ke),Lt=mt&&T[mt.appId];if(!Lt){ne=[];break}ne.push(Lt)}}0===ne.length&&(ne=Object.values(T)),yield Promise.all(ne),E("event",V,Q||{})}catch(ne){An.error(ne)}})).apply(this,arguments)}function bn(){const E=window.document.getElementsByTagName("script");for(const T of Object.values(E))if(T.src&&T.src.includes(Ps))return T;return null}const Qe=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jo=new class en{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function ou(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function fo(E){return ss.apply(this,arguments)}function ss(){return(ss=(0,N.Z)(function*(E){var T;const{appId:R,apiKey:V}=E,Q={method:"GET",headers:ou(V)},ne=Ai.replace("{app-id}",R),de=yield fetch(ne,Q);if(200!==de.status&&304!==de.status){let $e="";try{const Ke=yield de.json();(null===(T=Ke.error)||void 0===T?void 0:T.message)&&($e=Ke.error.message)}catch(Ke){}throw Qe.create("config-fetch-failed",{httpStatus:de.status,responseMessage:$e})}return de.json()})).apply(this,arguments)}function hn(E){return os.apply(this,arguments)}function os(){return(os=(0,N.Z)(function*(E,T=Jo,R){const{appId:V,apiKey:Q,measurementId:ne}=E.options;if(!V)throw Qe.create("no-app-id");if(!Q){if(ne)return{measurementId:ne,appId:V};throw Qe.create("no-api-key")}const de=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new qa;return setTimeout((0,N.Z)(function*(){$e.abort()}),void 0!==R?R:6e4),qr({appId:V,apiKey:Q,measurementId:ne},de,$e,T)})).apply(this,arguments)}function qr(E,T,R){return yt.apply(this,arguments)}function yt(){return(yt=(0,N.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:R},V,Q=Jo){const{appId:ne,measurementId:de}=E;try{yield au(V,T)}catch($e){if(de)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${de} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:ne,measurementId:de};throw $e}try{const $e=yield fo(E);return Q.deleteThrottleMetadata(ne),$e}catch($e){if(!lu($e)){if(Q.deleteThrottleMetadata(ne),de)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${de} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:ne,measurementId:de};throw $e}const Ke=503===Number($e.customData.httpStatus)?(0,se.$s)(R,Q.intervalMillis,30):(0,se.$s)(R,Q.intervalMillis),mt={throttleEndTimeMillis:Date.now()+Ke,backoffCount:R+1};return Q.setThrottleMetadata(ne,mt),An.debug(`Calling attemptFetch again in ${Ke} millis`),qr(E,mt,V,Q)}})).apply(this,arguments)}function au(E,T){return new Promise((R,V)=>{const Q=Math.max(T-Date.now(),0),ne=setTimeout(R,Q);E.addEventListener(()=>{clearTimeout(ne),V(Qe.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function lu(E){if(!(E instanceof se.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}class qa{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function $l(){return sn.apply(this,arguments)}function sn(){return(sn=(0,N.Z)(function*(){if(!(0,se.hl)())return An.warn(Qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(E){return An.warn(Qe.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function Ri(){return(Ri=(0,N.Z)(function*(E,T,R,V,Q,ne,de){var $e;const Ke=hn(E);Ke.then(Cr=>{R[Cr.measurementId]=Cr.appId,E.options.measurementId&&Cr.measurementId!==E.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Cr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Cr=>An.error(Cr)),T.push(Ke);const mt=$l().then(Cr=>{if(Cr)return V.getId()}),[Lt,st]=yield Promise.all([Ke,mt]);bn()||gf(ne,Lt.measurementId),Q("js",new Date);const pn=null!==($e=null==de?void 0:de.config)&&void 0!==$e?$e:{};return pn.origin="firebase",pn.update=!0,null!=st&&(pn[mf]=st),Q("config",Lt.measurementId,pn),Lt.measurementId})).apply(this,arguments)}class Fs{constructor(T){this.app=T}_delete(){return delete jn[this.app.options.appId],Promise.resolve()}}let jn={},$n=[];const Ls={};let mo,cs,po="dataLayer",go=!1;function fi(E,T,R){!function Xo(){const E=[];if((0,se.ru)()&&E.push("This is a browser extension environment."),(0,se.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),R=Qe.create("invalid-analytics-context",{errorInfo:T});An.warn(R.message)}}();const V=E.options.appId;if(!V)throw Qe.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Qe.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jn[V])throw Qe.create("already-exists",{id:V});if(!go){!function Ns(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(po);const{wrappedGtag:ne,gtagCore:de}=function yf(E,T,R,V,Q){let ne=function(...de){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ne=window[Q]),window[Q]=function Wa(E,T,R,V){function ne(){return(ne=(0,N.Z)(function*(de,$e,Ke){try{"event"===de?yield _f(E,T,R,$e,Ke):"config"===de?yield uo(E,T,R,V,$e,Ke):E("set",$e)}catch(mt){An.error(mt)}})).apply(this,arguments)}return function Q(de,$e,Ke){return ne.apply(this,arguments)}}(ne,E,T,R),{gtagCore:ne,wrappedGtag:window[Q]}}(jn,$n,Ls,po,"gtag");cs=ne,mo=de,go=!0}return jn[V]=function as(E,T,R,V,Q,ne,de){return Ri.apply(this,arguments)}(E,$n,Ls,T,mo,po,R),new Fs(E)}function fn(){return(fn=(0,N.Z)(function*(E,T,R,V,Q){if(Q&&Q.global)E("event",R,V);else{const ne=yield T;E("event",R,Object.assign(Object.assign({},V),{send_to:ne}))}})).apply(this,arguments)}function mi(){return Za.apply(this,arguments)}function Za(){return(Za=(0,N.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(E){return!1}})).apply(this,arguments)}const br="@firebase/analytics";!function hs(){(0,he._registerComponent)(new ge.wA(iu,(T,{options:R})=>fi(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,he._registerComponent)(new ge.wA("analytics-internal",function E(T){try{const R=T.getProvider(iu).getImmediate();return{logEvent:(V,Q,ne)=>function _o(E,T,R,V){E=(0,se.m9)(E),function us(E,T,R,V,Q){return fn.apply(this,arguments)}(cs,jn[E.app.options.appId],T,R,V).catch(Q=>An.error(Q))}(R,V,Q,ne)}}catch(R){throw Qe.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,he.registerVersion)(br,"0.7.10"),(0,he.registerVersion)(br,"0.7.10","esm2017")}();var uu=P(4408),Wl=P(7565);const ea=new class En extends Wl.v{}(class Oi extends uu.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,R,V):T.flush(this)}});var du=P(4986),Fd=P(8505),cr=P(9468),ur=P(5363);const ta=new u.GfV("7.4.1"),yo="__angularfire_symbol__analyticsIsSupportedValue",Pi="__angularfire_symbol__analyticsIsSupported",fs="__angularfire_symbol__remoteConfigIsSupportedValue",Ni="__angularfire_symbol__remoteConfigIsSupported",vo="__angularfire_symbol__messagingIsSupportedValue",Ct="__angularfire_symbol__messagingIsSupported";function Co(E,T,R){if(T){if(1===T.length)return T[0];const ne=T.filter(de=>de.app===R);if(1===ne.length)return ne[0]}return R.container.getProvider(E).getImmediate({optional:!0})}globalThis[Pi]||(globalThis[Pi]=mi().then(E=>globalThis[yo]=E).catch(()=>globalThis[yo]=!1)),globalThis[Ct]||(globalThis[Ct]=za().then(E=>globalThis[vo]=E).catch(()=>globalThis[vo]=!1)),globalThis[Ni]||(globalThis[Ni]=Oa().then(E=>globalThis[fs]=E).catch(()=>globalThis[fs]=!1));const vf=(E,T)=>{const R=T?[T]:(0,ee.C6)(),V=[];return R.forEach(Q=>{Q.container.getProvider(E).instances.forEach(de=>{V.includes(de)||V.push(de)})}),V};function Fi(){}class Yr{constructor(T,R=ea){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,V){const Q=this.zone;return this.delegate.schedule(function(de){Q.runGuarded(()=>{T.apply(this,[de])})},R,V)}}class Ka{constructor(T){this.zone=T,this.task=null}call(T,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fi,{},Fi,Fi)),R.pipe((0,Fd.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fu=(()=>{class E{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Yr(Zone.current)),this.insideAngular=R.run(()=>new Yr(Zone.current,du.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(R){return new(R||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function gi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Ld(E){return gi(),function ps(E){return function(R){return(R=R.lift(new Ka(E.ngZone))).pipe((0,cr.R)(E.outsideAngular),(0,ur.Q)(E.insideAngular))}}(gi())(E)}},2090:(We,ye,P)=>{P.d(ye,{$s:()=>Mt,BH:()=>Be,DV:()=>Ft,Dv:()=>Yi,GJ:()=>Vt,L:()=>ce,LL:()=>ue,Pz:()=>Dt,Sg:()=>Ae,UG:()=>me,UI:()=>ri,US:()=>ge,Wj:()=>un,Yr:()=>Fe,ZB:()=>j,ZR:()=>_e,b$:()=>Ge,cI:()=>kt,dS:()=>ws,eu:()=>be,g5:()=>N,gK:()=>mr,gQ:()=>pr,h$:()=>ae,hl:()=>$,hu:()=>ee,jU:()=>Ee,lb:()=>Rr,m9:()=>Yn,ne:()=>jr,p$:()=>z,pd:()=>Zi,r3:()=>rr,ru:()=>Ue,tV:()=>fe,uI:()=>Ne,ug:()=>Ot,vZ:()=>Ar,w1:()=>Ce,w9:()=>jt,xO:()=>ir,xb:()=>Tt,z$:()=>xe,zI:()=>K,zd:()=>ii});const ee=function(U,W){if(!U)throw N(W)},N=function(U){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+U)},he=function(U){const W=[];let q=0;for(let De=0;De<U.length;De++){let G=U.charCodeAt(De);G<128?W[q++]=G:G<2048?(W[q++]=G>>6|192,W[q++]=63&G|128):55296==(64512&G)&&De+1<U.length&&56320==(64512&U.charCodeAt(De+1))?(G=65536+((1023&G)<<10)+(1023&U.charCodeAt(++De)),W[q++]=G>>18|240,W[q++]=G>>12&63|128,W[q++]=G>>6&63|128,W[q++]=63&G|128):(W[q++]=G>>12|224,W[q++]=G>>6&63|128,W[q++]=63&G|128)}return W},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,W){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let G=0;G<U.length;G+=3){const te=U[G],Me=G+1<U.length,qe=Me?U[G+1]:0,nt=G+2<U.length,ht=nt?U[G+2]:0;let Tn=(15&qe)<<2|ht>>6,sr=63&ht;nt||(sr=64,Me||(Tn=64)),De.push(q[te>>2],q[(3&te)<<4|qe>>4],q[Tn],q[sr])}return De.join("")},encodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(U):this.encodeByteArray(he(U),W)},decodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(U):function(U){const W=[];let q=0,De=0;for(;q<U.length;){const G=U[q++];if(G<128)W[De++]=String.fromCharCode(G);else if(G>191&&G<224){const te=U[q++];W[De++]=String.fromCharCode((31&G)<<6|63&te)}else if(G>239&&G<365){const nt=((7&G)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;W[De++]=String.fromCharCode(55296+(nt>>10)),W[De++]=String.fromCharCode(56320+(1023&nt))}else{const te=U[q++],Me=U[q++];W[De++]=String.fromCharCode((15&G)<<12|(63&te)<<6|63&Me)}}return W.join("")}(this.decodeStringToByteArray(U,W))},decodeStringToByteArray(U,W){this.init_();const q=W?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let G=0;G<U.length;){const te=q[U.charAt(G++)],qe=G<U.length?q[U.charAt(G)]:0;++G;const ht=G<U.length?q[U.charAt(G)]:64;++G;const ft=G<U.length?q[U.charAt(G)]:64;if(++G,null==te||null==qe||null==ht||null==ft)throw Error();De.push(te<<2|qe>>4),64!==ht&&(De.push(qe<<4&240|ht>>2),64!==ft&&De.push(ht<<6&192|ft))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},ae=function(U){const W=he(U);return ge.encodeByteArray(W,!0)},ce=function(U){return ae(U).replace(/\./g,"")},fe=function(U){try{return ge.decodeString(U,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function z(U){return j(void 0,U)}function j(U,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return W}for(const q in W)!W.hasOwnProperty(q)||!ie(q)||(U[q]=j(U[q],W[q]));return U}function ie(U){return"__proto__"!==U}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,q)=>{this.resolve=W,this.reject=q})}wrapCallback(W){return(q,De)=>{q?this.reject(q):this.resolve(De),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(q):W(q,De))}}}function Ae(U,W){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=W||"demo-project",G=U.iat||0,te=U.sub||U.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:G,exp:G+3600,auth_time:G,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Me)),""].join(".")}function xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function Ee(){return"object"==typeof self&&self.self===self}function Ue(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ce(){const U=xe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Fe(){return!1}function $(){return"object"==typeof indexedDB}function be(){return new Promise((U,W)=>{try{let q=!0;const De="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(De);G.onsuccess=()=>{G.result.close(),q||self.indexedDB.deleteDatabase(De),U(!0)},G.onupgradeneeded=()=>{q=!1},G.onerror=()=>{var te;W((null===(te=G.error)||void 0===te?void 0:te.message)||"")}}catch(q){W(q)}})}function K(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(W,q,De){super(q),this.code=W,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(W,q,De){this.service=W,this.serviceName=q,this.errors=De}create(W,...q){const De=q[0]||{},G=`${this.service}/${W}`,te=this.errors[W],Me=te?function ke(U,W){return U.replace(tt,(q,De)=>{const G=W[De];return null!=G?String(G):`<${De}?>`})}(te,De):"Error";return new _e(G,`${this.serviceName}: ${Me} (${G}).`,De)}}const tt=/\{\$([^}]+)}/g;function kt(U){return JSON.parse(U)}function Dt(U){return JSON.stringify(U)}const ze=function(U){let W={},q={},De={},G="";try{const te=U.split(".");W=kt(fe(te[0])||""),q=kt(fe(te[1])||""),G=te[2],De=q.d||{},delete q.d}catch(te){}return{header:W,claims:q,data:De,signature:G}},jt=function(U){const q=ze(U).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},Vt=function(U){const W=ze(U).claims;return"object"==typeof W&&!0===W.admin};function rr(U,W){return Object.prototype.hasOwnProperty.call(U,W)}function Ft(U,W){if(Object.prototype.hasOwnProperty.call(U,W))return U[W]}function Tt(U){for(const W in U)if(Object.prototype.hasOwnProperty.call(U,W))return!1;return!0}function ri(U,W,q){const De={};for(const G in U)Object.prototype.hasOwnProperty.call(U,G)&&(De[G]=W.call(q,U[G],G,U));return De}function Ar(U,W){if(U===W)return!0;const q=Object.keys(U),De=Object.keys(W);for(const G of q){if(!De.includes(G))return!1;const te=U[G],Me=W[G];if(Wn(te)&&Wn(Me)){if(!Ar(te,Me))return!1}else if(te!==Me)return!1}for(const G of De)if(!q.includes(G))return!1;return!0}function Wn(U){return null!==U&&"object"==typeof U}function ir(U){const W=[];for(const[q,De]of Object.entries(U))Array.isArray(De)?De.forEach(G=>{W.push(encodeURIComponent(q)+"="+encodeURIComponent(G))}):W.push(encodeURIComponent(q)+"="+encodeURIComponent(De));return W.length?"&"+W.join("&"):""}function ii(U){const W={};return U.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[G,te]=De.split("=");W[decodeURIComponent(G)]=decodeURIComponent(te)}}),W}function Zi(U){const W=U.indexOf("?");if(!W)return"";const q=U.indexOf("#",W);return U.substring(W,q>0?q:void 0)}class pr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,q){q||(q=0);const De=this.W_;if("string"==typeof W)for(let ft=0;ft<16;ft++)De[ft]=W.charCodeAt(q)<<24|W.charCodeAt(q+1)<<16|W.charCodeAt(q+2)<<8|W.charCodeAt(q+3),q+=4;else for(let ft=0;ft<16;ft++)De[ft]=W[q]<<24|W[q+1]<<16|W[q+2]<<8|W[q+3],q+=4;for(let ft=16;ft<80;ft++){const Tn=De[ft-3]^De[ft-8]^De[ft-14]^De[ft-16];De[ft]=4294967295&(Tn<<1|Tn>>>31)}let ht,Kt,G=this.chain_[0],te=this.chain_[1],Me=this.chain_[2],qe=this.chain_[3],nt=this.chain_[4];for(let ft=0;ft<80;ft++){ft<40?ft<20?(ht=qe^te&(Me^qe),Kt=1518500249):(ht=te^Me^qe,Kt=1859775393):ft<60?(ht=te&Me|qe&(te|Me),Kt=2400959708):(ht=te^Me^qe,Kt=3395469782);const Tn=(G<<5|G>>>27)+ht+nt+Kt+De[ft]&4294967295;nt=qe,qe=Me,Me=4294967295&(te<<30|te>>>2),te=G,G=Tn}this.chain_[0]=this.chain_[0]+G&4294967295,this.chain_[1]=this.chain_[1]+te&4294967295,this.chain_[2]=this.chain_[2]+Me&4294967295,this.chain_[3]=this.chain_[3]+qe&4294967295,this.chain_[4]=this.chain_[4]+nt&4294967295}update(W,q){if(null==W)return;void 0===q&&(q=W.length);const De=q-this.blockSize;let G=0;const te=this.buf_;let Me=this.inbuf_;for(;G<q;){if(0===Me)for(;G<=De;)this.compress_(W,G),G+=this.blockSize;if("string"==typeof W){for(;G<q;)if(te[Me]=W.charCodeAt(G),++Me,++G,Me===this.blockSize){this.compress_(te),Me=0;break}}else for(;G<q;)if(te[Me]=W[G],++Me,++G,Me===this.blockSize){this.compress_(te),Me=0;break}}this.inbuf_=Me,this.total_+=q}digest(){const W=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let G=this.blockSize-1;G>=56;G--)this.buf_[G]=255&q,q/=256;this.compress_(this.buf_);let De=0;for(let G=0;G<5;G++)for(let te=24;te>=0;te-=8)W[De]=this.chain_[G]>>te&255,++De;return W}}function jr(U,W){const q=new lt(U,W);return q.subscribe.bind(q)}class lt{constructor(W,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{W(this)}).catch(De=>{this.error(De)})}next(W){this.forEachObserver(q=>{q.next(W)})}error(W){this.forEachObserver(q=>{q.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,q,De){let G;if(void 0===W&&void 0===q&&void 0===De)throw new Error("Missing Observer.");G=function on(U,W){if("object"!=typeof U||null===U)return!1;for(const q of W)if(q in U&&"function"==typeof U[q])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:q,complete:De},void 0===G.next&&(G.next=cn),void 0===G.error&&(G.error=cn),void 0===G.complete&&(G.complete=cn);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch(Me){}}),this.observers.push(G),te}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,W)}sendOne(W,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{q(this.observers[W])}catch(De){"undefined"!=typeof console&&console.error&&console.error(De)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cn(){}const Yi=function(U,W,q,De){let G;if(De<W?G="at least "+W:De>q&&(G=0===q?"none":"no more than "+q),G)throw new Error(U+" failed: Was called with "+De+(1===De?" argument.":" arguments.")+" Expects "+G+".")};function mr(U,W){return`${U} failed: ${W} argument `}function un(U,W,q,De){if((!De||q)&&"function"!=typeof q)throw new Error(mr(U,W)+"must be a valid function.")}function Rr(U,W,q,De){if((!De||q)&&("object"!=typeof q||null===q))throw new Error(mr(U,W)+"must be a valid context object.")}const ws=function(U){const W=[];let q=0;for(let De=0;De<U.length;De++){let G=U.charCodeAt(De);if(G>=55296&&G<=56319){const te=G-55296;De++,ee(De<U.length,"Surrogate pair missing trail surrogate."),G=65536+(te<<10)+(U.charCodeAt(De)-56320)}G<128?W[q++]=G:G<2048?(W[q++]=G>>6|192,W[q++]=63&G|128):G<65536?(W[q++]=G>>12|224,W[q++]=G>>6&63|128,W[q++]=63&G|128):(W[q++]=G>>18|240,W[q++]=G>>12&63|128,W[q++]=G>>6&63|128,W[q++]=63&G|128)}return W},Ot=function(U){let W=0;for(let q=0;q<U.length;q++){const De=U.charCodeAt(q);De<128?W++:De<2048?W+=2:De>=55296&&De<=56319?(W+=4,q++):W+=3}return W};function Mt(U,W=1e3,q=2){const De=W*Math.pow(q,U),G=Math.round(.5*De*(Math.random()-.5)*2);return Math.min(144e5,De+G)}function Yn(U){return U&&U._delegate?U._delegate:U}},4901:(We,ye,P)=>{var u=P(5e3);let ee=null;function N(){return ee}const ae=new u.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function fe(){return(0,u.LFG)(j)}()},providedIn:"platform"}),n})();const z=new u.OlP("Location Initialized");let j=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){ie()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){ie()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Be(){return new j((0,u.LFG)(ae))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function Ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ne(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ee(n){const t=(0,u.LFG)(ae).location;return new Ge((0,u.LFG)(ce),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ue=new u.OlP("appBaseHref");let Ge=(()=>{class n extends me{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ae(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ne(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,l){const h=this.prepareExternalUrl(o+Ne(l));this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,l){const h=this.prepareExternalUrl(o+Ne(l));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ce),u.LFG(Ue,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends me{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ae(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,l){let h=this.prepareExternalUrl(o+Ne(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,l){let h=this.prepareExternalUrl(o+Ne(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ce),u.LFG(Ue,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n{constructor(e,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=xe(Le(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ne(r))}normalize(e){return n.stripTrailingSlash(function Fe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Le(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._platformStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ne(r)),o)}replaceState(e,r="",o=null){this._platformStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ne(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=Ne,n.joinWithSlash=Ae,n.stripTrailingSlash=xe,n.\u0275fac=function(e){return new(e||n)(u.LFG(me),u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function we(){return new Ce((0,u.LFG)(me),(0,u.LFG)(ce))}()},providedIn:"root"}),n})();function Le(n){return n.replace(/\/index.html$/,"")}let Vn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class qt{constructor(){this.$implicit=null,this.ngIf=null}}function xa(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}class zo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ar=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),zr=(()=>{class n{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new zo(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ar,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Ml=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Ss="browser";let xl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new so((0,u.LFG)(ae),window)}),n})();class so{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ui(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=kl(this.window.history)||kl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function kl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class As extends class qo extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){ee||(ee=n)}(new As)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Zo(){return Bt=Bt||document.querySelector("base"),Bt?Bt.getAttribute("href"):null}();return null==e?null:function ns(n){Pa=Pa||document.createElement("a"),Pa.setAttribute("href",n);const t=Pa.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Bt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function $o(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,l]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let Pa,Bt=null;const Bn=new u.OlP("TRANSITION_ID"),rn=[{provide:u.ip1,useFactory:function Ol(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const r=N(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[Bn,ae,u.zs3],multi:!0}];class di{static init(){(0,u.VLi)(new di)}addToWindow(t){u.dqk.getAngularTestability=(r,o=!0)=>{const l=t.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const g=function(b){h=h||b,l--,0==l&&r(h)};o.forEach(function(b){b.whenStable(g)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:r?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Un=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ms=new u.OlP("EventManagerPlugins");let Ii=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ms),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Yo{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=N().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let Gr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),hi=(()=>{class n extends Gr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(oo),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(oo))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function oo(n){N().remove(n)}const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rs=/%COMP%/g;function ao(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?ao(n,o,e):(o=o.replace(rs,n),e.push(o))}return e}function Ie(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Rs=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Xt(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Or(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case u.ifc.ShadowDom:return new Ll(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=ao(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ii),u.LFG(hi),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Xt{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ct[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const l=ct[o];l?t.setAttributeNS(l,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=ct[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,r,o&u.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ie(r)):this.eventManager.addEventListener(t,e,Ie(r))}}class Or extends Xt{constructor(t,e,r,o){super(t),this.component=r;const l=ao(o+"-"+r.id,r.styles,[]);e.addStyles(l),this.contentAttr=function Fa(n){return"_ngcontent-%COMP%".replace(rs,n)}(o+"-"+r.id),this.hostAttr=function Fl(n){return"_nghost-%COMP%".replace(rs,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Ll extends Xt{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ao(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const g=document.createElement("style");g.textContent=l[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Vl=(()=>{class n extends Yo{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Bl=["alt","control","meta","shift"],pf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Si={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Pr=(()=>{class n extends Yo{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(Bl.forEach(b=>{const D=r.indexOf(b);D>-1&&(r.splice(D,1),h+=b+".")}),h+=l,0!=r.length||0===l.length)return null;const g={};return g.domEventName=o,g.fullKey=h,g}static getEventFullKey(e){let r="",o=function Va(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Si.hasOwnProperty(t)&&(t=Si[t]))}return pf[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Bl.forEach(l=>{l!=o&&Xn[l](e)&&(r+=l+".")}),r+=o,r}static eventCallback(e,r,o){return l=>{n.getEventFullKey(l)===e&&o.runGuarded(()=>r(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ua=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Ss},{provide:u.g9A,useValue:function is(){As.makeCurrent(),di.init()},multi:!0},{provide:ae,useFactory:function Ul(){return(0,u.RDi)(document),document},deps:[]}]),Hl=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Wr(){return new u.qLn},deps:[]},{provide:Ms,useClass:Vl,multi:!0,deps:[ae,u.R0b,u.Lbi]},{provide:Ms,useClass:Pr,multi:!0,deps:[ae]},{provide:Rs,useClass:Rs,deps:[Ii,hi,u.AFp]},{provide:u.FYo,useExisting:Rs},{provide:Gr,useExisting:hi},{provide:hi,useClass:hi,deps:[ae]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ii,useClass:Ii,deps:[Ms,u.R0b]},{provide:class Zt{},useClass:Un,deps:[]}];let lo=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:Bn,useExisting:u.AFp},rn]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Hl,imports:[Ml,u.hGG]}),n})();"undefined"!=typeof window&&window;var bn=P(8996),ho=P(3269);function Qe(...n){const t=(0,ho.yG)(n);return(0,bn.D)(n,t)}var zt=P(7579);class Hn extends zt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var en=P(8306);const{isArray:Jo}=Array,{getPrototypeOf:ou,prototype:fo,keys:ss}=Object;function hn(n){if(1===n.length){const t=n[0];if(Jo(t))return{args:t,keys:null};if(function os(n){return n&&"object"==typeof n&&ou(n)===fo}(t)){const e=ss(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var qr=P(4671),yt=P(4004);const{isArray:au}=Array;function qa(n){return(0,yt.U)(t=>function lu(n,t){return au(t)?n(...t):n(t)}(n,t))}function $l(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}var sn=P(5403),as=P(9672);function Ri(...n){const t=(0,ho.yG)(n),e=(0,ho.jO)(n),{args:r,keys:o}=hn(n);if(0===r.length)return(0,bn.D)([],t);const l=new en.y(function Fs(n,t,e=qr.y){return r=>{jn(t,()=>{const{length:o}=n,l=new Array(o);let h=o,g=o;for(let b=0;b<o;b++)jn(t,()=>{const D=(0,bn.D)(n[b],t);let x=!1;D.subscribe((0,sn.x)(r,O=>{l[b]=O,x||(x=!0,g--),g||r.next(e(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,t,o?h=>$l(o,h):qr.y));return e?l.pipe(qa(e)):l}function jn(n,t,e){n?(0,as.f)(e,n,t):t()}var $n=P(576);function Ls(n,t){const e=(0,$n.m)(n)?n:()=>n,r=o=>o.error(e());return new en.y(t?o=>t.schedule(r,0,o):r)}const ls=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var mo=P(8189);function go(...n){return function cs(){return(0,mo.J)(1)}()((0,bn.D)(n,(0,ho.yG)(n)))}var Vs=P(8421);function Xo(n){return new en.y(t=>{(0,Vs.Xf)(n()).subscribe(t)})}var fi=P(515),us=P(727),fn=P(4482);function zl(){return(0,fn.e)((n,t)=>{let e=null;n._refCount++;const r=(0,sn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class ds extends en.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,fn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new us.w0;const e=this.getSubject();t.add(this.source.subscribe((0,sn.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=us.w0.EMPTY)}return t}refCount(){return zl()(this)}}function Cn(n,t){return(0,fn.e)((e,r)=>{let o=null,l=0,h=!1;const g=()=>h&&!o&&r.complete();e.subscribe((0,sn.x)(r,b=>{null==o||o.unsubscribe();let D=0;const x=l++;(0,Vs.Xf)(n(b,x)).subscribe(o=(0,sn.x)(r,O=>r.next(t?t(b,O,x,D++):O),()=>{o=null,g()}))},()=>{h=!0,g()}))})}var pi=P(5698);function Bs(...n){const t=(0,ho.yG)(n);return(0,fn.e)((e,r)=>{(t?go(n,e,t):go(n,e)).subscribe(r)})}function xi(n,t,e,r,o){return(l,h)=>{let g=e,b=t,D=0;l.subscribe((0,sn.x)(h,x=>{const O=D++;b=g?n(b,x,O):(g=!0,x),r&&h.next(b)},o&&(()=>{g&&h.next(b),h.complete()})))}}function ki(n,t){return(0,fn.e)(xi(n,t,arguments.length>=2,!0))}function er(n,t){return(0,fn.e)((e,r)=>{let o=0;e.subscribe((0,sn.x)(r,l=>n.call(t,l,o++)&&r.next(l)))})}function Zr(n){return(0,fn.e)((t,e)=>{let l,r=null,o=!1;r=t.subscribe((0,sn.x)(e,void 0,void 0,h=>{l=(0,Vs.Xf)(n(h,Zr(n)(t))),r?(r.unsubscribe(),r=null,l.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(e))})}var wn=P(5577);function mi(n,t){return(0,$n.m)(t)?(0,wn.z)(n,t,1):(0,wn.z)(n,1)}function Za(n){return n<=0?()=>fi.E:(0,fn.e)((t,e)=>{let r=[];t.subscribe((0,sn.x)(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function Gl(n=an){return(0,fn.e)((t,e)=>{let r=!1;t.subscribe((0,sn.x)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function an(){return new ls}function Nd(n){return(0,fn.e)((t,e)=>{let r=!1;t.subscribe((0,sn.x)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function _o(n,t){const e=arguments.length>=2;return r=>r.pipe(n?er((o,l)=>n(o,l,r)):qr.y,(0,pi.q)(1),e?Nd(t):Gl(()=>new ls))}var br=P(8505);class hs{constructor(t,e){this.id=t,this.url=e}}class uu extends hs{constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oi extends hs{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wl extends hs{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class En extends hs{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ea extends hs{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ya extends hs{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class du extends hs{constructor(t,e,r,o,l){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fd extends hs{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr extends hs{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ur{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ta{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yo{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ct="primary";class hu{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bo(n){return new hu(n)}const tr="ngNavigationCancelingError";function na(n){const t=Error("NavigationCancelingError: "+n);return t[tr]=!0,t}function vf(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],g=n[l];if(h.startsWith(":"))o[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Yr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!Ka(n[o],t[o]))return!1;return!0}function Ka(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,l)=>r[l]===o)}return n===t}function fu(n){return Array.prototype.concat.apply([],n)}function gi(n){return n.length>0?n[n.length-1]:null}function Jt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function nr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,bn.D)(Promise.resolve(n)):Qe(n)}const Ld={exact:function E(n,t,e){if(!mt(n.segments,t.segments)||!Q(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!E(n.children[r],t.children[r],e))return!1;return!0},subset:R},ps={exact:function ra(n,t){return Yr(n,t)},subset:function T(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ka(n[e],t[e]))},ignored:()=>!0};function wo(n,t,e){return Ld[e.paths](n.root,t.root,e.matrixParams)&&ps[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function R(n,t,e){return V(n,t,t.segments,e)}function V(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!mt(o,e)||t.hasChildren()||!Q(o,e,r))}if(n.segments.length===e.length){if(!mt(n.segments,e)||!Q(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!R(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(mt(n.segments,o)&&Q(n.segments,o,r)&&n.children[Ct])&&V(n.children[Ct],t,l,r)}}function Q(n,t,e){return t.every((r,o)=>ps[e](n[o].parameters,r.parameters))}class ne{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bo(this.queryParams)),this._queryParamMap}toString(){return Cr.serialize(this)}}class de{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Jt(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Li(this)}}class $e{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bo(this.parameters)),this._parameterMap}toString(){return Do(this)}}function mt(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class st{}class pn{parse(t){const e=new bf(t);return new ne(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Nr(t.root,!0)}`,r=function Vd(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${Vi(e)}=${Vi(o)}`).join("&"):`${Vi(e)}=${Vi(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function Eo(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Cr=new pn;function Li(n){return n.segments.map(t=>Do(t)).join("/")}function Nr(n,t){if(!n.hasChildren())return Li(n);if(t){const e=n.children[Ct]?Nr(n.children[Ct],!1):"",r=[];return Jt(n.children,(o,l)=>{l!==Ct&&r.push(`${l}:${Nr(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Lt(n,t){let e=[];return Jt(n.children,(r,o)=>{o===Ct&&(e=e.concat(t(r,o)))}),Jt(n.children,(r,o)=>{o!==Ct&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===Ct?[Nr(n.children[Ct],!1)]:[`${o}:${Nr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ct]?`${Li(n)}/${e[0]}`:`${Li(n)}/(${e.join("//")})`}}function Fr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vi(n){return Fr(n).replace(/%3B/gi,";")}function Kr(n){return Fr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qr(n){return decodeURIComponent(n)}function Bi(n){return Qr(n.replace(/\+/g,"%20"))}function Do(n){return`${Kr(n.path)}${function mu(n){return Object.keys(n).map(t=>`;${Kr(t)}=${Kr(n[t])}`).join("")}(n.parameters)}`}const Bd=/^[^\/()?;=#]+/;function gu(n){const t=n.match(Bd);return t?t[0]:""}const Qa=/^[^=?&#]+/,Ud=/^[^&#]+/;class bf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Ct]=new de(t,e)),r}parseSegment(){const t=gu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new $e(Qr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gu(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=gu(this.remaining);o&&(r=o,this.capture(r))}t[Qr(e)]=Qr(r)}parseQueryParam(t){const e=function Zl(n){const t=n.match(Qa);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function N_(n){const t=n.match(Ud);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Bi(e),l=Bi(r);if(t.hasOwnProperty(o)){let h=t[o];Array.isArray(h)||(h=[h],t[o]=h),h.push(l)}else t[o]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gu(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Ct);const h=this.parseChildren();e[l]=1===Object.keys(h).length?h[Ct]:new de([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Hd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Cf(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Cf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ja(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Ja(t,this._root).map(e=>e.value)}}function Cf(n,t){if(n===t.value)return t;for(const e of t.children){const r=Cf(n,e);if(r)return r}return null}function Ja(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Ja(n,e);if(r.length)return r.unshift(t),r}return[]}class Us{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Xa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Yl extends Hd{constructor(t,e){super(t),this.snapshot=e,vu(this,t)}toString(){return this.snapshot.toString()}}function _u(n,t){const e=function el(n,t){const h=new Hs([],{},{},"",{},Ct,t,null,n.root,-1,{});return new yu("",new Us(h,[]))}(n,t),r=new Hn([new $e("",{})]),o=new Hn({}),l=new Hn({}),h=new Hn({}),g=new Hn(""),b=new tl(r,o,h,g,l,Ct,t,e.root);return b.snapshot=e.root,new Yl(new Us(b,[]),e)}class tl{constructor(t,e,r,o,l,h,g,b){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=g,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(t=>bo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(t=>bo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wf(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],l=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function F_(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Hs{constructor(t,e,r,o,l,h,g,b,D,x,O){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=g,this.routeConfig=b,this._urlSegment=D,this._lastPathIndex=x,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yu extends Hd{constructor(t,e){super(e),this.url=t,vu(this,e)}toString(){return jd(this._root)}}function vu(n,t){t.value._routerState=n,t.children.forEach(e=>vu(n,e))}function jd(n){const t=n.children.length>0?` { ${n.children.map(jd).join(", ")} } `:"";return`${n.value}${t}`}function bu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Yr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Yr(t.params,e.params)||n.params.next(e.params),function Fi(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Yr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Yr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Cu(n,t){const e=Yr(n.params,t.params)&&function Ke(n,t){return mt(n,t)&&n.every((e,r)=>Yr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Cu(n.parent,t.parent))}function Kl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function im(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Kl(n,r,o);return Kl(n,r)})}(n,t,e);return new Us(r,o)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(g=>Kl(n,g)),h}}const r=function sm(n){return new tl(new Hn(n.url),new Hn(n.params),new Hn(n.queryParams),new Hn(n.fragment),new Hn(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(l=>Kl(n,l));return new Us(r,o)}}function Jr(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function js(n){return"object"==typeof n&&null!=n&&n.outlets}function Ql(n,t,e,r,o){let l={};if(r&&Jt(r,(g,b)=>{l[b]=Array.isArray(g)?g.map(D=>`${D}`):`${g}`}),n===t)return new ne(e,l,o);const h=am(n,t,e);return new ne(h,l,o)}function am(n,t,e){const r={};return Jt(n.children,(o,l)=>{r[l]=o===t?e:am(o,t,e)}),new de(n.segments,r)}class Df{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Jr(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(js);if(o&&o!==gi(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wu{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function If(n,t,e){if(n||(n=new de([],{})),0===n.segments.length&&n.hasChildren())return Eu(n,t,e);const r=function lm(n,t,e){let r=0,o=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return l;const h=n.segments[o],g=e[r];if(js(g))break;const b=`${g}`,D=r<e.length-1?e[r+1]:null;if(o>0&&void 0===b)break;if(b&&D&&"object"==typeof D&&void 0===D.outlets){if(!zd(b,D,h))return l;r+=2}else{if(!zd(b,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new de(n.segments.slice(0,r.pathIndex),{});return l.children[Ct]=new de(n.segments.slice(r.pathIndex),n.children),Eu(l,0,o)}return r.match&&0===o.length?new de(n.segments,{}):r.match&&!n.hasChildren()?cm(n,t,e):r.match?Eu(n,0,o):cm(n,t,e)}function Eu(n,t,e){if(0===e.length)return new de(n.segments,{});{const r=function Tf(n){return js(n[0])?n[0].outlets:{[Ct]:n}}(e),o={};return Jt(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=If(n.children[h],t,l))}),Jt(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new de(n.segments,o)}}function cm(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const l=e[o];if(js(l)){const b=ia(l.outlets);return new de(r,b)}if(0===o&&Jr(e[0])){r.push(new $e(n.segments[t].path,Jl(e[0]))),o++;continue}const h=js(l)?l.outlets[Ct]:`${l}`,g=o<e.length-1?e[o+1]:null;h&&g&&Jr(g)?(r.push(new $e(h,Jl(g))),o+=2):(r.push(new $e(h,{})),o++)}return new de(r,{})}function ia(n){const t={};return Jt(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=cm(new de([],{}),0,e))}),t}function Jl(n){const t={};return Jt(n,(e,r)=>t[r]=`${e}`),t}function zd(n,t,e){return n==e.path&&Yr(t,e.parameters)}class Xl{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),bu(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=Xa(e);t.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Jt(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(t,e,r){const o=t.value,l=e?e.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else l&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,l=Xa(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:g})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,l=Xa(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=Xa(e);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new Ni(l.value.snapshot))}),t.children.length&&this.forwardEvent(new Pi(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,l=e?e.value:null;if(bu(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),bu(g.route.value),this.activateChildRoutes(t,null,h.children)}else{const g=function Du(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),b=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}class Tu{constructor(t,e){this.routes=t,this.module=e}}function $s(n){return"function"==typeof n}function nl(n){return n instanceof ne}const Iu=Symbol("INITIAL_VALUE");function Su(){return Cn(n=>Ri(n.map(t=>t.pipe((0,pi.q)(1),Bs(Iu)))).pipe(ki((t,e)=>{let r=!1;return e.reduce((o,l,h)=>o!==Iu?o:(l===Iu&&(r=!0),r||!1!==l&&h!==e.length-1&&!nl(l)?o:l),t)},Iu),er(t=>t!==Iu),(0,yt.U)(t=>nl(t)?t:!0===t),(0,pi.q)(1)))}class Af{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rl,this.attachRef=null}}class rl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Af,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let tc=(()=>{class n{constructor(e,r,o,l,h){this.parentContexts=e,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=l||Ct,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,b=new um(e,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(rl),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class um{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===tl?this.route:t===rl?this.childContexts:this.parent.get(t,e)}}let Mf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&u._UZ(0,"router-outlet")},directives:[tc],encapsulation:2}),n})();function nc(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];il(r,dm(t,r))}}function il(n,t){n.children&&nc(n.children,t)}function dm(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function rc(n){const t=n.children&&n.children.map(rc),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ct&&(e.component=Mf),e}function wr(n){return n.outlet||Ct}function Dn(n,t){const e=n.filter(r=>wr(r)===t);return e.push(...n.filter(r=>wr(r)!==t)),e}const Rf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Au(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Rf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const l=(t.matcher||vf)(e,n,t);if(!l)return Object.assign({},Rf);const h={};Jt(l.posParams,(b,D)=>{h[D]=b.path});const g=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,remainingSegments:e.slice(l.consumed.length),parameters:g,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function sa(n,t,e,r,o="corrected"){if(e.length>0&&function fm(n,t,e){return e.some(r=>To(n,t,r)&&wr(r)!==Ct)}(n,e,r)){const h=new de(t,function hm(n,t,e,r){const o={};o[Ct]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&wr(l)!==Ct){const h=new de([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[wr(l)]=h}return o}(n,t,r,new de(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function pm(n,t,e){return e.some(r=>To(n,t,r))}(n,e,r)){const h=new de(n.segments,function xf(n,t,e,r,o,l){const h={};for(const g of r)if(To(n,e,g)&&!o[wr(g)]){const b=new de([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:t.length,h[wr(g)]=b}return Object.assign(Object.assign({},o),h)}(n,t,e,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const l=new de(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function To(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function kf(n,t,e,r){return!!(wr(n)===r||r!==Ct&&To(t,e,n))&&("**"===n.path||Au(t,n,e).matched)}function Of(n,t,e){return 0===t.length&&!n.children[e]}class qd{constructor(t){this.segmentGroup=t||null}}class sl{constructor(t){this.urlTree=t}}function On(n){return Ls(new qd(n))}function Mu(n){return Ls(new sl(n))}class ol{constructor(t,e,r,o,l){this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(u.h0i)}apply(){const t=sa(this.urlTree.root,[],[],this.config).segmentGroup,e=new de(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ct).pipe((0,yt.U)(l=>this.createUrlTree(ic(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zr(l=>{if(l instanceof sl)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof qd?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ct).pipe((0,yt.U)(o=>this.createUrlTree(ic(o),t.queryParams,t.fragment))).pipe(Zr(o=>{throw o instanceof qd?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const o=t.segments.length>0?new de([],{[Ct]:t}):t;return new ne(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,yt.U)(l=>new de([],l))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,bn.D)(o).pipe(mi(l=>{const h=r.children[l],g=Dn(e,l);return this.expandSegmentGroup(t,g,h,l).pipe((0,yt.U)(b=>({segment:b,outlet:l})))}),ki((l,h)=>(l[h.outlet]=h.segment,l),{}),function rm(n,t){const e=arguments.length>=2;return r=>r.pipe(n?er((o,l)=>n(o,l,r)):qr.y,Za(1),e?Nd(t):Gl(()=>new ls))}())}expandSegment(t,e,r,o,l,h){return(0,bn.D)(r).pipe(mi(g=>this.expandSegmentAgainstRoute(t,e,r,g,o,l,h).pipe(Zr(D=>{if(D instanceof qd)return Qe(null);throw D}))),_o(g=>!!g),Zr((g,b)=>{if(g instanceof ls||"EmptyError"===g.name)return Of(e,o,l)?Qe(new de([],{})):On(e);throw g}))}expandSegmentAgainstRoute(t,e,r,o,l,h,g){return kf(o,e,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,l,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h):On(e):On(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Mu(l):this.lineralizeSegments(r,l).pipe((0,wn.z)(h=>{const g=new de(h,{});return this.expandSegment(t,g,e,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h){const{matched:g,consumedSegments:b,remainingSegments:D,positionalParamSegments:x}=Au(e,o,l);if(!g)return On(e);const O=this.applyRedirectCommands(b,o.redirectTo,x);return o.redirectTo.startsWith("/")?Mu(O):this.lineralizeSegments(o,O).pipe((0,wn.z)(B=>this.expandSegment(t,e,r,B.concat(D),h,!1)))}matchSegmentAgainstRoute(t,e,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Qe(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,yt.U)(O=>(r._loadedConfig=O,new de(o,{})))):Qe(new de(o,{}));const{matched:h,consumedSegments:g,remainingSegments:b}=Au(e,r,o);return h?this.getChildConfig(t,r,o).pipe((0,wn.z)(x=>{const O=x.module,B=x.routes,{segmentGroup:J,slicedSegments:le}=sa(e,g,b,B),Re=new de(J.segments,J.children);if(0===le.length&&Re.hasChildren())return this.expandChildren(O,B,Re).pipe((0,yt.U)(Yt=>new de(g,Yt)));if(0===B.length&&0===le.length)return Qe(new de(g,{}));const He=wr(r)===l;return this.expandSegment(O,Re,B,le,He?Ct:l,!0).pipe((0,yt.U)(wt=>new de(g.concat(wt.segments),wt.children)))})):On(e)}getChildConfig(t,e,r){return e.children?Qe(new Tu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Qe(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,wn.z)(o=>o?this.configLoader.load(t.injector,e).pipe((0,yt.U)(l=>(e._loadedConfig=l,l))):function Ru(n){return Ls(na(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Qe(new Tu([],t))}runCanLoadGuards(t,e,r){const o=e.canLoad;return o&&0!==o.length?Qe(o.map(h=>{const g=t.get(h);let b;if(function B_(n){return n&&$s(n.canLoad)}(g))b=g.canLoad(e,r);else{if(!$s(g))throw new Error("Invalid CanLoad guard");b=g(e,r)}return nr(b)})).pipe(Su(),(0,br.b)(h=>{if(!nl(h))return;const g=na(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,yt.U)(h=>!0===h)):Qe(!0)}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Qe(r);if(o.numberOfChildren>1||!o.children[Ct])return Ls(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));o=o.children[Ct]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,o){const l=this.createSegmentGroup(t,e.root,r,o);return new ne(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Jt(t,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[l]=e[g]}else r[l]=o}),r}createSegmentGroup(t,e,r,o){const l=this.createSegments(t,e.segments,r,o);let h={};return Jt(e.children,(g,b)=>{h[b]=this.createSegmentGroup(t,g,r,o)}),new de(l,h)}createSegments(t,e,r,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,o):this.findOrReturn(l,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}function ic(n){const t={};for(const r of Object.keys(n.children)){const l=ic(n.children[r]);(l.segments.length>0||l.hasChildren())&&(t[r]=l)}return function Yd(n){if(1===n.numberOfChildren&&n.children[Ct]){const t=n.children[Ct];return new de(n.segments.concat(t.segments),t.children)}return n}(new de(n.segments,t))}class Er{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Io{constructor(t,e){this.component=t,this.route=e}}function Kd(n,t,e){const r=n._root;return sc(r,t?t._root:null,e,[r.value])}function oa(n,t,e){const r=function Qd(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function sc(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Xa(t);return n.children.forEach(h=>{(function xu(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=t?t.value:null,g=e?e.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function _m(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!mt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!mt(n.url,t.url)||!Yr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cu(n,t)||!Yr(n.queryParams,t.queryParams);default:return!Cu(n,t)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Er(r)):(l.data=h.data,l._resolvedData=h._resolvedData),sc(n,t,l.component?g?g.children:null:e,r,o),b&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Io(g.outlet.component,h))}else h&&yi(t,g,o),o.canActivateChecks.push(new Er(r)),sc(n,null,l.component?g?g.children:null:e,r,o)})(h,l[h.value.outlet],e,r.concat([h.value]),o),delete l[h.value.outlet]}),Jt(l,(h,g)=>yi(h,e.getContext(g),o)),o}function yi(n,t,e){const r=Xa(n),o=n.value;Jt(r,(l,h)=>{yi(l,o.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Io(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class bm{}function Ui(n){return new en.y(t=>t.error(n))}class Nf{constructor(t,e,r,o,l,h){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const t=sa(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ct);if(null===e)return null;const r=new Hs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Us(r,e),l=new yu(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,r=wf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const l of Object.keys(e.children)){const h=e.children[l],g=Dn(t,l),b=this.processSegmentGroup(g,h,l);if(null===b)return null;r.push(...b)}const o=Lf(r);return function Ff(n){n.sort((t,e)=>t.value.outlet===Ct?-1:e.value.outlet===Ct?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(t,e,r,o){for(const l of t){const h=this.processSegmentAgainstRoute(l,e,r,o);if(null!==h)return h}return Of(e,r,o)?[]:null}processSegmentAgainstRoute(t,e,r,o){if(t.redirectTo||!kf(t,e,r,o))return null;let l,h=[],g=[];if("**"===t.path){const J=r.length>0?gi(r).parameters:{};l=new Hs(r,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(t),wr(t),t.component,t,Vf(e),aa(e)+r.length,f(t))}else{const J=Au(e,t,r);if(!J.matched)return null;h=J.consumedSegments,g=J.remainingSegments,l=new Hs(h,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(t),wr(t),t.component,t,Vf(e),aa(e)+h.length,f(t))}const b=function Cm(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:D,slicedSegments:x}=sa(e,h,g,b.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===x.length&&D.hasChildren()){const J=this.processChildren(b,D);return null===J?null:[new Us(l,J)]}if(0===b.length&&0===x.length)return[new Us(l,[])];const O=wr(t)===o,B=this.processSegment(b,D,x,O?Ct:o);return null===B?null:[new Us(l,B)]}}function eh(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Lf(n){const t=[],e=new Set;for(const r of n){if(!eh(r)){t.push(r);continue}const o=t.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=Lf(r.children);t.push(new Us(r.value,o))}return t.filter(r=>!e.has(r))}function Vf(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function aa(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function _(n){return n.data||{}}function f(n){return n.resolve||{}}function Y(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Pe(n){return Cn(t=>{const e=n(t);return e?(0,bn.D)(e).pipe((0,yt.U)(()=>t)):Qe(t)})}class rt extends class it{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const mn=new u.OlP("ROUTES");class Vr{constructor(t,e,r,o){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,yt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=l.create(t);return new Tu(fu(h.injector.get(mn,void 0,u.XFs.Self|u.XFs.Optional)).map(rc),h)}),Zr(l=>{throw e._loader$=void 0,l}));return e._loader$=new ds(o,()=>new zt.x).pipe(zl()),e._loader$}loadModuleFactory(t){return nr(t()).pipe((0,wn.z)(e=>e instanceof u.YKP?Qe(e):(0,bn.D)(this.compiler.compileModuleAsync(e))))}}class th{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Bf(n){throw n}function la(n,t,e){return t.parse("/")}function ac(n,t){return Qe(null)}const Pu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class n{constructor(e,r,o,l,h,g,b){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zt.x,this.errorHandler=Bf,this.malformedUriErrorHandler=la,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ac,afterPreactivation:ac},this.urlHandlingStrategy=new th,this.routeReuseStrategy=new rt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const O=h.get(u.R0b);this.isNgZoneEnabled=O instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function ql(){return new ne(new de([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vr(h,g,B=>this.triggerEvent(new ur(B)),B=>this.triggerEvent(new ta(B))),this.routerState=_u(this.currentUrlTree,this.rootComponentType),this.transitions=new Hn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(er(o=>0!==o.id),(0,yt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Cn(o=>{let l=!1,h=!1;return Qe(o).pipe((0,br.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Cn(g=>{const b=this.browserUrlTree.toString(),D=!this.navigated||g.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return rh(g.source)&&(this.browserUrlTree=g.extractedUrl),Qe(g).pipe(Cn(O=>{const B=this.transitions.getValue();return r.next(new uu(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),B!==this.transitions.getValue()?fi.E:Promise.resolve(O)}),function mm(n,t,e,r){return Cn(o=>function zn(n,t,e,r,o){return new ol(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,yt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,br.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function m(n,t,e,r,o){return(0,wn.z)(l=>function oc(n,t,e,r,o="emptyOnly",l="legacy"){try{const h=new Nf(n,t,e,r,o,l).recognize();return null===h?Ui(new bm):Qe(h)}catch(h){return Ui(h)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),r,o).pipe((0,yt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,br.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(J,O)}this.browserUrlTree=O.urlAfterRedirects}const B=new ea(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(B)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:J,source:le,restoredState:Re,extras:He}=g,Et=new uu(B,this.serializeUrl(J),le,Re);r.next(Et);const wt=_u(J,this.rootComponentType).snapshot;return Qe(Object.assign(Object.assign({},g),{targetSnapshot:wt,urlAfterRedirects:J,extras:Object.assign(Object.assign({},He),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),fi.E}),Pe(g=>{const{targetSnapshot:b,id:D,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:B,replaceUrl:J}}=g;return this.hooks.beforePreactivation(b,{navigationId:D,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!B,replaceUrl:!!J})}),(0,br.b)(g=>{const b=new Ya(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}),(0,yt.U)(g=>Object.assign(Object.assign({},g),{guards:Kd(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function ku(n,t){return(0,wn.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return 0===h.length&&0===l.length?Qe(Object.assign(Object.assign({},e),{guardsResult:!0})):function ym(n,t,e,r){return(0,bn.D)(n).pipe((0,wn.z)(o=>function Xd(n,t,e,r,o){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?Qe(l.map(g=>{const b=oa(g,t,o);let D;if(function Wd(n){return n&&$s(n.canDeactivate)}(b))D=nr(b.canDeactivate(n,t,e,r));else{if(!$s(b))throw new Error("Invalid CanDeactivate guard");D=nr(b(n,t,e,r))}return D.pipe(_o())})).pipe(Su()):Qe(!0)}(o.component,o.route,e,t,r)),_o(o=>!0!==o,!0))}(h,r,o,n).pipe((0,wn.z)(g=>g&&function Sf(n){return"boolean"==typeof n}(g)?function vm(n,t,e,r){return(0,bn.D)(t).pipe(mi(o=>go(function Pf(n,t){return null!==n&&t&&t(new yo(n)),Qe(!0)}(o.route.parent,r),function Ou(n,t){return null!==n&&t&&t(new fs(n)),Qe(!0)}(o.route,r),function Jd(n,t,e){const r=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(h=>function gm(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>Xo(()=>Qe(h.guards.map(b=>{const D=oa(b,h.node,e);let x;if(function Gd(n){return n&&$s(n.canActivateChild)}(D))x=nr(D.canActivateChild(r,n));else{if(!$s(D))throw new Error("Invalid CanActivateChild guard");x=nr(D(r,n))}return x.pipe(_o())})).pipe(Su())));return Qe(l).pipe(Su())}(n,o.path,e),function Lr(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Qe(!0);const o=r.map(l=>Xo(()=>{const h=oa(l,t,e);let g;if(function ec(n){return n&&$s(n.canActivate)}(h))g=nr(h.canActivate(t,n));else{if(!$s(h))throw new Error("Invalid CanActivate guard");g=nr(h(t,n))}return g.pipe(_o())}));return Qe(o).pipe(Su())}(n,o.route,e))),_o(o=>!0!==o,!0))}(r,l,n,t):Qe(g)),(0,yt.U)(g=>Object.assign(Object.assign({},e),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,br.b)(g=>{if(nl(g.guardsResult)){const D=na(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw D.url=g.guardsResult,D}const b=new du(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(b)}),er(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),Pe(g=>{if(g.guards.canActivateChecks.length)return Qe(g).pipe((0,br.b)(b=>{const D=new Fd(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}),Cn(b=>{let D=!1;return Qe(b).pipe(function v(n,t){return(0,wn.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return Qe(e);let l=0;return(0,bn.D)(o).pipe(mi(h=>function S(n,t,e,r){return function k(n,t,e,r){const o=Y(n);if(0===o.length)return Qe({});const l={};return(0,bn.D)(o).pipe((0,wn.z)(h=>function pe(n,t,e,r){const o=oa(n,t,r);return nr(o.resolve?o.resolve(t,e):o(t,e))}(n[h],t,e,r).pipe((0,br.b)(g=>{l[h]=g}))),Za(1),(0,wn.z)(()=>Y(l).length===o.length?Qe(l):fi.E))}(n._resolve,n,t,r).pipe((0,yt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),wf(n,e).resolve),null)))}(h.route,r,n,t)),(0,br.b)(()=>l++),Za(1),(0,wn.z)(h=>l===o.length?Qe(e):fi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,br.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,br.b)(b=>{const D=new cr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(D)}))}),Pe(g=>{const{targetSnapshot:b,id:D,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:B,replaceUrl:J}}=g;return this.hooks.afterPreactivation(b,{navigationId:D,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!B,replaceUrl:!!J})}),(0,yt.U)(g=>{const b=function Ef(n,t,e){const r=Kl(n,t._root,e?e._root:void 0);return new Yl(r,t)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:b})}),(0,br.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,t,e)=>(0,yt.U)(r=>(new Xl(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,br.b)({next(){l=!0},complete(){l=!0}}),function cu(n){return(0,fn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var g;l||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===o.id&&(this.currentNavigation=null)}),Zr(g=>{if(h=!0,function Co(n){return n&&n[tr]}(g)){const b=nl(g.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const D=new Wl(o.id,this.serializeUrl(o.extractedUrl),g.message);r.next(D),b?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),O={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rh(o.source)};this.scheduleNavigation(x,"imperative",null,O,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new En(o.id,this.serializeUrl(o.extractedUrl),g);r.next(b);try{o.resolve(this.errorHandler(g))}catch(D){o.reject(D)}}return fi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const l={replaceUrl:!0},h=(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null;if(h){const b=Object.assign({},h);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(l.state=b)}const g=this.parseUrl(e.url);this.scheduleNavigation(g,r,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){nc(e),this.config=e.map(rc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:g,preserveFragment:b}=r,D=o||this.routerState.root,x=b?this.currentUrlTree.fragment:h;let O=null;switch(g){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),function om(n,t,e,r,o){if(0===e.length)return Ql(t.root,t.root,t.root,r,o);const l=function L_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Df(!0,0,n);let t=0,e=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return Jt(l.outlets,(b,D)=>{g[D]="string"==typeof b?b.split("/"):b}),[...o,{outlets:g}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((g,b)=>{0==b&&"."===g||(0==b&&""===g?e=!0:".."===g?t++:""!=g&&o.push(g))}),o):[...o,l]},[]);return new Df(e,t,r)}(e);if(l.toRoot())return Ql(t.root,t.root,new de([],{}),r,o);const h=function V_(n,t,e){if(n.isAbsolute)return new wu(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new wu(l,l===t.root,0)}const r=Jr(n.commands[0])?0:1;return function $d(n,t,e){let r=n,o=t,l=e;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new wu(r,!1,o-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,t,n),g=h.processChildren?Eu(h.segmentGroup,h.index,l.commands):If(h.segmentGroup,h.index,l.commands);return Ql(t.root,h.segmentGroup,g,r,o)}(D,this.currentUrlTree,e,O,null!=x?x:null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=nl(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function nh(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?Object.assign({},Pu):!1===r?Object.assign({},Uf):r,nl(e))return wo(this.currentUrlTree,e,o);const l=this.parseUrl(e);return wo(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const l=e[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Oi(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,l,h){var g,b;if(this.disposed)return Promise.resolve(!1);let D,x,O;h?(D=h.resolve,x=h.reject,O=h.promise):O=new Promise((le,Re)=>{D=le,x=Re});const B=++this.navigationId;let J;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),J=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):J=0,this.setTransition({id:B,targetPageId:J,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:D,reject:x,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(le=>Promise.reject(le))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(e,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new Wl(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function rh(n){return"imperative"!==n}let ca=(()=>{class n{constructor(e,r,o){this.router=e,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new zt.x,this.subscription=e.events.subscribe(l=>{l instanceof Oi&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,o,l,h){if(0!==e||r||o||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:ll(this.skipLocationChange),replaceUrl:ll(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ll(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(dr),u.Y36(tl),u.Y36(me))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function ll(n){return""===n||!!n}class Hf{}class jf{preload(t,e){return Qe(null)}}let $_=(()=>{class n{constructor(e,r,o,l){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=new Vr(o,r,b=>e.triggerEvent(new ur(b)),b=>e.triggerEvent(new ta(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(er(e=>e instanceof Oi),mi(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(u.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(e,l)):l.children&&o.push(this.processRoutes(e,l.children));return(0,bn.D)(o).pipe((0,mo.J)(),(0,yt.U)(l=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Qe(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,wn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(dr),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Hf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),wm=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof uu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Oi&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vo&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new vo(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const cl=new u.OlP("ROUTER_CONFIGURATION"),ul=new u.OlP("ROUTER_FORROOT_GUARD"),z_=[Ce,{provide:st,useClass:pn},{provide:dr,useFactory:function Z_(n,t,e,r,o,l,h={},g,b){const D=new dr(null,n,t,e,r,o,fu(l));return g&&(D.urlHandlingStrategy=g),b&&(D.routeReuseStrategy=b),function Dm(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,D),h.enableTracing&&D.events.subscribe(x=>{var O,B;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(B=console.groupEnd)||void 0===B||B.call(console)}),D},deps:[st,rl,Ce,u.zs3,u.Sil,mn,cl,[class al{},new u.FiY],[class Ze{},new u.FiY]]},rl,{provide:tl,useFactory:function Y_(n){return n.routerState.root},deps:[dr]},$_,jf,class j_{preload(t,e){return e().pipe(Zr(()=>Qe(null)))}},{provide:cl,useValue:{enableTracing:!1}}];function G_(){return new u.PXZ("Router",dr)}let W_=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[z_,Em(e),{provide:ul,useFactory:q_,deps:[[dr,new u.FiY,new u.tp0]]},{provide:cl,useValue:r||{}},{provide:me,useFactory:BC,deps:[ce,[new u.tBr(Ue),new u.FiY],cl]},{provide:wm,useFactory:$f,deps:[dr,xl,cl]},{provide:Hf,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:jf},{provide:u.PXZ,multi:!0,useFactory:G_},[Nu,{provide:u.ip1,multi:!0,useFactory:zf,deps:[Nu]},{provide:Gf,useFactory:K_,deps:[Nu]},{provide:u.tb,multi:!0,useExisting:Gf}]]}}static forChild(e){return{ngModule:n,providers:[Em(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ul,8),u.LFG(dr,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function $f(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new wm(n,t,e)}function BC(n,t,e={}){return e.useHash?new Te(n,t):new Ge(n,t)}function q_(n){return"guarded"}function Em(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:mn,multi:!0,useValue:n}]}let Nu=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new zt.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(g=>r=g),l=this.injector.get(dr),h=this.injector.get(cl);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?Qe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(e){const r=this.injector.get(cl),o=this.injector.get($_),l=this.injector.get(wm),h=this.injector.get(dr),g=this.injector.get(u.z2F);e===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function zf(n){return n.appInitializer.bind(n)}function K_(n){return n.bootstrapListener.bind(n)}const Gf=new u.OlP("Router Initializer");let sh=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:9,vars:0,consts:[[1,"banner"],[1,"container"],[1,"header"],[1,"mt-5"],["routerLink","users"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"h2",3),u._uU(4,"Welcome to the Arena"),u.qZA(),u.TgZ(5,"h6"),u._uU(6,"Check the latest scores in the Motor E-Sports world"),u.qZA(),u.TgZ(7,"a",4),u._uU(8,"Get Started"),u.qZA()()())},directives:[ca],styles:[".banner[_ngcontent-%COMP%]{background-image:url(412703.64cc4b4e56f00f8d.jpg);background-size:1520px;height:100%;background-repeat:no-repeat;background-attachment:fixed}.banner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:20px;color:#f0f8ff;font-size:3rem;line-height:1em;text-shadow:2px 2px 2px black}.banner[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:5px;color:#f0f8ff;font-size:1.2rem;line-height:1.2em;letter-spacing:.2em;text-shadow:2px 3px 3px #4d0000}.banner[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f0f8ff;border:5px solid #e20000;border-radius:10px;padding:10px;margin:20px;text-shadow:2px 2px 2px black;background-color:#63636380;text-decoration:none}.banner[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{padding:15px;font-size:1.2rem;cursor:pointer}"]}),n})();function ms(n){return null!=n&&"false"!=`${n}`}function ey(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function So(n){return n instanceof u.SBq?n.nativeElement:n}const oI=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function ty(){return(0,u.f3M)(ae)}}),jC=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Wf,ry=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new u.vpe,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function ny(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?jC.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oI,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();try{Wf="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Wf=!1}let Fu,ua=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Jn(n){return n===Ss}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Wf)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Tm(){if(Fu)return Fu;if("object"!=typeof document||!document)return Fu=new Set(sy),Fu;let n=document.createElement("input");return Fu=new Set(sy.filter(t=>(n.setAttribute("type",t),n.type===t))),Fu}let oh,Lu;function qf(n){return function $C(){if(null==oh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oh=!0}))}finally{oh=oh||!1}return oh}()?n:!!n.capture}function lc(n){return n.composedPath?n.composedPath()[0]:n.target}function Ao(n,t=qr.y){return n=null!=n?n:Jf,(0,fn.e)((e,r)=>{let o,l=!0;e.subscribe((0,sn.x)(r,h=>{const g=t(h);(l||!n(o,g))&&(l=!1,o=g,r.next(h))}))})}function Jf(n,t){return n===t}var Ry=P(5032);function fa(n){return(0,fn.e)((t,e)=>{(0,Vs.Xf)(n).subscribe((0,sn.x)(e,()=>e.complete(),Ry.Z)),!e.closed&&t.subscribe(e)})}function Am(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Ly(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const N0=new u.OlP("cdk-input-modality-detector-options"),tS={ignoreKeys:[18,17,224,91,16]},hl=qf({passive:!0,capture:!0});let L0=(()=>{class n{constructor(e,r,o,l){this._platform=e,this._mostRecentTarget=null,this._modality=new Hn(null),this._lastTouchMs=0,this._onKeydown=h=>{var g,b;(null===(b=null===(g=this._options)||void 0===g?void 0:g.ignoreKeys)||void 0===b?void 0:b.some(D=>D===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=lc(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Am(h)?"keyboard":"mouse"),this._mostRecentTarget=lc(h))},this._onTouchstart=h=>{Ly(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=lc(h))},this._options=Object.assign(Object.assign({},tS),l),this.modalityDetected=this._modality.pipe(function My(n){return er((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Ao()),e.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,hl),o.addEventListener("mousedown",this._onMousedown,hl),o.addEventListener("touchstart",this._onTouchstart,hl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hl),document.removeEventListener("mousedown",this._onMousedown,hl),document.removeEventListener("touchstart",this._onTouchstart,hl))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ua),u.LFG(u.R0b),u.LFG(ae),u.LFG(N0,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nS=new u.OlP("cdk-focus-monitor-default-options"),dh=qf({passive:!0,capture:!0});let By=(()=>{class n{constructor(e,r,o,l,h){this._ngZone=e,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new zt.x,this._rootNodeFocusAndBlurListener=g=>{const b=lc(g),D="focus"===g.type?this._onFocus:this._onBlur;for(let x=b;x;x=x.parentElement)D.call(this,g,x)},this._document=l,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(e,r=!1){const o=So(e);if(!this._platform.isBrowser||1!==o.nodeType)return Qe(null);const l=function oy(n){if(function zs(){if(null==Lu){const n="undefined"!=typeof document?document.head:null;Lu=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Lu}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return r&&(h.checkChildren=!0),h.subject;const g={checkChildren:r,subject:new zt.x,rootNode:l};return this._elementInfo.set(o,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(e){const r=So(e),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(e,r,o){const l=So(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([g,b])=>this._originChanged(g,r,b)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const o=this._elementInfo.get(r),l=lc(e);!o||!o.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),o)}_onBlur(e,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(o.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,dh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,dh)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(fa(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,o){this._setClasses(e,r),this._emitOrigin(o.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((o,l)=>{(l===e||o.checkChildren&&l.contains(e))&&r.push([l,o])}),r}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG(ua),u.LFG(L0),u.LFG(ae,8),u.LFG(nS,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uy="cdk-high-contrast-black-on-white",U0="cdk-high-contrast-white-on-black",tp="cdk-high-contrast-active";let Mm=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(tp),e.remove(Uy),e.remove(U0),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(tp),e.add(Uy)):2===r&&(e.add(tp),e.add(U0))}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ua),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class np{}const ma="*";function dc(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ro(n,t=null){return{type:4,styles:t,timings:n}}function Hy(n,t=null){return{type:2,steps:n,options:t}}function tn(n){return{type:6,styles:n,offset:null}}function hr(n,t,e){return{type:0,name:n,styles:t,options:e}}function Xr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Dr(n){Promise.resolve(null).then(n)}class Gs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Dr(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class hh{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const l=this.players.length;0==l?Dr(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,g)=>Math.max(h,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const xt=!1;function hc(n){return new u.vHH(3e3,xt)}function lS(){return"undefined"!=typeof window&&void 0!==window.document}function km(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _a(n){switch(n.length){case 0:return new Gs;case 1:return n[0];default:return new hh(n)}}function X0(n,t,e,r,o={},l={}){const h=[],g=[];let b=-1,D=null;if(r.forEach(x=>{const O=x.offset,B=O==b,J=B&&D||{};Object.keys(x).forEach(le=>{let Re=le,He=x[le];if("offset"!==le)switch(Re=t.normalizePropertyName(Re,h),He){case"!":He=o[le];break;case ma:He=l[le];break;default:He=t.normalizeStyleValue(le,Re,He,h)}J[Re]=He}),B||g.push(J),D=J,b=O}),h.length)throw function ev(n){return new u.vHH(3502,xt)}();return g}function Om(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&fl(e,"start",n)));break;case"done":n.onDone(()=>r(e&&fl(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&fl(e,"destroy",n)))}}function fl(n,t,e){const r=e.totalTime,l=Pm(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),h=n._data;return null!=h&&(l._data=h),l}function Pm(n,t,e,r,o="",l=0,h){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:l,disabled:!!h}}function Ci(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function nv(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let sp=(n,t)=>!1,fh=(n,t,e)=>[],rv=null;function op(n){const t=n.parentNode||n.host;return t===rv?null:t}(km()||"undefined"!=typeof Element)&&(lS()?(rv=(()=>document.documentElement)(),sp=(n,t)=>{for(;t;){if(t===n)return!0;t=op(t)}return!1}):sp=(n,t)=>n.contains(t),fh=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let fc=null,iv=!1;function sv(n){fc||(fc=function ov(){return"undefined"!=typeof document?document.body:null}()||{},iv=!!fc.style&&"WebkitAppearance"in fc.style);let t=!0;return fc.style&&!function ew(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in fc.style,!t&&iv&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in fc.style)),t}const av=sp,Nm=fh;let ap=(()=>{class n{validateStyleProperty(e){return sv(e)}matchesElement(e,r){return!1}containsElement(e,r){return av(e,r)}getParentElement(e){return op(e)}query(e,r,o){return Nm(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,l,h,g=[],b){return new Gs(o,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),lv=(()=>{class n{}return n.NOOP=new ap,n})();const pc="ng-enter",ph="ng-leave",Wu="ng-trigger",qu=".ng-trigger",uv="ng-animating",Zu=".ng-animating";function ko(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:mh(parseFloat(t[1]),t[2])}function mh(n,t){return"s"===t?1e3*n:n}function Lm(n,t,e){return n.hasOwnProperty("duration")?n:function nw(n,t,e){let o,l=0,h="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return t.push(hc()),{duration:0,delay:0,easing:""};o=mh(parseFloat(g[1]),g[2]);const b=g[3];null!=b&&(l=mh(parseFloat(b),g[4]));const D=g[5];D&&(h=D)}else o=n;if(!e){let g=!1,b=t.length;o<0&&(t.push(function Bu(){return new u.vHH(3100,xt)}()),g=!0),l<0&&(t.push(function Uu(){return new u.vHH(3101,xt)}()),g=!0),g&&t.splice(b,0,hc())}return{duration:o,delay:l,easing:h}}(n,t,e)}function ya(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Oo(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else ya(n,e);return e}function Vm(n,t,e){return e?t+":"+e+";":""}function lp(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=Vm(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Vm(0,fv(e),n.style[e]));n.setAttribute("style",t)}function Ws(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const o=Hm(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[o]),n.style[o]=t[r]}),km()&&lp(n))}function pl(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=Hm(e);n.style[r]=""}),km()&&lp(n))}function mc(n){return Array.isArray(n)?1==n.length?n[0]:Hy(n):n}const Bm=new RegExp("{{\\s*(.+?)\\s*}}","g");function Um(n){let t=[];if("string"==typeof n){let e;for(;e=Bm.exec(n);)t.push(e[1]);Bm.lastIndex=0}return t}function _h(n,t,e){const r=n.toString(),o=r.replace(Bm,(l,h)=>{let g=t[h];return t.hasOwnProperty(h)||(e.push(function ju(n){return new u.vHH(3003,xt)}()),g=""),g.toString()});return o==r?n:o}function Yu(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const hv=/-+([a-z0-9])/g;function Hm(n){return n.replace(hv,(...t)=>t[1].toUpperCase())}function fv(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ei(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function $u(n){return new u.vHH(3004,xt)}()}}function jm(n,t){return window.getComputedStyle(n)[t]}function sw(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ow(n,t,e){if(":"==n[0]){const b=function vv(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function Jy(n){return new u.vHH(3016,xt)}()),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function G0(n){return new u.vHH(3015,xt)}()),t;const o=r[1],l=r[2],h=r[3];t.push(zm(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&t.push(zm(h,o))}(r,e,t)):e.push(n),e}const cp=new Set(["true","1"]),Mn=new Set(["false","0"]);function zm(n,t){const e=cp.has(n)||Mn.has(n),r=cp.has(t)||Mn.has(t);return(o,l)=>{let h="*"==n||n==o,g="*"==t||t==l;return!h&&e&&"boolean"==typeof o&&(h=o?cp.has(n):Mn.has(n)),!g&&r&&"boolean"==typeof l&&(g=l?cp.has(t):Mn.has(t)),h&&g}}const aw=new RegExp("s*:selfs*,?","g");function up(n,t,e,r){return new wv(n).build(t,e,r)}class wv{constructor(t){this._driver=t}build(t,e,r){const o=new lw(e);this._resetContextStyleTimingState(o);const l=ei(this,mc(t),o);return o.unsupportedCSSPropertiesFound.size&&o.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const l=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push(function Gu(){return new u.vHH(3006,xt)}()),t.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const b=g,D=b.name;D.toString().split(/\s*,\s*/).forEach(x=>{b.name=x,l.push(this.visitState(b,e))}),b.name=D}else if(1==g.type){const b=this.visitTransition(g,e);r+=b.queryCount,o+=b.depCount,h.push(b)}else e.errors.push(function $y(){return new u.vHH(3007,xt)}())}),{type:7,name:t.name,states:l,transitions:h,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=o||{};r.styles.forEach(g=>{if(bh(g)){const b=g;Object.keys(b).forEach(D=>{Um(b[D]).forEach(x=>{h.hasOwnProperty(x)||l.add(x)})})}}),l.size&&(Yu(l.values()),e.errors.push(function zy(n,t){return new u.vHH(3008,xt)}()))}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=ei(this,mc(t.animation),e);return{type:1,matchers:sw(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:ml(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>ei(this,r,e)),options:ml(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const l=t.steps.map(h=>{e.currentTime=r;const g=ei(this,h,e);return o=Math.max(o,e.currentTime),g});return e.currentTime=o,{type:3,steps:l,options:ml(t.options)}}visitAnimate(t,e){const r=function uw(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Dv(Lm(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Dv(0,0,"");return l.dynamic=!0,l.strValue=e,l}const o=Lm(e,t);return Dv(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,l=t.styles?t.styles:tn({});if(5==l.type)o=this.visitKeyframes(l,e);else{let h=t.styles,g=!1;if(!h){g=!0;const D={};r.easing&&(D.easing=r.easing),h=tn(D)}e.currentTime+=r.duration+r.delay;const b=this.visitStyle(h,e);b.isEmptyStep=g,o=b}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(h=>{"string"==typeof h?h==ma?r.push(h):e.errors.push(function Gy(n){return new u.vHH(3002,xt)}()):r.push(h)}):r.push(t.styles);let o=!1,l=null;return r.forEach(h=>{if(bh(h)){const g=h,b=g.easing;if(b&&(l=b,delete g.easing),!o)for(let D in g)if(g[D].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;r&&l>0&&(l-=r.duration+r.delay),t.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(g=>{if(!this._driver.validateStyleProperty(g))return delete h[g],void e.unsupportedCSSPropertiesFound.add(g);const b=e.collectedStyles[e.currentQuerySelector],D=b[g];let x=!0;D&&(l!=o&&l>=D.startTime&&o<=D.endTime&&(e.errors.push(function Wy(n,t,e,r,o){return new u.vHH(3010,xt)}()),x=!1),l=D.startTime),x&&(b[g]={startTime:l,endTime:o}),e.options&&function dv(n,t,e){const r=t.params||{},o=Um(n);o.length&&o.forEach(l=>{r.hasOwnProperty(l)||e.push(function Hu(n){return new u.vHH(3001,xt)}())})}(h[g],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function qy(){return new u.vHH(3011,xt)}()),r;let l=0;const h=[];let g=!1,b=!1,D=0;const x=t.steps.map(Et=>{const wt=this._makeStyleAst(Et,e);let Yt=null!=wt.offset?wt.offset:function cw(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(bh(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(bh(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(wt.styles),At=0;return null!=Yt&&(l++,At=wt.offset=Yt),b=b||At<0||At>1,g=g||At<D,D=At,h.push(At),wt});b&&e.errors.push(function Zy(){return new u.vHH(3012,xt)}()),g&&e.errors.push(function Yy(){return new u.vHH(3200,xt)}());const O=t.steps.length;let B=0;l>0&&l<O?e.errors.push(function Ky(){return new u.vHH(3202,xt)}()):0==l&&(B=1/(O-1));const J=O-1,le=e.currentTime,Re=e.currentAnimateTimings,He=Re.duration;return x.forEach((Et,wt)=>{const Yt=B>0?wt==J?1:B*wt:h[wt],At=Yt*He;e.currentTime=le+Re.delay+At,Re.duration=At,this._validateStyleAst(Et,e),Et.offset=Yt,r.styles.push(Et)}),r}visitReference(t,e){return{type:8,animation:ei(this,mc(t.animation),e),options:ml(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ml(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ml(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[l,h]=function Ev(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(aw,"")),n=n.replace(/@\*/g,qu).replace(/@\w+/g,e=>qu+"-"+e.substr(1)).replace(/:animating/g,Zu),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+l:l,Ci(e.collectedStyles,e.currentQuerySelector,{});const g=ei(this,mc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:g,originalSelector:t.selector,options:ml(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function z0(){return new u.vHH(3013,xt)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Lm(t.timings,e.errors,!0);return{type:12,animation:ei(this,mc(t.animation),e),timings:r,options:null}}}class lw{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bh(n){return!Array.isArray(n)&&"object"==typeof n}function ml(n){return n?(n=ya(n)).params&&(n.params=function Ku(n){return n?ya(n):null}(n.params)):n={},n}function Dv(n,t,e){return{duration:n,delay:t,easing:e}}function Ch(n,t,e,r,o,l,h=null,g=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:g}}class Qu{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const hw=new RegExp(":enter","g"),qs=new RegExp(":leave","g");function Hi(n,t,e,r,o,l={},h={},g,b,D=[]){return(new Tv).buildKeyframes(n,t,e,r,o,l,h,g,b,D)}class Tv{buildKeyframes(t,e,r,o,l,h,g,b,D,x=[]){D=D||new Qu;const O=new Gm(t,e,D,o,l,x,[]);O.options=b,O.currentTimeline.setStyles([h],null,O.errors,b),ei(this,r,O);const B=O.timelines.filter(J=>J.containsAnimation());if(Object.keys(g).length){let J;for(let le=B.length-1;le>=0;le--){const Re=B[le];if(Re.element===e){J=Re;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([g],null,O.errors,b)}return B.length?B.map(J=>J.buildKeyframes()):[Ch(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(t.options),l=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);l!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let l=e.currentTimeline.currentTime;const h=null!=r.duration?ko(r.duration):null,g=null!=r.delay?ko(r.delay):null;return 0!==h&&t.forEach(b=>{const D=e.appendInstructionToTimeline(b,h,g);l=Math.max(l,D.duration+D.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),ei(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const l=t.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=wh);const h=ko(l.delay);o.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>ei(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?ko(t.options.delay):0;t.steps.forEach(h=>{const g=e.createSubContext(t.options);l&&g.delayNextStep(l),ei(this,h,g),o=Math.max(o,g.currentTimeline.currentTime),r.push(g.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Lm(e.params?_h(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(r.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(l):r.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,l=r.duration,g=e.createSubContext().currentTimeline;g.easing=r.easing,t.styles.forEach(b=>{g.forwardTime((b.offset||0)*l),g.setStyles(b.styles,b.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(o+l),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},l=o.delay?ko(o.delay):0;l&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=wh);let h=r;const g=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=g.length;let b=null;g.forEach((D,x)=>{e.currentQueryIndex=x;const O=e.createSubContext(t.options,D);l&&O.delayNextStep(l),D===e.element&&(b=O.currentTimeline),ei(this,t.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,l=t.timings,h=Math.abs(l.duration),g=h*(e.currentQueryTotal-1);let b=h*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":b=g-b;break;case"full":b=r.currentStaggerTime}const x=e.currentTimeline;b&&x.delayNextStep(b);const O=x.currentTime;ei(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-O+(o.startTime-r.currentTimeline.startTime)}}const wh={};class Gm{constructor(t,e,r,o,l,h,g,b){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new dp(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=ko(r.duration)),null!=r.delay&&(o.delay=ko(r.delay));const l=r.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(g=>{(!e||!h.hasOwnProperty(g))&&(h[g]=_h(l[g],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,l=new Gm(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=wh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},l=new fw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,l,h){let g=[];if(o&&g.push(this.element),t.length>0){t=(t=t.replace(hw,"."+this._enterClassName)).replace(qs,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),g.push(...D)}return!l&&0==g.length&&h.push(function Qy(n){return new u.vHH(3014,xt)}()),g}}class dp{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new dp(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ma,this._currentKeyframe[e]=ma}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){e&&(this._previousKeyframe.easing=e);const l=o&&o.params||{},h=function Wm(n,t){const e={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(t),r.forEach(l=>{e[l]=ma})):Oo(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(h).forEach(g=>{const b=_h(h[g],l,r);this._pendingStyles[g]=b,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:ma),this._updateStyle(g,b)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],o=t._styleSummary[e];(!r||o.time>r.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,b)=>{const D=Oo(g,!0);Object.keys(D).forEach(x=>{const O=D[x];"!"==O?t.add(x):O==ma&&e.add(x)}),r||(D.offset=b/this.duration),o.push(D)});const l=t.size?Yu(t.values()):[],h=e.size?Yu(e.values()):[];if(r){const g=o[0],b=ya(g);g.offset=0,b.offset=1,o=[g,b]}return Ch(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class fw extends dp{constructor(t,e,r,o,l,h,g=!1){super(t,e,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],h=r+e,g=e/h,b=Oo(t[0],!1);b.offset=0,l.push(b);const D=Oo(t[0],!1);D.offset=Iv(g),l.push(D);const x=t.length-1;for(let O=1;O<=x;O++){let B=Oo(t[O],!1);B.offset=Iv((e+B.offset*r)/h),l.push(B)}r=h,e=0,o="",t=l}return Ch(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function Iv(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class qm{}class mw extends qm{normalizePropertyName(t,e){return Hm(t)}normalizeStyleValue(t,e,r,o){let l="";const h=r.toString().trim();if(Sv[e]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const g=r.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(function zu(n,t){return new u.vHH(3005,xt)}())}return h+l}}const Sv=(()=>function Av(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Eh(n,t,e,r,o,l,h,g,b,D,x,O,B){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:l,toState:r,toStyles:h,timelines:g,queriedElements:b,preStyleProps:D,postStyleProps:x,totalTime:O,errors:B}}const Zm={};class Ym{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function Mv(n,t,e,r,o){return n.some(l=>l(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){const o=this._stateStyles["*"],l=this._stateStyles[t],h=o?o.buildStyles(e,r):{};return l?l.buildStyles(e,r):h}build(t,e,r,o,l,h,g,b,D,x){const O=[],B=this.ast.options&&this.ast.options.params||Zm,le=this.buildStyles(r,g&&g.params||Zm,O),Re=b&&b.params||Zm,He=this.buildStyles(o,Re,O),Et=new Set,wt=new Map,Yt=new Map,At="void"===o,Sr={params:Object.assign(Object.assign({},B),Re)},Ur=x?[]:Hi(t,e,this.ast.animation,l,h,le,He,Sr,D,O);let Wi=0;if(Ur.forEach(Bc=>{Wi=Math.max(Bc.duration+Bc.delay,Wi)}),O.length)return Eh(e,this._triggerName,r,o,At,le,He,[],[],wt,Yt,Wi,O);Ur.forEach(Bc=>{const Uc=Bc.element,Mx=Ci(wt,Uc,{});Bc.preStyleProps.forEach(rf=>Mx[rf]=!0);const O_=Ci(Yt,Uc,{});Bc.postStyleProps.forEach(rf=>O_[rf]=!0),Uc!==e&&Et.add(Uc)});const Vc=Yu(Et.values());return Eh(e,this._triggerName,r,o,At,le,He,Ur,Vc,wt,Yt,Wi)}}class Km{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},o=ya(this.defaultParams);return Object.keys(t).forEach(l=>{const h=t[l];null!=h&&(o[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(g=>{let b=h[g];b.length>1&&(b=_h(b,o,e));const D=this.normalizer.normalizePropertyName(g,e);b=this.normalizer.normalizeStyleValue(g,D,b,e),r[D]=b})}}),r}}class Rv{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new Km(o.style,o.options&&o.options.params||{},r)}),Qm(this.states,"true","1"),Qm(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new Ym(t,o,this.states))}),this.fallbackTransition=function xv(n,t,e){return new Ym(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(h=>h.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function Qm(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const kv=new Qu;class Ov{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],l=up(this._driver,e,r,[]);if(r.length)throw function Z0(n){return new u.vHH(3503,xt)}();this._animations[t]=l}_buildPlayer(t,e,r){const o=t.element,l=X0(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],l=this._animations[t];let h;const g=new Map;if(l?(h=Hi(this._driver,e,l,pc,ph,{},{},r,kv,o),h.forEach(x=>{const O=Ci(g,x.element,{});x.postStyleProps.forEach(B=>O[B]=null)})):(o.push(function tv(){return new u.vHH(3300,xt)}()),h=[]),o.length)throw function Y0(n){return new u.vHH(3504,xt)}();g.forEach((x,O)=>{Object.keys(x).forEach(B=>{x[B]=this._driver.computeStyle(O,B,ma)})});const D=_a(h.map(x=>{const O=g.get(x.element);return this._buildPlayer(x,{},O)}));return this._playersById[t]=D,D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function K0(n){return new u.vHH(3301,xt)}();return e}listen(t,e,r,o){const l=Pm(e,"","","");return Om(this._getPlayer(t),r,l,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const l=this._getPlayer(t);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const Jm="ng-animate-queued",pp="ng-animate-disabled",vw=[],Nv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_s="__ng_removed";class Xm{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function Dw(n){return null!=n?n:null}(r?t.value:t),r){const l=ya(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const Dh="void",eg=new Xm(Dh);class Cw{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ji(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.hasOwnProperty(e))throw function oS(n,t){return new u.vHH(3302,xt)}();if(null==r||0==r.length)throw function Q0(n){return new u.vHH(3303,xt)}();if(!function Tw(n){return"start"==n||"done"==n}(r))throw function Rm(n,t){return new u.vHH(3400,xt)}();const l=Ci(this._elementListeners,t,[]),h={name:e,phase:r,callback:o};l.push(h);const g=Ci(this._engine.statesByElement,t,{});return g.hasOwnProperty(e)||(ji(t,Wu),ji(t,Wu+"-"+e),g[e]=eg),()=>{this._engine.afterFlush(()=>{const b=l.indexOf(h);b>=0&&l.splice(b,1),this._triggers[e]||delete g[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function xm(n){return new u.vHH(3401,xt)}();return e}trigger(t,e,r,o=!0){const l=this._getTrigger(e),h=new tg(this.id,e,t);let g=this._engine.statesByElement.get(t);g||(ji(t,Wu),ji(t,Wu+"-"+e),this._engine.statesByElement.set(t,g={}));let b=g[e];const D=new Xm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&D.absorbOptions(b.options),g[e]=D,b||(b=eg),D.value!==Dh&&b.value===D.value){if(!function Bv(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(b.params,D.params)){const Re=[],He=l.matchStyles(b.value,b.params,Re),Et=l.matchStyles(D.value,D.params,Re);Re.length?this._engine.reportError(Re):this._engine.afterFlush(()=>{pl(t,He),Ws(t,Et)})}return}const B=Ci(this._engine.playersByElement,t,[]);B.forEach(Re=>{Re.namespaceId==this.id&&Re.triggerName==e&&Re.queued&&Re.destroy()});let J=l.matchTransition(b.value,D.value,t,D.params),le=!1;if(!J){if(!o)return;J=l.fallbackTransition,le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:J,fromState:b,toState:D,player:h,isFallbackTransition:le}),le||(ji(t,Jm),h.onStart(()=>{gc(t,Jm)})),h.onDone(()=>{let Re=this.players.indexOf(h);Re>=0&&this.players.splice(Re,1);const He=this._engine.playersByElement.get(t);if(He){let Et=He.indexOf(h);Et>=0&&He.splice(Et,1)}}),this.players.push(h),B.push(h),h}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,qu,!0);r.forEach(o=>{if(o[_s])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const l=this._engine.statesByElement.get(t),h=new Map;if(l){const g=[];if(Object.keys(l).forEach(b=>{if(h.set(b,l[b].value),this._triggers[b]){const D=this.trigger(t,b,Dh,o);D&&g.push(D)}}),g.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,h),r&&_a(g).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const b=this._triggers[h].fallbackTransition,D=r[h]||eg,x=new Xm(Dh),O=new tg(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:b,fromState:D,toState:x,player:O,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(t):[];if(l&&l.length)o=!0;else{let h=t;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const l=t[_s];(!l||l===Nv)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){ji(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(g=>{if(g.name==r.triggerName){const b=Pm(l,r.triggerName,r.fromState.value,r.toState.value);b._data=t,Om(r.player,g.phase,b,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const l=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class ww{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new Cw(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,o=this.namespacesByHostElement,l=r.length-1;if(l>=0){let h=!1;if(void 0!==this.driver.getParentElement){let g=this.driver.getParentElement(e);for(;g;){const b=o.get(g);if(b){const D=r.indexOf(b);r.splice(D+1,0,t),h=!0;break}g=this.driver.getParentElement(g)}}else for(let g=l;g>=0;g--)if(this.driver.containsElement(r[g].hostElement,e)){r.splice(g+1,0,t),h=!0;break}h||r.unshift(t)}else r.push(t);return o.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const o=Object.keys(r);for(let l=0;l<o.length;l++){const h=r[o[l]].namespaceId;if(h){const g=this._fetchNamespace(h);g&&e.add(g)}}}return e}trigger(t,e,r,o){if(mp(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!mp(e))return;const l=e[_s];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ji(t,pp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),gc(t,pp))}removeNode(t,e,r,o){if(mp(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o,l){this.collectedLeaveElements.push(e),e[_s]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,r,o,l){return mp(e)?this._fetchNamespace(t).listen(e,r,o,l):()=>{}}_buildInstruction(t,e,r,o,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,qu,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Zu,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _a(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[_s];if(r&&r.setForRemoval){if(t[_s]=Nv,r.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(pp))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ji(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?_a(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function J0(n){return new u.vHH(3402,xt)}()}_flushAnimations(t,e){const r=new Qu,o=[],l=new Map,h=[],g=new Map,b=new Map,D=new Map,x=new Set;this.disabledNodes.forEach(Xe=>{x.add(Xe);const pt=this.driver.query(Xe,".ng-animate-queued",!0);for(let vt=0;vt<pt.length;vt++)x.add(pt[vt])});const O=this.bodyNode,B=Array.from(this.statesByElement.keys()),J=rg(B,this.collectedEnterElements),le=new Map;let Re=0;J.forEach((Xe,pt)=>{const vt=pc+Re++;le.set(pt,vt),Xe.forEach(Wt=>ji(Wt,vt))});const He=[],Et=new Set,wt=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const pt=this.collectedLeaveElements[Xe],vt=pt[_s];vt&&vt.setForRemoval&&(He.push(pt),Et.add(pt),vt.hasAnimation?this.driver.query(pt,".ng-star-inserted",!0).forEach(Wt=>Et.add(Wt)):wt.add(pt))}const Yt=new Map,At=rg(B,Array.from(Et));At.forEach((Xe,pt)=>{const vt=ph+Re++;Yt.set(pt,vt),Xe.forEach(Wt=>ji(Wt,vt))}),t.push(()=>{J.forEach((Xe,pt)=>{const vt=le.get(pt);Xe.forEach(Wt=>gc(Wt,vt))}),At.forEach((Xe,pt)=>{const vt=Yt.get(pt);Xe.forEach(Wt=>gc(Wt,vt))}),He.forEach(Xe=>{this.processLeaveNode(Xe)})});const Sr=[],Ur=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(e).forEach(vt=>{const Wt=vt.player,Hr=vt.element;if(Sr.push(Wt),this.collectedEnterElements.length){const qi=Hr[_s];if(qi&&qi.setForMove){if(qi.previousTriggersValues&&qi.previousTriggersValues.has(vt.triggerName)){const sf=qi.previousTriggersValues.get(vt.triggerName),Md=this.statesByElement.get(vt.element);Md&&Md[vt.triggerName]&&(Md[vt.triggerName].value=sf)}return void Wt.destroy()}}const Il=!O||!this.driver.containsElement(O,Hr),eo=Yt.get(Hr),Ad=le.get(Hr),Nn=this._buildInstruction(vt,r,Ad,eo,Il);if(Nn.errors&&Nn.errors.length)return void Ur.push(Nn);if(Il)return Wt.onStart(()=>pl(Hr,Nn.fromStyles)),Wt.onDestroy(()=>Ws(Hr,Nn.toStyles)),void o.push(Wt);if(vt.isFallbackTransition)return Wt.onStart(()=>pl(Hr,Nn.fromStyles)),Wt.onDestroy(()=>Ws(Hr,Nn.toStyles)),void o.push(Wt);const kx=[];Nn.timelines.forEach(qi=>{qi.stretchStartingKeyframe=!0,this.disabledNodes.has(qi.element)||kx.push(qi)}),Nn.timelines=kx,r.append(Hr,Nn.timelines),h.push({instruction:Nn,player:Wt,element:Hr}),Nn.queriedElements.forEach(qi=>Ci(g,qi,[]).push(Wt)),Nn.preStyleProps.forEach((qi,sf)=>{const Md=Object.keys(qi);if(Md.length){let af=b.get(sf);af||b.set(sf,af=new Set),Md.forEach(iI=>af.add(iI))}}),Nn.postStyleProps.forEach((qi,sf)=>{const Md=Object.keys(qi);let af=D.get(sf);af||D.set(sf,af=new Set),Md.forEach(iI=>af.add(iI))})});if(Ur.length){const Xe=[];Ur.forEach(pt=>{Xe.push(function aS(n,t){return new u.vHH(3505,xt)}())}),Sr.forEach(pt=>pt.destroy()),this.reportError(Xe)}const Wi=new Map,Vc=new Map;h.forEach(Xe=>{const pt=Xe.element;r.has(pt)&&(Vc.set(pt,pt),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,Wi))}),o.forEach(Xe=>{const pt=Xe.element;this._getPreviousPlayers(pt,!1,Xe.namespaceId,Xe.triggerName,null).forEach(Wt=>{Ci(Wi,pt,[]).push(Wt),Wt.destroy()})});const Bc=He.filter(Xe=>sg(Xe,b,D)),Uc=new Map;ng(Uc,this.driver,wt,D,ma).forEach(Xe=>{sg(Xe,b,D)&&Bc.push(Xe)});const O_=new Map;J.forEach((Xe,pt)=>{ng(O_,this.driver,new Set(Xe),b,"!")}),Bc.forEach(Xe=>{const pt=Uc.get(Xe),vt=O_.get(Xe);Uc.set(Xe,Object.assign(Object.assign({},pt),vt))});const rf=[],Rx=[],xx={};h.forEach(Xe=>{const{element:pt,player:vt,instruction:Wt}=Xe;if(r.has(pt)){if(x.has(pt))return vt.onDestroy(()=>Ws(pt,Wt.toStyles)),vt.disabled=!0,vt.overrideTotalTime(Wt.totalTime),void o.push(vt);let Hr=xx;if(Vc.size>1){let eo=pt;const Ad=[];for(;eo=eo.parentNode;){const Nn=Vc.get(eo);if(Nn){Hr=Nn;break}Ad.push(eo)}Ad.forEach(Nn=>Vc.set(Nn,Hr))}const Il=this._buildAnimation(vt.namespaceId,Wt,Wi,l,O_,Uc);if(vt.setRealPlayer(Il),Hr===xx)rf.push(vt);else{const eo=this.playersByElement.get(Hr);eo&&eo.length&&(vt.parentPlayer=_a(eo)),o.push(vt)}}else pl(pt,Wt.fromStyles),vt.onDestroy(()=>Ws(pt,Wt.toStyles)),Rx.push(vt),x.has(pt)&&o.push(vt)}),Rx.forEach(Xe=>{const pt=l.get(Xe.element);if(pt&&pt.length){const vt=_a(pt);Xe.setRealPlayer(vt)}}),o.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<He.length;Xe++){const pt=He[Xe],vt=pt[_s];if(gc(pt,ph),vt&&vt.hasAnimation)continue;let Wt=[];if(g.size){let Il=g.get(pt);Il&&Il.length&&Wt.push(...Il);let eo=this.driver.query(pt,Zu,!0);for(let Ad=0;Ad<eo.length;Ad++){let Nn=g.get(eo[Ad]);Nn&&Nn.length&&Wt.push(...Nn)}}const Hr=Wt.filter(Il=>!Il.destroyed);Hr.length?Lv(this,pt,Hr):this.processLeaveNode(pt)}return He.length=0,rf.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const pt=this.players.indexOf(Xe);this.players.splice(pt,1)}),Xe.play()}),rf}elementContainsData(t,e){let r=!1;const o=e[_s];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,l){let h=[];if(e){const g=this.playersByQueriedElement.get(t);g&&(h=g)}else{const g=this.playersByElement.get(t);if(g){const b=!l||l==Dh;g.forEach(D=>{D.queued||!b&&D.triggerName!=o||h.push(D)})}}return(r||o)&&(h=h.filter(g=>!(r&&r!=g.namespaceId||o&&o!=g.triggerName))),h}_beforeAnimationBuild(t,e,r){const l=e.element,h=e.isRemovalTransition?void 0:t,g=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const D=b.element,x=D!==l,O=Ci(r,D,[]);this._getPreviousPlayers(D,x,h,g,e.toState).forEach(J=>{const le=J.getRealPlayer();le.beforeDestroy&&le.beforeDestroy(),J.destroy(),O.push(J)})}pl(l,e.fromStyles)}_buildAnimation(t,e,r,o,l,h){const g=e.triggerName,b=e.element,D=[],x=new Set,O=new Set,B=e.timelines.map(le=>{const Re=le.element;x.add(Re);const He=Re[_s];if(He&&He.removedBeforeQueried)return new Gs(le.duration,le.delay);const Et=Re!==b,wt=function Vv(n){const t=[];return ig(n,t),t}((r.get(Re)||vw).map(Wi=>Wi.getRealPlayer())).filter(Wi=>!!Wi.element&&Wi.element===Re),Yt=l.get(Re),At=h.get(Re),Sr=X0(0,this._normalizer,0,le.keyframes,Yt,At),Ur=this._buildPlayer(le,Sr,wt);if(le.subTimeline&&o&&O.add(Re),Et){const Wi=new tg(t,g,Re);Wi.setRealPlayer(Ur),D.push(Wi)}return Ur});D.forEach(le=>{Ci(this.playersByQueriedElement,le.element,[]).push(le),le.onDone(()=>function Ew(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,le.element,le))}),x.forEach(le=>ji(le,uv));const J=_a(B);return J.onDestroy(()=>{x.forEach(le=>gc(le,uv)),Ws(b,e.toStyles)}),O.forEach(le=>{Ci(o,le,[]).push(J)}),J}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Gs(t.duration,t.delay)}}class tg{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Gs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>Om(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ci(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function mp(n){return n&&1===n.nodeType}function Fv(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function ng(n,t,e,r,o){const l=[];e.forEach(b=>l.push(Fv(b)));const h=[];r.forEach((b,D)=>{const x={};b.forEach(O=>{const B=x[O]=t.computeStyle(D,O,o);(!B||0==B.length)&&(D[_s]=bw,h.push(D))}),n.set(D,x)});let g=0;return e.forEach(b=>Fv(b,l[g++])),h}function rg(n,t){const e=new Map;if(n.forEach(g=>e.set(g,[])),0==t.length)return e;const o=new Set(t),l=new Map;function h(g){if(!g)return 1;let b=l.get(g);if(b)return b;const D=g.parentNode;return b=e.has(D)?D:o.has(D)?1:h(D),l.set(g,b),b}return t.forEach(g=>{const b=h(g);1!==b&&e.get(b).push(g)}),e}function ji(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function gc(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Lv(n,t,e){_a(e).onDone(()=>n.processLeaveNode(t))}function ig(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof hh?ig(r.players,t):t.push(r)}}function sg(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(l=>o.add(l)):t.set(n,r),e.delete(n),!0}class Ju{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new ww(t,e,r),this._timelineEngine=new Ov(t,e,r),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(t,e,r,o,l){const h=t+"-"+o;let g=this._triggerCache[h];if(!g){const b=[],x=up(this._driver,l,b,[]);if(b.length)throw function q0(n,t){return new u.vHH(3404,xt)}();g=function fp(n,t,e){return new Rv(n,t,e)}(o,x,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(e,o,g)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[l,h]=nv(r);this._timelineEngine.command(l,e,h,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,l){if("@"==r.charAt(0)){const[h,g]=nv(r);return this._timelineEngine.listen(h,e,g,l)}return this._transitionEngine.listen(t,e,r,o,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _c=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Ws(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ws(this._element,this._initialStyles),this._endStyles&&(Ws(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pl(this._element,this._endStyles),this._endStyles=null),Ws(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function og(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const o=e[r];Iw(o)&&(t=t||{},t[o]=n[o])}return t}function Iw(n){return"display"===n||"position"===n}class yc{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:jm(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class dS{validateStyleProperty(t){return sv(t)}matchesElement(t,e){return!1}containsElement(t,e){return av(t,e)}getParentElement(t){return op(t)}query(t,e,r){return Nm(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,o,l,h=[]){const b={duration:r,delay:o,fill:0==o?"both":"forwards"};l&&(b.easing=l);const D={},x=h.filter(B=>B instanceof yc);(function pv(n,t){return 0===n||0===t})(r,o)&&x.forEach(B=>{let J=B.currentSnapshot;Object.keys(J).forEach(le=>D[le]=J[le])}),e=function mv(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let l=t[0],h=[];if(r.forEach(g=>{l.hasOwnProperty(g)||h.push(g),l[g]=e[g]}),h.length)for(var o=1;o<t.length;o++){let g=t[o];h.forEach(function(b){g[b]=jm(n,b)})}}return t}(t,e=e.map(B=>Oo(B,!1)),D);const O=function Uv(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=og(t[0]),t.length>1&&(r=og(t[t.length-1]))):t&&(e=og(t)),e||r?new _c(n,e,r):null}(t,e);return new yc(t,e,b,O)}}let ag=(()=>{class n extends np{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?Hy(e):e;return lg(this._renderer,null,r,"register",[o]),new hS(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class hS extends class H0{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Hv(this._id,t,e||{},this._renderer)}}class Hv{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return lg(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function lg(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const ut="@.disabled";let Sw=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{const g=null==h?void 0:h.parentNode(l);g&&h.removeChild(g,l)}}createRenderer(e,r){const l=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(l);return x||(x=new jv("",l,this.engine),this._rendererCache.set(l,x)),x}const h=r.id,g=r.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const b=x=>{Array.isArray(x)?x.forEach(b):this.engine.registerTrigger(h,g,e,x.name,x)};return r.data.animation.forEach(b),new Aw(this,g,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,g]=l;h(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(Ju),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class jv{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==ut?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Aw extends jv{constructor(t,e,r,o){super(e,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ut?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const o=function gp(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function Mw(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,r,g)})}return this.delegate.listen(t,e,r)}}let _p=(()=>{class n extends Ju{constructor(e,r,o){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ae),u.LFG(lv),u.LFG(qm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const vp=new u.OlP("AnimationModuleType"),ug=[{provide:np,useClass:ag},{provide:qm,useFactory:function yp(){return new mw}},{provide:Ju,useClass:_p},{provide:u.FYo,useFactory:function Rn(n,t,e){return new Sw(n,t,e)},deps:[Rs,Ju,u.R0b]}],$v=[{provide:lv,useFactory:()=>new dS},{provide:vp,useValue:"BrowserAnimations"},...ug],Rw=[{provide:lv,useClass:ap},{provide:vp,useValue:"NoopAnimations"},...ug];let zv=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Rw:$v}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:$v,imports:[lo]}),n})();const bp=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Fw(){return!0}});let ys=(()=>{class n{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function da(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Mm),u.LFG(bp,8),u.LFG(ae))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[vi],vi]}),n})();function ed(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ms(t)}}}function td(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Bw(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ms(t)}}}function Uw(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new zt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==t&&(this.errorState=l,this.stateChanges.next())}}}function Gv(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new en.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let Th=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zw{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qv={enterDuration:225,exitDuration:150},dg=qf({passive:!0}),Zv=["mousedown","touchstart"],hg=["mouseup","mouseleave","touchend","touchcancel"];class Ww{constructor(t,e,r,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=So(r))}fadeInRipple(t,e,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},qv),r.animation);r.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const h=r.radius||function rd(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+o*o)}(t,e,o),g=t-o.left,b=e-o.top,D=l.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=g-h+"px",x.style.top=b-h+"px",x.style.height=2*h+"px",x.style.width=2*h+"px",null!=r.color&&(x.style.backgroundColor=r.color),x.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(x),function qw(n){window.getComputedStyle(n).getPropertyValue("opacity")}(x),x.style.transform="scale(1)";const O=new zw(this,x,r);return O.state=0,this._activeRipples.add(O),r.persistent||(this._mostRecentTransientRipple=O),this._runTimeoutOutsideZone(()=>{const B=O===this._mostRecentTransientRipple;O.state=1,!r.persistent&&(!B||!this._isPointerDown)&&O.fadeOut()},D),O}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,o=Object.assign(Object.assign({},qv),t.config.animation);r.style.transitionDuration=`${o.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=So(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Zv))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hg),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Am(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ly(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,dg)})})}_removeTriggerEvents(){this._triggerElement&&(Zv.forEach(t=>{this._triggerElement.removeEventListener(t,this,dg)}),this._pointerUpEventsRegistered&&hg.forEach(t=>{this._triggerElement.removeEventListener(t,this,dg)}))}}const Zw=new u.OlP("mat-ripple-global-options");let fg=(()=>{class n{constructor(e,r,o,l,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new Ww(this,r,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(ua),u.Y36(Zw,8),u.Y36(vp,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Yw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ys],ys]}),n})();const sE=new u.OlP("MAT_SORT_DEFAULT_OPTIONS"),oE=Gv(ed(class{}));let Qv=(()=>{class n extends oE{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new zt.x,this.start="asc",this._direction="",this.sortChange=new u.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=ms(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var r,o,l;if(!e)return"";const h=null!==(o=null!==(r=null==e?void 0:e.disableClear)&&void 0!==r?r:this.disableClear)&&void 0!==o?o:!!(null===(l=this._defaultOptions)||void 0===l?void 0:l.disableClear);let g=function mg(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,h),b=g.indexOf(this.direction)+1;return b>=g.length&&(b=0),g[b]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(sE,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[u.qOj,u.TTD]}),n})();function gg(n){return n&&"function"==typeof n.connect}class tb{applyChanges(t,e,r,o,l){t.forEachOperation((h,g,b)=>{let D,x;if(null==h.previousIndex){const O=r(h,g,b);D=e.createEmbeddedView(O.templateRef,O.context,O.index),x=1}else null==b?(e.remove(g),x=3):(D=e.get(g),e.move(D,b),x=2);l&&l({context:null==D?void 0:D.context,operation:x,record:h})})}detach(){}}const id=new u.OlP("_ViewRepeater");var nb=P(4408);const _l={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=_l;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const o=t(l=>{e=void 0,n(l)});return new us.w0(()=>null==e?void 0:e(o))},requestAnimationFrame(...n){const{delegate:t}=_l;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=_l;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var vc=P(7565);new class Ih extends vc.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;t=t||r.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw o}}}(class uE extends nb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=_l.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(o=>o.id===e)||(_l.cancelAnimationFrame(e),t._scheduled=void 0)}});let yg,rb=1;const wp={};function ib(n){return n in wp&&(delete wp[n],!0)}const hE={setImmediate(n){const t=rb++;return wp[t]=!0,yg||(yg=Promise.resolve()),yg.then(()=>ib(t)&&n()),t},clearImmediate(n){ib(n)}},{setImmediate:sb,clearImmediate:vg}=hE,bc={setImmediate(...n){const{delegate:t}=bc;return((null==t?void 0:t.setImmediate)||sb)(...n)},clearImmediate(n){const{delegate:t}=bc;return((null==t?void 0:t.clearImmediate)||vg)(n)},delegate:void 0};new class pE extends vc.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;t=t||r.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw o}}}(class Sh extends nb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=bc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(o=>o.id===e)||(bc.clearImmediate(e),t._scheduled=void 0)}});var Ep=P(4986),bg=P(3532);function yE(n,t=Ep.z){return function gE(n){return(0,fn.e)((t,e)=>{let r=!1,o=null,l=null,h=!1;const g=()=>{if(null==l||l.unsubscribe(),l=null,r){r=!1;const D=o;o=null,e.next(D)}h&&e.complete()},b=()=>{l=null,h&&e.complete()};t.subscribe((0,sn.x)(e,D=>{r=!0,o=D,l||(0,Vs.Xf)(n(D)).subscribe(l=(0,sn.x)(e,g,b))},()=>{h=!0,(!r||!l||l.closed)&&e.complete()}))})}(()=>function US(n=0,t,e=Ep.P){let r=-1;return null!=t&&((0,bg.K)(t)?e=t:r=t),new en.y(o=>{let l=function _E(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=r?this.schedule(void 0,r):o.complete())},l)})}(n,t))}let ab=(()=>{class n{constructor(e,r,o){this._platform=e,this._change=new zt.x,this._changeListener=l=>{this._change.next(l)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,left:-l.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(yE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ua),u.LFG(u.R0b),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),wE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[vi,cb],vi,cb]}),n})();const EE=[[["caption"]],[["colgroup"],["col"]]],DE=["caption","colgroup, col"];function Cc(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=ms(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const wc=new u.OlP("CDK_TABLE");let Ec=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Dc=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Rh=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class SE{}const AE=Cc(SE);let va=(()=>{class n extends AE{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const r=this._stickyEnd;this._stickyEnd=ms(e),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(wc,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,r,o){if(1&e&&(u.Suo(o,Ec,5),u.Suo(o,Dc,5),u.Suo(o,Rh,5)),2&e){let l;u.iGM(l=u.CRH())&&(r.cell=l.first),u.iGM(l=u.CRH())&&(r.headerCell=l.first),u.iGM(l=u.CRH())&&(r.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[u._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),u.qOj]}),n})();class Cg{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let wg=(()=>{class n extends Cg{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(va),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[u.qOj]}),n})(),Eg=(()=>{class n extends Cg{constructor(e,r){var o;if(super(e,r),1===(null===(o=e._table)||void 0===o?void 0:o._elementRef.nativeElement.nodeType)){const l=e._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===l||"treegrid"===l?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(va),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[u.qOj]}),n})();class sd{constructor(){this.tasks=[],this.endTasks=[]}}const Dg=new u.OlP("_COALESCED_STYLE_SCHEDULER");let Dp=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new zt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new sd,this._getScheduleObservable().pipe(fa(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new sd;for(const r of e.tasks)r();for(const r of e.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,bn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,pi.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Tg=(()=>{class n{constructor(e,r){this.template=e,this._differs=r}ngOnChanges(e){if(!this._columnsDiffer){const r=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof kh?e.headerCell.template:this instanceof yl?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();class Ig extends Tg{}const xh=Cc(Ig);let kh=(()=>{class n extends xh{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(wc,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),n})();class ME extends Tg{}const RE=Cc(ME);let yl=(()=>{class n extends RE{constructor(e,r,o){super(e,r),this._table=o}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(wc,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),n})(),Tc=(()=>{class n extends Tg{constructor(e,r,o){super(e,r),this._table=o}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(wc,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[u.qOj]}),n})(),Ca=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),Sg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&u.GkF(0,0)},directives:[Ca],encapsulation:2}),n})(),Ip=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&u.GkF(0,0)},directives:[Ca],encapsulation:2}),n})(),od=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const Ag=["top","bottom","left","right"];class xE{constructor(t,e,r,o,l=!0,h=!0,g){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=r,this._coalescedStyleScheduler=o,this._isBrowser=l,this._needsPositionStickyOnElement=h,this._positionListener=g,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const r=[];for(const o of t)if(o.nodeType===o.ELEMENT_NODE){r.push(o);for(let l=0;l<o.children.length;l++)r.push(o.children[l])}this._coalescedStyleScheduler.schedule(()=>{for(const o of r)this._removeStickyStyle(o,e)})}updateStickyColumns(t,e,r,o=!0){if(!t.length||!this._isBrowser||!e.some(B=>B)&&!r.some(B=>B))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=t[0],h=l.children.length,g=this._getCellWidths(l,o),b=this._getStickyStartColumnPositions(g,e),D=this._getStickyEndColumnPositions(g,r),x=e.lastIndexOf(!0),O=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const B="rtl"===this.direction,J=B?"right":"left",le=B?"left":"right";for(const Re of t)for(let He=0;He<h;He++){const Et=Re.children[He];e[He]&&this._addStickyStyle(Et,J,b[He],He===x),r[He]&&this._addStickyStyle(Et,le,D[He],He===O)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===x?[]:g.slice(0,x+1).map((Re,He)=>e[He]?Re:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===O?[]:g.slice(O).map((Re,He)=>r[He+O]?Re:null).reverse()}))})}stickRows(t,e,r){if(!this._isBrowser)return;const o="bottom"===r?t.slice().reverse():t,l="bottom"===r?e.slice().reverse():e,h=[],g=[],b=[];for(let x=0,O=0;x<o.length;x++){if(!l[x])continue;h[x]=O;const B=o[x];b[x]=this._isNativeHtmlTable?Array.from(B.children):[B];const J=B.getBoundingClientRect().height;O+=J,g[x]=J}const D=l.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var x,O;for(let B=0;B<o.length;B++){if(!l[B])continue;const J=h[B],le=B===D;for(const Re of b[B])this._addStickyStyle(Re,r,J,le)}"top"===r?null===(x=this._positionListener)||void 0===x||x.stickyHeaderRowsUpdated({sizes:g,offsets:h,elements:b}):null===(O=this._positionListener)||void 0===O||O.stickyFooterRowsUpdated({sizes:g,offsets:h,elements:b})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const r=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(o=>!o)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const o of e)t.style[o]="",t.classList.remove(this._borderCellCss[o]);Ag.some(o=>-1===e.indexOf(o)&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,r,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${r}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let r=0;for(const o of Ag)t.style[o]&&(r+=e[o]);return r?`${r}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],o=t.children;for(let l=0;l<o.length;l++)r.push(o[l].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(t,e){const r=[];let o=0;for(let l=0;l<t.length;l++)e[l]&&(r[l]=o,o+=t[l]);return r}_getStickyEndColumnPositions(t,e){const r=[];let o=0;for(let l=t.length;l>0;l--)e[l]&&(r[l]=o,o+=t[l]);return r}}const Mg=new u.OlP("CDK_SPL");let Sp=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Oh=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),ad=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Ph=(()=>{class n{constructor(e,r){this.viewContainer=e,this.elementRef=r}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Nh=(()=>{class n{constructor(e,r,o,l,h,g,b,D,x,O,B,J){this._differs=e,this._changeDetectorRef=r,this._elementRef=o,this._dir=h,this._platform=b,this._viewRepeater=D,this._coalescedStyleScheduler=x,this._viewportRuler=O,this._stickyPositioningListener=B,this._ngZone=J,this._onDestroy=new zt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new u.vpe,this.viewChange=new Hn({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","table"),this._document=g,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=ms(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=ms(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(fa(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),gg(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,r,(o,l,h)=>this._getEmbeddedViewArgs(o.item,h),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{r.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&u.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,pi.q)(1),fa(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=e.length?"":"none");const l=this._headerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,l,"top"),this._headerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=e.length?"":"none");const l=this._footerRowDefs.map(h=>h.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(h=>h.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...r,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((l,h)=>{this._addStickyColumnStyles([l],this._headerRowDefs[h])}),this._rowDefs.forEach(l=>{const h=[];for(let g=0;g<r.length;g++)this._renderRows[g].rowDef===l&&h.push(r[g]);this._addStickyColumnStyles(h,l)}),o.forEach((l,h)=>{this._addStickyColumnStyles([l],this._footerRowDefs[h])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const e=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let l=this._data[o];const h=this._getRenderRowsForData(l,o,r.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let g=0;g<h.length;g++){let b=h[g];const D=this._cachedRenderRowsMap.get(b.data);D.has(b.rowDef)?D.get(b.rowDef).push(b):D.set(b.rowDef,[b]),e.push(b)}}return e}_getRenderRowsForData(e,r,o){return this._getRowDefs(e,r).map(h=>{const g=o&&o.has(h)?o.get(h):[];if(g.length){const b=g.shift();return b.dataIndex=r,b}return{data:e,rowDef:h,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Ap(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=Ap(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Ap(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Ap(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(h,g)=>h||!!g.getColumnsDiff(),r=this._rowDefs.reduce(e,!1);r&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(e,!1);return l&&this._forceRenderFooterRows(),r||o||l}_switchDataSource(e){this._data=[],gg(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;gg(this.dataSource)?e=this.dataSource.connect(this):function BS(n){return!!n&&(n instanceof en.y||(0,$n.m)(n.lift)&&(0,$n.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Qe(this.dataSource)),this._renderChangeSubscription=e.pipe(fa(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,r)=>this._renderRow(this._headerRowOutlet,e,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,r)=>this._renderRow(this._footerRowOutlet,e,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,r){const o=Array.from(r.columns||[]).map(g=>this._columnDefsByName.get(g)),l=o.map(g=>g.sticky),h=o.map(g=>g.stickyEnd);this._stickyStyler.updateStickyColumns(e,l,h,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const r=[];for(let o=0;o<e.viewContainer.length;o++){const l=e.viewContainer.get(o);r.push(l.rootNodes[0])}return r}_getRowDefs(e,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(l=>!l.when||l.when(r,e));else{let l=this._rowDefs.find(h=>h.when&&h.when(r,e))||this._defaultRowDef;l&&o.push(l)}return o}_getEmbeddedViewArgs(e,r){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:r}}_renderRow(e,r,o,l={}){const h=e.viewContainer.createEmbeddedView(r.template,l,o);return this._renderCellTemplateForItem(r,l),h}_renderCellTemplateForItem(e,r){for(let o of this._getCellTemplates(e))Ca.mostRecentCellOutlet&&Ca.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let r=0,o=e.length;r<o;r++){const h=e.get(r).context;h.count=o,h.first=0===r,h.last=r===o-1,h.even=r%2==0,h.odd=!h.even,this.multiTemplateDataRows?(h.dataIndex=this._renderRows[r].dataIndex,h.renderIndex=r):h.index=this._renderRows[r].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,r=>{const o=this._columnDefsByName.get(r);return e.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of r){const l=this._document.createElement(o.tag);l.setAttribute("role","rowgroup");for(const h of o.outlets)l.appendChild(h.elementRef.nativeElement);e.appendChild(l)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(r,o)=>r||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new xE(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Qe()).pipe(fa(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(r){const l=o.createEmbeddedView(e.templateRef),h=l.rootNodes[0];1===l.rootNodes.length&&(null==h?void 0:h.nodeType)===this._document.ELEMENT_NODE&&(h.setAttribute("role","row"),h.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.ZZ4),u.Y36(u.sBO),u.Y36(u.SBq),u.$8M("role"),u.Y36(ry,8),u.Y36(ae),u.Y36(ua),u.Y36(id),u.Y36(Dg),u.Y36(ab),u.Y36(Mg,12),u.Y36(u.R0b,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,r,o){if(1&e&&(u.Suo(o,od,5),u.Suo(o,va,5),u.Suo(o,Tc,5),u.Suo(o,kh,5),u.Suo(o,yl,5)),2&e){let l;u.iGM(l=u.CRH())&&(r._noDataRow=l.first),u.iGM(l=u.CRH())&&(r._contentColumnDefs=l),u.iGM(l=u.CRH())&&(r._contentRowDefs=l),u.iGM(l=u.CRH())&&(r._contentHeaderRowDefs=l),u.iGM(l=u.CRH())&&(r._contentFooterRowDefs=l)}},viewQuery:function(e,r){if(1&e&&(u.Gf(Sp,7),u.Gf(Oh,7),u.Gf(ad,7),u.Gf(Ph,7)),2&e){let o;u.iGM(o=u.CRH())&&(r._rowOutlet=o.first),u.iGM(o=u.CRH())&&(r._headerRowOutlet=o.first),u.iGM(o=u.CRH())&&(r._footerRowOutlet=o.first),u.iGM(o=u.CRH())&&(r._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,r){2&e&&u.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[u._Bn([{provide:wc,useExisting:n},{provide:id,useClass:tb},{provide:Dg,useClass:Dp},{provide:Mg,useValue:null}])],ngContentSelectors:DE,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(u.F$t(EE),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},directives:[Oh,Sp,Ph,ad],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function Ap(n,t){return n.concat(Array.from(t))}let LE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[wE]]}),n})();var Ic=P(6451);const VE=[[["caption"]],[["colgroup"],["col"]]],ti=["caption","colgroup, col"];let xg=(()=>{class n extends Nh{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,r){2&e&&u.ekj("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[u._Bn([{provide:id,useClass:tb},{provide:Nh,useExisting:n},{provide:wc,useExisting:n},{provide:Dg,useClass:Dp},{provide:Mg,useValue:null}]),u.qOj],ngContentSelectors:ti,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,r){1&e&&(u.F$t(VE),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},directives:[Oh,Sp,Ph,ad],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),wa=(()=>{class n extends Ec{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matCellDef",""]],features:[u._Bn([{provide:Ec,useExisting:n}]),u.qOj]}),n})(),Fh=(()=>{class n extends Dc{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[u._Bn([{provide:Dc,useExisting:n}]),u.qOj]}),n})(),Lh=(()=>{class n extends va{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[u._Bn([{provide:va,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),u.qOj]}),n})(),cd=(()=>{class n extends wg{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[u.qOj]}),n})(),Vh=(()=>{class n extends Eg{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[u.qOj]}),n})(),ud=(()=>{class n extends kh{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[u._Bn([{provide:kh,useExisting:n}]),u.qOj]}),n})(),Bh=(()=>{class n extends Tc{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[u._Bn([{provide:Tc,useExisting:n}]),u.qOj]}),n})(),Sc=(()=>{class n extends Sg{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[u._Bn([{provide:Sg,useExisting:n}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&u.GkF(0,0)},directives:[Ca],encapsulation:2}),n})(),Pg=(()=>{class n extends Ip{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[u._Bn([{provide:Ip,useExisting:n}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,r){1&e&&u.GkF(0,0)},directives:[Ca],encapsulation:2}),n})(),Uh=(()=>{class n extends od{constructor(){super(...arguments),this._contentClassName="mat-no-data-row"}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[u._Bn([{provide:od,useExisting:n}]),u.qOj]}),n})(),Mp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[LE,ys],ys]}),n})();class Hh extends class zE extends class lE{}{constructor(t=[]){super(),this._renderData=new Hn([]),this._filter=new Hn(""),this._internalPageChanges=new zt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,r)=>{const o=e[r];if(ey(o)){const l=Number(o);return l<9007199254740991?l:o}return o},this.sortData=(e,r)=>{const o=r.active,l=r.direction;return o&&""!=l?e.sort((h,g)=>{let b=this.sortingDataAccessor(h,o),D=this.sortingDataAccessor(g,o);const x=typeof b,O=typeof D;x!==O&&("number"===x&&(b+=""),"number"===O&&(D+=""));let B=0;return null!=b&&null!=D?b>D?B=1:b<D&&(B=-1):null!=b?B=1:null!=D&&(B=-1),B*("asc"==l?1:-1)}):e},this.filterPredicate=(e,r)=>{const o=Object.keys(e).reduce((h,g)=>h+e[g]+"\u25ec","").toLowerCase(),l=r.trim().toLowerCase();return-1!=o.indexOf(l)},this._data=new Hn(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,Ic.T)(this._sort.sortChange,this._sort.initialized):Qe(null),r=this._paginator?(0,Ic.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Qe(null),l=Ri([this._data,this._filter]).pipe((0,yt.U)(([b])=>this._filterData(b))),h=Ri([l,e]).pipe((0,yt.U)(([b])=>this._orderData(b))),g=Ri([h,r]).pipe((0,yt.U)(([b])=>this._pageData(b)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=g.subscribe(b=>this._renderData.next(b))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const r=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,r);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}var Rp=P(3099),vs=P(5813),bs=P(2011),qE=(P(9916),P(3942)),vl=P(4859),bl=P(5861),Ac=P(9681),L=P(2090),jh=P(1877);const yb="@firebase/database";let xp="";function Fg(n){xp=n}class vb{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,L.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,L.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ZE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,L.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const bb=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new vb(t)}}catch(t){}return new ZE},dd=bb("localStorage"),kp=bb("sessionStorage"),$h=new jh.Yd("@firebase/database"),YE=function(){let n=1;return function(){return n++}}(),KE=function(n){const t=(0,L.dS)(n),e=new L.gQ;e.update(t);const r=e.digest();return L.US.encodeByteArray(r)},Op=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Op.apply(null,r):t+="object"==typeof r?(0,L.Pz)(r):r,t+=" "}return t};let hd=null,QE=!0;const JE=function(n,t){(0,L.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?($h.logLevel=jh.in.VERBOSE,hd=$h.log.bind($h),t&&kp.set("logging_enabled",!0)):"function"==typeof n?hd=n:(hd=null,kp.remove("logging_enabled"))},Tr=function(...n){if(!0===QE&&(QE=!1,null===hd&&!0===kp.get("logging_enabled")&&JE(!0)),hd){const t=Op.apply(null,n);hd(t)}},Cl=function(n){return function(...t){Tr(n,...t)}},Cb=function(...n){const t="FIREBASE INTERNAL ERROR: "+Op(...n);$h.error(t)},Zs=function(...n){const t=`FIREBASE FATAL ERROR: ${Op(...n)}`;throw $h.error(t),new Error(t)},fr=function(...n){const t="FIREBASE WARNING: "+Op(...n);$h.warn(t)},zh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ys="[MIN_NAME]",Ks="[MAX_NAME]",Mc=function(n,t){if(n===t)return 0;if(n===Ys||t===Ks)return-1;if(t===Ys||n===Ks)return 1;{const e=Bg(n),r=Bg(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},Eb=function(n,t){return n===t?0:n<t?-1:1},Pp=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Pz)(t))},Lg=function(n){if("object"!=typeof n||null===n)return(0,L.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,L.Pz)(t[r]),e+=":",e+=Lg(n[t[r]]);return e+="}",e},Db=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let o=0;o<e;o+=t)r.push(n.substring(o,o+t>e?e:o+t));return r};function Gn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Tb=function(n){(0,L.hu)(!zh(n),"Invalid JSON number");const r=1023;let o,l,h,g,b;0===n?(l=0,h=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(g=Math.min(Math.floor(Math.log(n)/Math.LN2),r),l=g+r,h=Math.round(n*Math.pow(2,52-g)-Math.pow(2,52))):(l=0,h=Math.round(n/Math.pow(2,-1074))));const D=[];for(b=52;b;b-=1)D.push(h%2?1:0),h=Math.floor(h/2);for(b=11;b;b-=1)D.push(l%2?1:0),l=Math.floor(l/2);D.push(o?1:0),D.reverse();const x=D.join("");let O="";for(b=0;b<64;b+=8){let B=parseInt(x.substr(b,8),2).toString(16);1===B.length&&(B="0"+B),O+=B}return O.toLowerCase()},XE=new RegExp("^-?(0*)\\d{1,10}$"),Ib=-2147483648,Vg=2147483647,Bg=function(n){if(XE.test(n)){const t=Number(n);if(t>=Ib&&t<=Vg)return t}return null},fd=function(n){try{n()}catch(t){setTimeout(()=>{throw fr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Gh=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Qs{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){fr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class eD{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Tr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fr(t)}}let Rc=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Ab=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Rb="websocket",Lp="long_polling";class Ea{constructor(t,e,r,o,l=!1,h="",g=!1){this.secure=e,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=h,this.includeNamespaceInQueryParams=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dd.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&dd.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Gg(n,t,e){let r;if((0,L.hu)("string"==typeof t,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),t===Rb)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Lp)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function xb(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return Gn(e,(l,h)=>{o.push(l+"="+h)}),r+o.join("&")}class tD{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,L.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,L.p$)(this.counters_)}}const kb={},Wg={};function qg(n){const t=n.toString();return kb[t]||(kb[t]=new tD),kb[t]}class Ob{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&fd(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xc{constructor(t,e,r,o,l,h,g){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=o,this.authToken=l,this.transportSessionId=h,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Cl(t),this.stats_=qg(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),Gg(e,Lp,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ob(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Vp((...l)=>{const[h,g,b,D,x]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=g,this.password=b;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[h,g]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(h,g)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Ab.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xc.forceAllow_=!0}static forceDisallow(){xc.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!xc.forceAllow_&&(xc.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,L.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,L.h$)(e),o=Db(r,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,L.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Vp{constructor(t,e,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=YE(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Vp.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(g){Tr("frame writing exception"),g.stack&&Tr(g.stack),Tr(g)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Tr("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const h=this.pendingSegs.shift();r=r+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),r()})}addTag(t,e){(0,L.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Tr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Bp=null;"undefined"!=typeof MozWebSocket?Bp=MozWebSocket:"undefined"!=typeof WebSocket&&(Bp=WebSocket);let Wh=(()=>{class n{constructor(e,r,o,l,h,g,b){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Cl(this.connId),this.stats_=qg(r),this.connURL=n.connectionURL_(r,g,b,l,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,o,l,h){const g={v:"5"};return!(0,L.Yr)()&&"undefined"!=typeof location&&location.hostname&&Ab.test(location.hostname)&&(g.r="f"),r&&(g.s=r),o&&(g.ls=o),l&&(g.ac=l),h&&(g.p=h),Gg(e,Rb,g)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dd.set("previous_websocket_failure",!0);try{let o;if((0,L.Yr)()){const h={headers:{"User-Agent":`Firebase/5/${xp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,b=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;b&&(h.proxy={origin:b})}this.mySock=new Bp(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Bp&&!n.forceDisallow_}static previouslyFailed(){return dd.isInMemoryStorage||!0===dd.get("previous_websocket_failure")}markConnectionHealthy(){dd.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,L.cI)(r);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const r=(0,L.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Db(r,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),cD=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xc,Wh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=Wh&&Wh.isAvailable();let o=r&&!Wh.previouslyFailed();if(e.webSocketOnly&&(r||fr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Wh];else{const l=this.transports_=[];for(const h of n.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class jp{constructor(t,e,r,o,l,h,g,b,D,x){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=h,this.onReady_=g,this.onDisconnect_=b,this.onKill_=D,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Cl("c:"+this.id+":"),this.transportManager_=new cD(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Gh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Pp("t",t),r=Pp("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Pp("t",t),r=Pp("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Pp("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?Cb("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cb("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&fr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Gh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class qh{put(t,e,r,o){}merge(t,e,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class hD{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,L.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const o=this.getInitialEvent(t);o&&e.apply(r,o)}off(t,e,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let l=0;l<o.length;l++)if(o[l].callback===e&&(!r||r===o[l].context))return void o.splice(l,1)}validateEventType_(t){(0,L.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class r_ extends hD{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new r_}getInitialEvent(t){return(0,L.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Gt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ht(){return new Gt("")}function Rt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function wl(n){return n.pieces_.length-n.pieceNum_}function nn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Gt(n.pieces_,t)}function $p(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function md(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function jb(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Gt(t,0)}function gn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Gt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&e.push(r[o])}return new Gt(e,0)}function St(n){return n.pieceNum_>=n.pieces_.length}function Ir(n,t){const e=Rt(n),r=Rt(t);if(null===e)return t;if(e===r)return Ir(nn(n),nn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function oA(n,t){const e=md(n,0),r=md(t,0);for(let o=0;o<e.length&&o<r.length;o++){const l=Mc(e[o],r[o]);if(0!==l)return l}return e.length===r.length?0:e.length<r.length?-1:1}function zp(n,t){if(wl(n)!==wl(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function wi(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(wl(n)>wl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class mD{constructor(t,e){this.errorPrefix_=e,this.parts_=md(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,L.ug)(this.parts_[r]);_D(this)}}function _D(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Oc(n))}function Oc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class i_ extends hD{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new i_}getInitialEvent(t){return(0,L.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Gp=1e3;let s,gd=(()=>{class n extends qh{constructor(e,r,o,l,h,g,b,D){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=h,this.authTokenProvider_=g,this.appCheckTokenProvider_=b,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=Cl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gp,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");i_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&r_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,o){const l=++this.requestNumber_,h={r:l,a:e,b:r};this.log_((0,L.Pz)(h)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const r=new L.BH,o={p:e._path.toString(),q:e._queryObject},l={action:"g",request:o,onComplete:g=>{const b=g.d;"ok"===g.s?(this.onDataUpdate_(o.p,b,!1,null),r.resolve(b)):r.reject(b)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const g=this.outstandingGets_[h];void 0===g||l!==g||(delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+h+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(h),r.promise}listen(e,r,o,l){this.initConnection_();const h=e._queryIdentifier,g=e._path.toString();this.log_("Listen called for "+g+" "+h),this.listens.has(g)||this.listens.set(g,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(g).has(h),"listen() called twice for same path/queryId.");const b={onComplete:l,hashFn:r,query:e,tag:o};this.listens.get(g).set(h,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(e){const r=e.query,o=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+o+" for "+l);const h={p:o};e.tag&&(h.q=r._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,b=>{const D=b.d,x=b.s;n.warnOnListenWarnings_(D,r),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",b),"ok"!==x&&this.removeListen_(o,l),e.onComplete&&e.onComplete(x,D))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const o=(0,L.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();fr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,L.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,l=>{const h=l.s,g=l.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,o=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(e,r){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,r)}sendUnlisten_(e,r,o,l){this.log_("Unlisten on "+e+" for "+r);const h={p:e};l&&(h.q=o,h.t=l),this.sendRequest("n",h)}onDisconnectPut(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:o})}onDisconnectMerge(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:o})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,o,l){const h={p:r,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,g=>{l&&setTimeout(()=>{l(g.s,g.d)},Math.floor(0))})}put(e,r,o,l){this.putInternal("p",e,r,o,l)}merge(e,r,o,l){this.putInternal("m",e,r,o,l)}putInternal(e,r,o,l,h){this.initConnection_();const g={p:r,d:o};void 0!==h&&(g.h=h),this.outstandingPuts_.push({action:e,request:g,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,o,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(h.s,h.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Pz)(e));const r=e.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):Cb("Unrecognized action received from server: "+(0,L.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gp,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Gp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,bl.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,g=e.lastSessionId;let b=!1,D=null;const x=function(){D?D.close():(b=!0,l())};e.realtime_={close:x,sendRequest:function(J){(0,L.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(J)}};const B=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[J,le]=yield Promise.all([e.authTokenProvider_.getToken(B),e.appCheckTokenProvider_.getToken(B)]);b?Tr("getToken() completed but was canceled"):(Tr("getToken() completed. Creating connection."),e.authToken_=J&&J.accessToken,e.appCheckToken_=le&&le.token,D=new jp(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,o,l,Re=>{fr(Re+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},g))}catch(J){e.log_("Failed to get token: "+J),b||(e.repoInfo_.nodeAdmin&&fr(J),x())}}})()}interrupt(e){Tr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Tr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Gp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let o;o=r?r.map(h=>Lg(h)).join("$"):"default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const o=new Gt(e).toString();let l;if(this.listens.has(o)){const h=this.listens.get(o);l=h.get(r),h.delete(r),0===h.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,r){Tr("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Tr("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,L.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+xp.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=r_.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Pt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Pt(t,e)}}class i{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Pt(Ys,t),o=new Pt(Ys,e);return 0!==this.compare(r,o)}minPost(){return Pt.MIN}}class a extends i{static get __EMPTY_NODE(){return s}static set __EMPTY_NODE(t){s=t}compare(t,e){return Mc(t.name,e.name)}isDefinedOn(t){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Pt.MIN}maxPost(){return new Pt(Ks,s)}makePost(t,e){return(0,L.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Pt(t,s)}toString(){return".key"}}const c=new a;class d{constructor(t,e,r,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=e?r(t.key,e):1,o&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let M,p=(()=>{class n{constructor(e,r,o,l,h){this.key=e,this.value=r,this.color=null!=o?o:n.RED,this.left=null!=l?l:C.EMPTY_NODE,this.right=null!=h?h:C.EMPTY_NODE}copy(e,r,o,l,h){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,r,o),null):0===h?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return C.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let o,l;if(o=this,r(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(e,o.key)){if(o.right.isEmpty())return C.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class C{constructor(t,e=C.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new C(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,p.BLACK,null,null))}remove(t){return new C(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,p.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,o=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new d(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new d(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new d(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new d(this.root_,null,this.comparator_,!0,t)}}function w(n,t){return Mc(n.name,t.name)}function I(n,t){return Mc(n,t)}C.EMPTY_NODE=new class y{copy(t,e,r,o,l){return this}insert(t,e,r){return new p(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const H=function(n){return"number"==typeof n?"number:"+Tb(n):"string:"+n},X=function(n){if(n.isLeafNode()){const t=n.val();(0,L.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,L.r3)(t,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===M||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===M||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ve,Ve,Ye,Oe=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),X(this.priorityNode_)}static set __childrenNodeConstructor(e){ve=e}static get __childrenNodeConstructor(){return ve}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return St(e)?this:".priority"===Rt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const o=Rt(e);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,L.hu)(".priority"!==o||1===wl(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(nn(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+H(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?Tb(this.value_):this.value_,this.lazyHash_=KE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(r),h=n.VALUE_TYPE_ORDER.indexOf(o);return(0,L.hu)(l>=0,"Unknown leaf type: "+r),(0,L.hu)(h>=0,"Unknown leaf type: "+o),l===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const at=new class Nt extends i{compare(t,e){const r=t.node.getPriority(),o=e.node.getPriority(),l=r.compareTo(o);return 0===l?Mc(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Pt.MIN}maxPost(){return new Pt(Ks,new Oe("[PRIORITY-POST]",Ye))}makePost(t,e){const r=Ve(t);return new Pt(e,new Oe("[PRIORITY-POST]",r))}toString(){return".priority"}},$i=Math.log(2);class Pc{constructor(t){this.count=parseInt(Math.log(t+1)/$i,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const _d=function(n,t,e,r){n.sort(t);const o=function(b,D){const x=D-b;let O,B;if(0===x)return null;if(1===x)return O=n[b],B=e?e(O):O,new p(B,O.node,p.BLACK,null,null);{const J=parseInt(x/2,10)+b,le=o(b,J),Re=o(J+1,D);return O=n[J],B=e?e(O):O,new p(B,O.node,p.BLACK,le,Re)}},g=function(b){let D=null,x=null,O=n.length;const B=function(le,Re){const He=O-le,Et=O;O-=le;const wt=o(He+1,Et),Yt=n[He],At=e?e(Yt):Yt;J(new p(At,Yt.node,Re,null,wt))},J=function(le){D?(D.left=le,D=le):(x=le,D=le)};for(let le=0;le<b.count;++le){const Re=b.nextBitIsOne(),He=Math.pow(2,b.count-(le+1));Re?B(He,p.BLACK):(B(He,p.BLACK),B(He,p.RED))}return x}(new Pc(n.length));return new C(r||t,g)};let Zh;const El={};class Js{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,L.hu)(El&&at,"ChildrenNode.ts has not been loaded"),Zh=Zh||new Js({".priority":El},{".priority":at}),Zh}get(t){const e=(0,L.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof C?e:null}hasIndex(t){return(0,L.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,L.hu)(t!==c,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const l=e.getIterator(Pt.Wrap);let g,h=l.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=l.getNext();g=o?_d(r,t.getCompare()):El;const b=t.toString(),D=Object.assign({},this.indexSet_);D[b]=t;const x=Object.assign({},this.indexes_);return x[b]=g,new Js(x,D)}addToIndexes(t,e){const r=(0,L.UI)(this.indexes_,(o,l)=>{const h=(0,L.DV)(this.indexSet_,l);if((0,L.hu)(h,"Missing index implementation for "+l),o===El){if(h.isDefinedOn(t.node)){const g=[],b=e.getIterator(Pt.Wrap);let D=b.getNext();for(;D;)D.name!==t.name&&g.push(D),D=b.getNext();return g.push(t),_d(g,h.getCompare())}return El}{const g=e.get(t.name);let b=o;return g&&(b=b.remove(new Pt(t.name,g))),b.insert(t,t.node)}});return new Js(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,L.UI)(this.indexes_,o=>{if(o===El)return o;{const l=e.get(t.name);return l?o.remove(new Pt(t.name,l)):o}});return new Js(r,this.indexSet_)}}let Nc,bt=(()=>{class n{constructor(e,r,o){this.children_=e,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&X(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Nc||(Nc=new n(new C(I),null,Js.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nc}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Nc:r}}getChild(e){const r=Rt(e);return null===r?this:this.getImmediateChild(r).getChild(nn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,L.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const o=new Pt(e,r);let l,h;r.isEmpty()?(l=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,r),h=this.indexMap_.addToIndexes(o,this.children_));const g=l.isEmpty()?Nc:this.priorityNode_;return new n(l,g,h)}}updateChild(e,r){const o=Rt(e);if(null===o)return r;{(0,L.hu)(".priority"!==Rt(e)||1===wl(e),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(nn(e),r);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let o=0,l=0,h=!0;if(this.forEachChild(at,(g,b)=>{r[g]=b.val(e),o++,h&&n.INTEGER_REGEXP_.test(g)?l=Math.max(l,Number(g)):h=!1}),!e&&h&&l<2*o){const g=[];for(const b in r)g[b]=r[b];return g}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+H(this.getPriority().val())+":"),this.forEachChild(at,(r,o)=>{const l=o.hash();""!==l&&(e+=":"+r+":"+l)}),this.lazyHash_=""===e?"":KE(e)}return this.lazyHash_}getPredecessorChildName(e,r,o){const l=this.resolveIndex_(o);if(l){const h=l.getPredecessorKey(new Pt(e,r));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Pt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Pt(r,this.children_.get(r)):null}forEachChild(e,r){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Pt.Wrap);let h=l.peek();for(;null!=h&&r.compare(h,e)<0;)l.getNext(),h=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Pt.Wrap);let h=l.peek();for(;null!=h&&r.compare(h,e)>0;)l.getNext(),h=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fc?-1:0}withIndex(e){if(e===c||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===c||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(at),l=r.getIterator(at);let h=o.getNext(),g=l.getNext();for(;h&&g;){if(h.name!==g.name||!h.node.equals(g.node))return!1;h=o.getNext(),g=l.getNext()}return null===h&&null===g}return!1}return!1}}resolveIndex_(e){return e===c?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Fc=new class s_ extends bt{constructor(){super(new C(I),bt.EMPTY_NODE,Js.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return bt.EMPTY_NODE}isEmpty(){return!1}};function Pn(n,t=null){if(null===n)return bt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,L.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Oe(n,Pn(t));if(n instanceof Array){let e=bt.EMPTY_NODE;return Gn(n,(r,o)=>{if((0,L.r3)(n,r)&&"."!==r.substring(0,1)){const l=Pn(o);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(r,l))}}),e.updatePriority(Pn(t))}{const e=[];let r=!1;if(Gn(n,(h,g)=>{if("."!==h.substring(0,1)){const b=Pn(g);b.isEmpty()||(r=r||!b.getPriority().isEmpty(),e.push(new Pt(h,b)))}}),0===e.length)return bt.EMPTY_NODE;const l=_d(e,w,h=>h.name,I);if(r){const h=_d(e,at.getCompare());return new bt(l,Pn(t),new Js({".priority":h},{".priority":at}))}return new bt(l,Pn(t),Js.Default)}}Object.defineProperties(Pt,{MIN:{value:new Pt(Ys,bt.EMPTY_NODE)},MAX:{value:new Pt(Ks,Fc)}}),a.__EMPTY_NODE=bt.EMPTY_NODE,Oe.__childrenNodeConstructor=bt,function F(n){M=n}(Fc),function ot(n){Ye=n}(Fc),function Se(n){Ve=n}(Pn);class CD extends i{constructor(t){super(),this.indexPath_=t,(0,L.hu)(!St(t)&&".priority"!==Rt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),o=this.extractChild(e.node),l=r.compareTo(o);return 0===l?Mc(t.name,e.name):l}makePost(t,e){const r=Pn(t),o=bt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Pt(e,o)}maxPost(){const t=bt.EMPTY_NODE.updateChild(this.indexPath_,Fc);return new Pt(Ks,t)}toString(){return md(this.indexPath_,0).join("/")}}const wD=new class _k extends i{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?Mc(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Pt.MIN}maxPost(){return Pt.MAX}makePost(t,e){const r=Pn(t);return new Pt(e,r)}toString(){return".value"}},Wp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",yk=function(){let n=0;const t=[];return function(e){const r=e===n;let o;n=e;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Wp.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let h=l.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=Wp.charAt(t[o]);return(0,L.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),pA=function(n){if(n===""+Vg)return"-";const t=Bg(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let h=0;h<e.length;h++)e[h]=n.charAt(h);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return Ks;const l=Wp.charAt(Wp.indexOf(e[r])+1);return e[r]=l,e.slice(0,r+1).join("")},mA=function(n){if(n===""+Ib)return Ys;const t=Bg(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+Vg:(delete e[e.length-1],e.join("")):(e[e.length-1]=Wp.charAt(Wp.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function gA(n){return{type:"value",snapshotNode:n}}function qp(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function a_(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function l_(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class DD{constructor(t){this.index_=t}updateChild(t,e,r,o,l,h){(0,L.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=t.getImmediateChild(e);return g.getChild(o).equals(r.getChild(o))&&g.isEmpty()===r.isEmpty()||(null!=h&&(r.isEmpty()?t.hasChild(e)?h.trackChildChange(a_(e,g)):(0,L.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?h.trackChildChange(qp(e,r)):h.trackChildChange(l_(e,r,g))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(at,(o,l)=>{e.hasChild(o)||r.trackChildChange(a_(o,l))}),e.isLeafNode()||e.forEachChild(at,(o,l)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(l)||r.trackChildChange(l_(o,l,h))}else r.trackChildChange(qp(o,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?bt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class c_{constructor(t){this.indexedFilter_=new DD(t.getIndex()),this.index_=t.getIndex(),this.startPost_=c_.getStartPost_(t),this.endPost_=c_.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,o,l,h){return this.matches(new Pt(e,r))||(r=bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,o,l,h)}updateFullNode(t,e,r){e.isLeafNode()&&(e=bt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(bt.EMPTY_NODE);const l=this;return e.forEachChild(at,(h,g)=>{l.matches(new Pt(h,g))||(o=o.updateImmediateChild(h,bt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class bk{constructor(t){this.rangedFilter_=new c_(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,o,l,h){return this.rangedFilter_.matches(new Pt(e,r))||(r=bt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,o,l,h):this.fullLimitUpdateChild_(t,e,r,l,h)}updateFullNode(t,e,r){let o;if(e.isLeafNode()||e.isEmpty())o=bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;o=bt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;l.hasNext()&&h<this.limit_;){const g=l.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),g)<=0:this.index_.compare(g,this.rangedFilter_.getEndPost())<=0,!b)break;o=o.updateImmediateChild(g.name,g.node),h++}}else{let l,h,g,b;if(o=e.withIndex(this.index_),o=o.updatePriority(bt.EMPTY_NODE),this.reverse_){b=o.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const O=this.index_.getCompare();g=(B,J)=>O(J,B)}else b=o.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();let D=0,x=!1;for(;b.hasNext();){const O=b.getNext();!x&&g(l,O)<=0&&(x=!0),x&&D<this.limit_&&g(O,h)<=0?D++:o=o.updateImmediateChild(O.name,bt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,o,l){let h;if(this.reverse_){const O=this.index_.getCompare();h=(B,J)=>O(J,B)}else h=this.index_.getCompare();const g=t;(0,L.hu)(g.numChildren()===this.limit_,"");const b=new Pt(e,r),D=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),x=this.rangedFilter_.matches(b);if(g.hasChild(e)){const O=g.getImmediateChild(e);let B=o.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=B&&(B.name===e||g.hasChild(B.name));)B=o.getChildAfterChild(this.index_,B,this.reverse_);const J=null==B?1:h(B,b);if(x&&!r.isEmpty()&&J>=0)return null!=l&&l.trackChildChange(l_(e,r,O)),g.updateImmediateChild(e,r);{null!=l&&l.trackChildChange(a_(e,O));const Re=g.updateImmediateChild(e,bt.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(null!=l&&l.trackChildChange(qp(B.name,B.node)),Re.updateImmediateChild(B.name,B.node)):Re}}return r.isEmpty()?t:x&&h(D,b)>=0?(null!=l&&(l.trackChildChange(a_(D.name,D.node)),l.trackChildChange(qp(e,r))),g.updateImmediateChild(e,r).updateImmediateChild(D.name,bt.EMPTY_NODE)):t}}class $b{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=at}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ys}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===at}copy(){const t=new $b;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function TD(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function ID(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function zb(n,t){const e=n.copy();return e.index_=t,e}function _A(n){const t={};if(n.isDefault())return t;let e;return n.index_===at?e="$priority":n.index_===wD?e="$value":n.index_===c?e="$key":((0,L.hu)(n.index_ instanceof CD,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,L.Pz)(e),n.startSet_&&(t.startAt=(0,L.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,L.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,L.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,L.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function yA(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==at&&(t.i=n.index_.toString()),t}class Gb extends qh{constructor(t,e,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Cl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,L.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,o){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const h=Gb.getListenId_(t,r),g={};this.listens_[h]=g;const b=_A(t._queryParams);this.restRequest_(l+".json",b,(D,x)=>{let O=x;if(404===D&&(O=null,D=null),null===D&&this.onDataUpdate_(l,O,!1,r),(0,L.DV)(this.listens_,h)===g){let B;B=D?401===D?"permission_denied":"rest_error:"+D:"ok",o(B,null)}})}unlisten(t,e){const r=Gb.getListenId_(t,e);delete this.listens_[r]}get(t){const e=_A(t._queryParams),r=t._path.toString(),o=new L.BH;return this.restRequest_(r+".json",e,(l,h)=>{let g=h;404===l&&(g=null,l=null),null===l?(this.onDataUpdate_(r,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(e.auth=o.accessToken),l&&l.token&&(e.ac=l.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+h);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(r&&4===g.readyState){this.log_("REST Response for "+h+" received. status:",g.status,"response:",g.responseText);let b=null;if(g.status>=200&&g.status<300){try{b=(0,L.cI)(g.responseText)}catch(D){fr("Failed to parse JSON response for "+h+": "+g.responseText)}r(null,b)}else 401!==g.status&&404!==g.status&&fr("Got unsuccessful REST response for "+h+" Status: "+g.status),r(g.status);r=null}},g.open("GET",h,!0),g.send()})}}class Ik{constructor(){this.rootNode_=bt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Wb(){return{value:null,children:new Map}}function Zp(n,t,e){if(St(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Rt(t);n.children.has(r)||n.children.set(r,Wb()),Zp(n.children.get(r),t=nn(t),e)}}function SD(n,t){if(St(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(at,(r,o)=>{Zp(n,new Gt(r),o)}),SD(n,t)}}if(n.children.size>0){const e=Rt(t);return t=nn(t),n.children.has(e)&&SD(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function AD(n,t,e){null!==n.value?e(t,n.value):function Sk(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,o)=>{AD(o,new Gt(t.toString()+"/"+r),e)})}class Ak{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Gn(this.last_,(r,o)=>{e[r]=e[r]-o}),this.last_=t,e}}class xk{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ak(t);const r=1e4+2e4*Math.random();Gh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;Gn(t,(o,l)=>{l>0&&(0,L.r3)(this.statsToReport_,o)&&(e[o]=l,r=!0)}),r&&this.server_.reportStats(e),Gh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fo=(()=>{return(n=Fo||(Fo={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Fo;var n})();function xD(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class qb{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=Fo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(St(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Gt(t));return new qb(Ht(),e,this.revert)}}return(0,L.hu)(Rt(this.path)===t,"operationForChild called for unrelated child."),new qb(nn(this.path),this.affectedTree,this.revert)}}class u_{constructor(t,e){this.source=t,this.path=e,this.type=Fo.LISTEN_COMPLETE}operationForChild(t){return St(this.path)?new u_(this.source,Ht()):new u_(this.source,nn(this.path))}}class Yh{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=Fo.OVERWRITE}operationForChild(t){return St(this.path)?new Yh(this.source,Ht(),this.snap.getImmediateChild(t)):new Yh(this.source,nn(this.path),this.snap)}}class Yp{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=Fo.MERGE}operationForChild(t){if(St(this.path)){const e=this.children.subtree(new Gt(t));return e.isEmpty()?null:e.value?new Yh(this.source,Ht(),e.value):new Yp(this.source,Ht(),e)}return(0,L.hu)(Rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Yp(this.source,nn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class yd{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(St(t))return this.isFullyInitialized()&&!this.filtered_;const e=Rt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class kk{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function d_(n,t,e,r,o,l){const h=r.filter(g=>g.type===e);h.sort((g,b)=>function Nk(n,t,e){if(null==t.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const r=new Pt(t.childName,t.snapshotNode),o=new Pt(e.childName,e.snapshotNode);return n.index_.compare(r,o)}(n,g,b)),h.forEach(g=>{const b=function Pk(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,g,l);o.forEach(D=>{D.respondsTo(g.type)&&t.push(D.createEvent(b,n.query_))})})}function Zb(n,t){return{eventCache:n,serverCache:t}}function h_(n,t,e,r){return Zb(new yd(t,e,r),n.serverCache)}function bA(n,t,e,r){return Zb(n.eventCache,new yd(t,e,r))}function Yb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Kh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let kD;class _n{constructor(t,e=(()=>(kD||(kD=new C(Eb)),kD))()){this.value=t,this.children=e}static fromObject(t){let e=new _n(null);return Gn(t,(r,o)=>{e=e.set(new Gt(r),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ht(),value:this.value};if(St(t))return null;{const r=Rt(t),o=this.children.get(r);if(null!==o){const l=o.findRootMostMatchingPathAndValue(nn(t),e);return null!=l?{path:gn(new Gt(r),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(St(t))return this;{const e=Rt(t),r=this.children.get(e);return null!==r?r.subtree(nn(t)):new _n(null)}}set(t,e){if(St(t))return new _n(e,this.children);{const r=Rt(t),l=(this.children.get(r)||new _n(null)).set(nn(t),e),h=this.children.insert(r,l);return new _n(this.value,h)}}remove(t){if(St(t))return this.children.isEmpty()?new _n(null):new _n(null,this.children);{const e=Rt(t),r=this.children.get(e);if(r){const o=r.remove(nn(t));let l;return l=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&l.isEmpty()?new _n(null):new _n(this.value,l)}return this}}get(t){if(St(t))return this.value;{const e=Rt(t),r=this.children.get(e);return r?r.get(nn(t)):null}}setTree(t,e){if(St(t))return e;{const r=Rt(t),l=(this.children.get(r)||new _n(null)).setTree(nn(t),e);let h;return h=l.isEmpty()?this.children.remove(r):this.children.insert(r,l),new _n(this.value,h)}}fold(t){return this.fold_(Ht(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((o,l)=>{r[o]=l.fold_(gn(t,o),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Ht(),e)}findOnPath_(t,e,r){const o=!!this.value&&r(e,this.value);if(o)return o;if(St(t))return null;{const l=Rt(t),h=this.children.get(l);return h?h.findOnPath_(nn(t),gn(e,l),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ht(),e)}foreachOnPath_(t,e,r){if(St(t))return this;{this.value&&r(e,this.value);const o=Rt(t),l=this.children.get(o);return l?l.foreachOnPath_(nn(t),gn(e,o),r):new _n(null)}}foreach(t){this.foreach_(Ht(),t)}foreach_(t,e){this.children.inorderTraversal((r,o)=>{o.foreach_(gn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Da{constructor(t){this.writeTree_=t}static empty(){return new Da(new _n(null))}}function f_(n,t,e){if(St(t))return new Da(new _n(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let l=r.value;const h=Ir(o,t);return l=l.updateChild(h,e),new Da(n.writeTree_.set(o,l))}{const o=new _n(e),l=n.writeTree_.setTree(t,o);return new Da(l)}}}function OD(n,t,e){let r=n;return Gn(e,(o,l)=>{r=f_(r,gn(t,o),l)}),r}function CA(n,t){if(St(t))return Da.empty();{const e=n.writeTree_.setTree(t,new _n(null));return new Da(e)}}function PD(n,t){return null!=Qh(n,t)}function Qh(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ir(e.path,t)):null}function wA(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(at,(r,o)=>{t.push(new Pt(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&t.push(new Pt(r,o.value))}),t}function vd(n,t){if(St(t))return n;{const e=Qh(n,t);return new Da(null!=e?new _n(e):n.writeTree_.subtree(t))}}function ND(n){return n.writeTree_.isEmpty()}function Kp(n,t){return EA(Ht(),n.writeTree_,t)}function EA(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((o,l)=>{".priority"===o?((0,L.hu)(null!==l.value,"Priority writes must always be leaf nodes"),r=l.value):e=EA(gn(n,o),l,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(gn(n,".priority"),r)),e}}function Kb(n,t){return AA(t,n)}function Hk(n,t){if(n.snap)return wi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&wi(gn(n.path,e),t))return!0;return!1}function $k(n){return n.visible}function DA(n,t,e){let r=Da.empty();for(let o=0;o<n.length;++o){const l=n[o];if(t(l)){const h=l.path;let g;if(l.snap)wi(e,h)?(g=Ir(e,h),r=f_(r,g,l.snap)):wi(h,e)&&(g=Ir(h,e),r=f_(r,Ht(),l.snap.getChild(g)));else{if(!l.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(wi(e,h))g=Ir(e,h),r=OD(r,g,l.children);else if(wi(h,e))if(g=Ir(h,e),St(g))r=OD(r,Ht(),l.children);else{const b=(0,L.DV)(l.children,Rt(g));if(b){const D=b.getChild(nn(g));r=f_(r,Ht(),D)}}}}}return r}function TA(n,t,e,r,o){if(r||o){const l=vd(n.visibleWrites,t);return!o&&ND(l)?e:o||null!=e||PD(l,Ht())?Kp(DA(n.allWrites,function(D){return(D.visible||o)&&(!r||!~r.indexOf(D.writeId))&&(wi(D.path,t)||wi(t,D.path))},t),e||bt.EMPTY_NODE):null}{const l=Qh(n.visibleWrites,t);if(null!=l)return l;{const h=vd(n.visibleWrites,t);return ND(h)?e:null!=e||PD(h,Ht())?Kp(h,e||bt.EMPTY_NODE):null}}}function Qb(n,t,e,r){return TA(n.writeTree,n.treePath,t,e,r)}function FD(n,t){return function zk(n,t,e){let r=bt.EMPTY_NODE;const o=Qh(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(at,(l,h)=>{r=r.updateImmediateChild(l,h)}),r;if(e){const l=vd(n.visibleWrites,t);return e.forEachChild(at,(h,g)=>{const b=Kp(vd(l,new Gt(h)),g);r=r.updateImmediateChild(h,b)}),wA(l).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}return wA(vd(n.visibleWrites,t)).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}(n.writeTree,n.treePath,t)}function IA(n,t,e,r){return function Gk(n,t,e,r,o){(0,L.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const l=gn(t,e);if(PD(n.visibleWrites,l))return null;{const h=vd(n.visibleWrites,l);return ND(h)?o.getChild(e):Kp(h,o.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Jb(n,t){return function qk(n,t){return Qh(n.visibleWrites,t)}(n.writeTree,gn(n.treePath,t))}function LD(n,t,e){return function Wk(n,t,e,r){const o=gn(t,e),l=Qh(n.visibleWrites,o);return null!=l?l:r.isCompleteForChild(e)?Kp(vd(n.visibleWrites,o),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function SA(n,t){return AA(gn(n.treePath,t),n.writeTree)}function AA(n,t){return{treePath:n,writeTree:t}}class Qk{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const l=o.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(r,l_(r,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(r,a_(r,o.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(r,qp(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,L.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(r,l_(r,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const MA=new class Jk{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class VD{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new yd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return LD(this.writes_,t,r)}}getChildAfterChild(t,e,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Kh(this.viewCache_),l=function Kk(n,t,e,r,o,l){return function Zk(n,t,e,r,o,l,h){let g;const b=vd(n.visibleWrites,t),D=Qh(b,Ht());if(null!=D)g=D;else{if(null==e)return[];g=Kp(b,e)}if(g=g.withIndex(h),g.isEmpty()||g.isLeafNode())return[];{const x=[],O=h.getCompare(),B=l?g.getReverseIteratorFrom(r,h):g.getIteratorFrom(r,h);let J=B.getNext();for(;J&&x.length<o;)0!==O(J,r)&&x.push(J),J=B.getNext();return x}}(n.writeTree,n.treePath,t,e,r,o,l)}(this.writes_,o,e,1,r,t);return 0===l.length?null:l[0]}}function RA(n,t,e,r,o,l){const h=t.eventCache;if(null!=Jb(r,e))return t;{let g,b;if(St(e))if((0,L.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=Kh(t),O=FD(r,D instanceof bt?D:bt.EMPTY_NODE);g=n.filter.updateFullNode(t.eventCache.getNode(),O,l)}else{const D=Qb(r,Kh(t));g=n.filter.updateFullNode(t.eventCache.getNode(),D,l)}else{const D=Rt(e);if(".priority"===D){(0,L.hu)(1===wl(e),"Can't have a priority with additional path components");const x=h.getNode();b=t.serverCache.getNode();const O=IA(r,e,x,b);g=null!=O?n.filter.updatePriority(x,O):h.getNode()}else{const x=nn(e);let O;if(h.isCompleteForChild(D)){b=t.serverCache.getNode();const B=IA(r,e,h.getNode(),b);O=null!=B?h.getNode().getImmediateChild(D).updateChild(x,B):h.getNode().getImmediateChild(D)}else O=LD(r,D,t.serverCache);g=null!=O?n.filter.updateChild(h.getNode(),D,O,x,o,l):h.getNode()}}return h_(t,g,h.isFullyInitialized()||St(e),n.filter.filtersNodes())}}function Xb(n,t,e,r,o,l,h,g){const b=t.serverCache;let D;const x=h?n.filter:n.filter.getIndexedFilter();if(St(e))D=x.updateFullNode(b.getNode(),r,null);else if(x.filtersNodes()&&!b.isFiltered()){const J=b.getNode().updateChild(e,r);D=x.updateFullNode(b.getNode(),J,null)}else{const J=Rt(e);if(!b.isCompleteForPath(e)&&wl(e)>1)return t;const le=nn(e),He=b.getNode().getImmediateChild(J).updateChild(le,r);D=".priority"===J?x.updatePriority(b.getNode(),He):x.updateChild(b.getNode(),J,He,le,MA,null)}const O=bA(t,D,b.isFullyInitialized()||St(e),x.filtersNodes());return RA(n,O,e,o,new VD(o,O,l),g)}function BD(n,t,e,r,o,l,h){const g=t.eventCache;let b,D;const x=new VD(o,t,l);if(St(e))D=n.filter.updateFullNode(t.eventCache.getNode(),r,h),b=h_(t,D,!0,n.filter.filtersNodes());else{const O=Rt(e);if(".priority"===O)D=n.filter.updatePriority(t.eventCache.getNode(),r),b=h_(t,D,g.isFullyInitialized(),g.isFiltered());else{const B=nn(e),J=g.getNode().getImmediateChild(O);let le;if(St(B))le=r;else{const Re=x.getCompleteChild(O);le=null!=Re?".priority"===$p(B)&&Re.getChild(jb(B)).isEmpty()?Re:Re.updateChild(B,r):bt.EMPTY_NODE}b=J.equals(le)?t:h_(t,n.filter.updateChild(g.getNode(),O,le,B,x,h),g.isFullyInitialized(),n.filter.filtersNodes())}}return b}function xA(n,t){return n.eventCache.isCompleteForChild(t)}function kA(n,t,e){return e.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function UD(n,t,e,r,o,l,h,g){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,b=t;D=St(e)?r:new _n(null).setTree(e,r);const x=t.serverCache.getNode();return D.children.inorderTraversal((O,B)=>{if(x.hasChild(O)){const le=kA(0,t.serverCache.getNode().getImmediateChild(O),B);b=Xb(n,b,new Gt(O),le,o,l,h,g)}}),D.children.inorderTraversal((O,B)=>{const J=!t.serverCache.isCompleteForChild(O)&&void 0===B.value;if(!x.hasChild(O)&&!J){const Re=kA(0,t.serverCache.getNode().getImmediateChild(O),B);b=Xb(n,b,new Gt(O),Re,o,l,h,g)}}),b}class aO{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new DD(r.getIndex()),l=function Ck(n){return n.loadsAllData()?new DD(n.getIndex()):n.hasLimit()?new bk(n):new c_(n)}(r);this.processor_=function Xk(n){return{filter:n}}(l);const h=e.serverCache,g=e.eventCache,b=o.updateFullNode(bt.EMPTY_NODE,h.getNode(),null),D=l.updateFullNode(bt.EMPTY_NODE,g.getNode(),null),x=new yd(b,h.isFullyInitialized(),o.filtersNodes()),O=new yd(D,g.isFullyInitialized(),l.filtersNodes());this.viewCache_=Zb(O,x),this.eventGenerator_=new kk(this.query_)}get query(){return this.query_}}function uO(n,t){const e=Kh(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!St(t)&&!e.getImmediateChild(Rt(t)).isEmpty())?e.getChild(t):null}function OA(n){return 0===n.eventRegistrations_.length}function PA(n,t,e){const r=[];if(e){(0,L.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const h=l.createCancelEvent(e,o);h&&r.push(h)})}if(t){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const h=n.eventRegistrations_[l];if(h.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(h)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function NA(n,t,e,r){t.type===Fo.MERGE&&null!==t.source.queryId&&((0,L.hu)(Kh(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(Yb(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function tO(n,t,e,r,o){const l=new Qk;let h,g;if(e.type===Fo.OVERWRITE){const D=e;D.source.fromUser?h=BD(n,t,D.path,D.snap,r,o,l):((0,L.hu)(D.source.fromServer,"Unknown source."),g=D.source.tagged||t.serverCache.isFiltered()&&!St(D.path),h=Xb(n,t,D.path,D.snap,r,o,g,l))}else if(e.type===Fo.MERGE){const D=e;D.source.fromUser?h=function rO(n,t,e,r,o,l,h){let g=t;return r.foreach((b,D)=>{const x=gn(e,b);xA(t,Rt(x))&&(g=BD(n,g,x,D,o,l,h))}),r.foreach((b,D)=>{const x=gn(e,b);xA(t,Rt(x))||(g=BD(n,g,x,D,o,l,h))}),g}(n,t,D.path,D.children,r,o,l):((0,L.hu)(D.source.fromServer,"Unknown source."),g=D.source.tagged||t.serverCache.isFiltered(),h=UD(n,t,D.path,D.children,r,o,g,l))}else if(e.type===Fo.ACK_USER_WRITE){const D=e;h=D.revert?function oO(n,t,e,r,o,l){let h;if(null!=Jb(r,e))return t;{const g=new VD(r,t,o),b=t.eventCache.getNode();let D;if(St(e)||".priority"===Rt(e)){let x;if(t.serverCache.isFullyInitialized())x=Qb(r,Kh(t));else{const O=t.serverCache.getNode();(0,L.hu)(O instanceof bt,"serverChildren would be complete if leaf node"),x=FD(r,O)}x=x,D=n.filter.updateFullNode(b,x,l)}else{const x=Rt(e);let O=LD(r,x,t.serverCache);null==O&&t.serverCache.isCompleteForChild(x)&&(O=b.getImmediateChild(x)),D=null!=O?n.filter.updateChild(b,x,O,nn(e),g,l):t.eventCache.getNode().hasChild(x)?n.filter.updateChild(b,x,bt.EMPTY_NODE,nn(e),g,l):b,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Qb(r,Kh(t)),h.isLeafNode()&&(D=n.filter.updateFullNode(D,h,l)))}return h=t.serverCache.isFullyInitialized()||null!=Jb(r,Ht()),h_(t,D,h,n.filter.filtersNodes())}}(n,t,D.path,r,o,l):function iO(n,t,e,r,o,l,h){if(null!=Jb(o,e))return t;const g=t.serverCache.isFiltered(),b=t.serverCache;if(null!=r.value){if(St(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return Xb(n,t,e,b.getNode().getChild(e),o,l,g,h);if(St(e)){let D=new _n(null);return b.getNode().forEachChild(c,(x,O)=>{D=D.set(new Gt(x),O)}),UD(n,t,e,D,o,l,g,h)}return t}{let D=new _n(null);return r.foreach((x,O)=>{const B=gn(e,x);b.isCompleteForPath(B)&&(D=D.set(x,b.getNode().getChild(B)))}),UD(n,t,e,D,o,l,g,h)}}(n,t,D.path,D.affectedTree,r,o,l)}else{if(e.type!==Fo.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);h=function sO(n,t,e,r,o){const l=t.serverCache;return RA(n,bA(t,l.getNode(),l.isFullyInitialized()||St(e),l.isFiltered()),e,r,MA,o)}(n,t,e.path,r,l)}const b=l.getChanges();return function nO(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=Yb(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&e.push(gA(Yb(t)))}}(t,h,b),{viewCache:h,changes:b}}(n.processor_,o,t,e,r);return function eO(n,t){(0,L.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,L.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,FA(n,l.changes,l.viewCache.eventCache.getNode(),null)}function FA(n,t,e,r){return function Ok(n,t,e,r){const o=[],l=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&l.push(function vk(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),d_(n,o,"child_removed",t,r,e),d_(n,o,"child_added",t,r,e),d_(n,o,"child_moved",l,r,e),d_(n,o,"child_changed",t,r,e),d_(n,o,"value",t,r,e),o}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let eC,nC;class LA{constructor(){this.views=new Map}}function HD(n,t,e,r){const o=t.source.queryId;if(null!==o){const l=n.views.get(o);return(0,L.hu)(null!=l,"SyncTree gave us an op for an invalid query."),NA(l,t,e,r)}{let l=[];for(const h of n.views.values())l=l.concat(NA(h,t,e,r));return l}}function VA(n,t,e,r,o){const h=n.views.get(t._queryIdentifier);if(!h){let g=Qb(e,o?r:null),b=!1;g?b=!0:r instanceof bt?(g=FD(e,r),b=!1):(g=bt.EMPTY_NODE,b=!1);const D=Zb(new yd(g,b,!1),new yd(r,o,!1));return new aO(t,D)}return h}function BA(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function bd(n,t){let e=null;for(const r of n.views.values())e=e||uO(r,t);return e}function UA(n,t){return t._queryParams.loadsAllData()?tC(n):n.views.get(t._queryIdentifier)}function HA(n,t){return null!=UA(n,t)}function Cd(n){return null!=tC(n)}function tC(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let bO=1;class jA{constructor(t){this.listenProvider_=t,this.syncPointTree_=new _n(null),this.pendingWriteTree_=function Yk(){return{visibleWrites:Da.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jD(n,t,e,r,o){return function Lk(n,t,e,r,o){(0,L.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:o}),o&&(n.visibleWrites=f_(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,o),o?Qp(n,new Yh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function wd(n,t,e=!1){const r=function Bk(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function Uk(n,t){const e=n.allWrites.findIndex(g=>g.writeId===t);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let o=r.visible,l=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const g=n.allWrites[h];g.visible&&(h>=e&&Hk(g,r.path)?o=!1:wi(r.path,g.path)&&(l=!0)),h--}return!!o&&(l?(function jk(n){n.visibleWrites=DA(n.allWrites,$k,Ht()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=CA(n.visibleWrites,r.path):Gn(r.children,b=>{n.visibleWrites=CA(n.visibleWrites,gn(r.path,b))}),!0))}(n.pendingWriteTree_,t)){let l=new _n(null);return null!=r.snap?l=l.set(Ht(),!0):Gn(r.children,h=>{l=l.set(new Gt(h),!0)}),Qp(n,new qb(r.path,l,e))}return[]}function p_(n,t,e){return Qp(n,new Yh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function $D(n,t,e,r){const o=t._path,l=n.syncPointTree_.get(o);let h=[];if(l&&("default"===t._queryIdentifier||HA(l,t))){const g=function _O(n,t,e,r){const o=t._queryIdentifier,l=[];let h=[];const g=Cd(n);if("default"===o)for(const[b,D]of n.views.entries())h=h.concat(PA(D,e,r)),OA(D)&&(n.views.delete(b),D.query._queryParams.loadsAllData()||l.push(D.query));else{const b=n.views.get(o);b&&(h=h.concat(PA(b,e,r)),OA(b)&&(n.views.delete(o),b.query._queryParams.loadsAllData()||l.push(b.query)))}return g&&!Cd(n)&&l.push(new(function pO(){return(0,L.hu)(eC,"Reference.ts has not been loaded"),eC}())(t._repo,t._path)),{removed:l,events:h}}(l,t,e,r);(function mO(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const b=g.removed;h=g.events;const D=-1!==b.findIndex(O=>O._queryParams.loadsAllData()),x=n.syncPointTree_.findOnPath(o,(O,B)=>Cd(B));if(D&&!x){const O=n.syncPointTree_.subtree(o);if(!O.isEmpty()){const B=function AO(n){return n.fold((t,e,r)=>{if(e&&Cd(e))return[tC(e)];{let o=[];return e&&(o=BA(e)),Gn(r,(l,h)=>{o=o.concat(h)}),o}})}(O);for(let J=0;J<B.length;++J){const le=B[J],Re=le.query,He=WA(n,le);n.listenProvider_.startListening(m_(Re),iC(n,Re),He.hashFn,He.onComplete)}}}!x&&b.length>0&&!r&&(D?n.listenProvider_.stopListening(m_(t),null):b.forEach(O=>{const B=n.queryToTagMap.get(sC(O));n.listenProvider_.stopListening(m_(O),B)})),function MO(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const o=sC(r),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,b)}return h}function $A(n,t,e){const r=t._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(r,(O,B)=>{const J=Ir(O,r);o=o||bd(B,J),l=l||Cd(B)});let g,h=n.syncPointTree_.get(r);h?(l=l||Cd(h),o=o||bd(h,Ht())):(h=new LA,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=o?g=!0:(g=!1,o=bt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,J)=>{const le=bd(J,Ht());le&&(o=o.updateImmediateChild(B,le))}));const b=HA(h,t);if(!b&&!t._queryParams.loadsAllData()){const O=sC(t);(0,L.hu)(!n.queryToTagMap.has(O),"View does not exist, but we have a tag");const B=function RO(){return bO++}();n.queryToTagMap.set(O,B),n.tagToQueryMap.set(B,O)}let x=function gO(n,t,e,r,o,l){const h=VA(n,t,r,o,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function dO(n,t){n.eventRegistrations_.push(t)}(h,e),function hO(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(at,(l,h)=>{r.push(qp(l,h))}),e.isFullyInitialized()&&r.push(gA(e.getNode())),FA(n,r,e.getNode(),t)}(h,e)}(h,t,e,Kb(n.pendingWriteTree_,r),o,g);if(!b&&!l){const O=UA(h,t);x=x.concat(function xO(n,t,e){const r=t._path,o=iC(n,t),l=WA(n,e),h=n.listenProvider_.startListening(m_(t),o,l.hashFn,l.onComplete),g=n.syncPointTree_.subtree(r);if(o)(0,L.hu)(!Cd(g.value),"If we're adding a query, it shouldn't be shadowed");else{const b=g.fold((D,x,O)=>{if(!St(D)&&x&&Cd(x))return[tC(x).query];{let B=[];return x&&(B=B.concat(BA(x).map(J=>J.query))),Gn(O,(J,le)=>{B=B.concat(le)}),B}});for(let D=0;D<b.length;++D){const x=b[D];n.listenProvider_.stopListening(m_(x),iC(n,x))}}return h}(n,t,O))}return x}function rC(n,t,e){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(h,g)=>{const D=bd(g,Ir(h,t));if(D)return D});return TA(o,t,l,e,!0)}function Qp(n,t){return zA(t,n.syncPointTree_,null,Kb(n.pendingWriteTree_,Ht()))}function zA(n,t,e,r){if(St(n.path))return GA(n,t,e,r);{const o=t.get(Ht());null==e&&null!=o&&(e=bd(o,Ht()));let l=[];const h=Rt(n.path),g=n.operationForChild(h),b=t.children.get(h);if(b&&g){const D=e?e.getImmediateChild(h):null,x=SA(r,h);l=l.concat(zA(g,b,D,x))}return o&&(l=l.concat(HD(o,n,r,e))),l}}function GA(n,t,e,r){const o=t.get(Ht());null==e&&null!=o&&(e=bd(o,Ht()));let l=[];return t.children.inorderTraversal((h,g)=>{const b=e?e.getImmediateChild(h):null,D=SA(r,h),x=n.operationForChild(h);x&&(l=l.concat(GA(x,g,b,D)))}),o&&(l=l.concat(HD(o,n,r,e))),l}function WA(n,t){const e=t.query,r=iC(n,e);return{hashFn:()=>(function lO(n){return n.viewCache_.serverCache.getNode()}(t)||bt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function DO(n,t,e){const r=zD(n,e);if(r){const o=GD(r),l=o.path,h=o.queryId,g=Ir(l,t);return WD(n,l,new u_(xD(h),g))}return[]}(n,e._path,r):function EO(n,t){return Qp(n,new u_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function eA(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(o,e);return $D(n,e,null,l)}}}}function iC(n,t){const e=sC(t);return n.queryToTagMap.get(e)}function sC(n){return n._path.toString()+"$"+n._queryIdentifier}function zD(n,t){return n.tagToQueryMap.get(t)}function GD(n){const t=n.indexOf("$");return(0,L.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Gt(n.substr(0,t))}}function WD(n,t,e){const r=n.syncPointTree_.get(t);return(0,L.hu)(r,"Missing sync point for query tag that we're tracking"),HD(r,e,Kb(n.pendingWriteTree_,t),null)}function m_(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function vO(){return(0,L.hu)(nC,"Reference.ts has not been loaded"),nC}())(n._repo,n._path):n}class qD{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new qD(e)}node(){return this.node_}}class ZD{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=gn(this.path_,t);return new ZD(this.syncTree_,e)}node(){return rC(this.syncTree_,this.path_)}}const qA=function(n,t,e){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?OO(n[".sv"],t,e):"object"==typeof n[".sv"]?PO(n[".sv"],t):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},OO=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},PO=function(n,t,e){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,L.hu)(!1,"Unexpected increment value: "+r);const o=t.node();if((0,L.hu)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return"number"!=typeof h?r:h+r},ZA=function(n,t,e,r){return KD(t,new ZD(e,n),r)},YD=function(n,t,e){return KD(n,new qD(t),e)};function KD(n,t,e){const r=n.getPriority().val(),o=qA(r,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const h=n,g=qA(h.getValue(),t,e);return g!==h.getValue()||o!==h.getPriority().val()?new Oe(g,Pn(o)):n}{const h=n;return l=h,o!==h.getPriority().val()&&(l=l.updatePriority(new Oe(o))),h.forEachChild(at,(g,b)=>{const D=KD(b,t.getImmediateChild(g),e);D!==b&&(l=l.updateImmediateChild(g,D))}),l}}class QD{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function oC(n,t){let e=t instanceof Gt?t:new Gt(t),r=n,o=Rt(e);for(;null!==o;){const l=(0,L.DV)(r.node.children,o)||{children:{},childCount:0};r=new QD(o,r,l),e=nn(e),o=Rt(e)}return r}function Jh(n){return n.node.value}function JD(n,t){n.node.value=t,XD(n)}function YA(n){return n.node.childCount>0}function aC(n,t){Gn(n.node.children,(e,r)=>{t(new QD(e,n,r))})}function KA(n,t,e,r){e&&!r&&t(n),aC(n,o=>{KA(o,t,!0,r)}),e&&r&&t(n)}function g_(n){return new Gt(null===n.parent?n.name:g_(n.parent)+"/"+n.name)}function XD(n){null!==n.parent&&function LO(n,t,e){const r=function NO(n){return void 0===Jh(n)&&!YA(n)}(e),o=(0,L.r3)(n.node.children,t);r&&o?(delete n.node.children[t],n.node.childCount--,XD(n)):!r&&!o&&(n.node.children[t]=e.node,n.node.childCount++,XD(n))}(n.parent,n.name,n)}const VO=/[\[\].#$\/\u0000-\u001F\u007F]/,BO=/[\[\].#$\u0000-\u001F\u007F]/,eT=10485760,lC=function(n){return"string"==typeof n&&0!==n.length&&!VO.test(n)},QA=function(n){return"string"==typeof n&&0!==n.length&&!BO.test(n)},__=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!zh(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},Dl=function(n,t,e,r){r&&void 0===t||y_((0,L.gK)(n,"value"),t,e)},y_=function(n,t,e){const r=e instanceof Gt?new mD(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Oc(r));if("function"==typeof t)throw new Error(n+"contains a function "+Oc(r)+" with contents = "+t.toString());if(zh(t))throw new Error(n+"contains "+t.toString()+" "+Oc(r));if("string"==typeof t&&t.length>eT/3&&(0,L.ug)(t)>eT)throw new Error(n+"contains a string greater than "+eT+" utf8 bytes "+Oc(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,l=!1;if(Gn(t,(h,g)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(l=!0,!lC(h)))throw new Error(n+" contains an invalid key ("+h+") "+Oc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function gD(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,L.ug)(t),_D(n)})(r,h),y_(n,g,r),function aA(n){const t=n.parts_.pop();n.byteLength_-=(0,L.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),o&&l)throw new Error(n+' contains ".value" child '+Oc(r)+" in addition to actual children.")}},JA=function(n,t,e,r){if(r&&void 0===t)return;const o=(0,L.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const l=[];Gn(t,(h,g)=>{const b=new Gt(h);if(y_(o,g,gn(e,b)),".priority"===$p(b)&&!__(g))throw new Error(o+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(b)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const l=md(r);for(let h=0;h<l.length;h++)if((".priority"!==l[h]||h!==l.length-1)&&!lC(l[h]))throw new Error(n+"contains an invalid key ("+l[h]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(oA);let o=null;for(e=0;e<t.length;e++){if(r=t[e],null!==o&&wi(o,r))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,l)},tT=function(n,t,e){if(!e||void 0!==t){if(zh(t))throw new Error((0,L.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!__(t))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},v_=function(n,t,e,r){if(!(r&&void 0===e||lC(e)))throw new Error((0,L.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},b_=function(n,t,e,r){if(!(r&&void 0===e||QA(e)))throw new Error((0,L.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Lo=function(n,t){if(".info"===Rt(t))throw new Error(n+" failed = Can't modify data under /.info/")},XA=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!lC(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),QA(n)}(e))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class $O{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cC(n,t){let e=null;for(let r=0;r<t.length;r++){const o=t[r],l=o.getPath();null!==e&&!zp(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(o)}e&&n.eventLists_.push(e)}function nT(n,t,e){cC(n,e),eM(n,r=>zp(r,t))}function Vo(n,t,e){cC(n,e),eM(n,r=>wi(r,t)||wi(t,r))}function eM(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];o&&(t(o.path)?(zO(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function zO(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();hd&&Tr("event: "+e.toString()),fd(r)}}}const tM="repo_interrupt";class WO{constructor(t,e,r,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $O,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wb(),this.transactionQueueTree_=new QD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nM(n){const e=n.infoData_.getNode(new Gt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function C_(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:nM(n)})}function rM(n,t,e,r,o){n.dataUpdateCount++;const l=new Gt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(o)if(r){const b=(0,L.UI)(e,D=>Pn(D));h=function IO(n,t,e,r){const o=zD(n,r);if(o){const l=GD(o),h=l.path,g=l.queryId,b=Ir(h,t),D=_n.fromObject(e);return WD(n,h,new Yp(xD(g),b,D))}return[]}(n.serverSyncTree_,l,b,o)}else{const b=Pn(e);h=function TO(n,t,e,r){const o=zD(n,r);if(null!=o){const l=GD(o),h=l.path,g=l.queryId,b=Ir(h,t);return WD(n,h,new Yh(xD(g),b,e))}return[]}(n.serverSyncTree_,l,b,o)}else if(r){const b=(0,L.UI)(e,D=>Pn(D));h=function wO(n,t,e){const r=_n.fromObject(e);return Qp(n,new Yp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,l,b)}else{const b=Pn(e);h=p_(n.serverSyncTree_,l,b)}let g=l;h.length>0&&(g=Xp(n,l)),Vo(n.eventQueue_,g,h)}function iM(n,t){rT(n,"connected",t),!1===t&&function QO(n){Jp(n,"onDisconnectEvents");const t=C_(n),e=Wb();AD(n.onDisconnect_,Ht(),(o,l)=>{const h=ZA(o,l,n.serverSyncTree_,t);Zp(e,o,h)});let r=[];AD(e,Ht(),(o,l)=>{r=r.concat(p_(n.serverSyncTree_,o,l));const h=aT(n,o);Xp(n,h)}),n.onDisconnect_=Wb(),Vo(n.eventQueue_,Ht(),r)}(n)}function rT(n,t,e){const r=new Gt("/.info/"+t),o=Pn(e);n.infoData_.updateSnapshot(r,o);const l=p_(n.infoSyncTree_,r,o);Vo(n.eventQueue_,r,l)}function uC(n){return n.nextWriteId_++}function iT(n,t,e,r,o){Jp(n,"set",{path:t.toString(),value:e,priority:r});const l=C_(n),h=Pn(e,r),g=rC(n.serverSyncTree_,t),b=YD(h,g,l),D=uC(n),x=jD(n.serverSyncTree_,t,b,D,!0);cC(n.eventQueue_,x),n.server_.put(t.toString(),h.val(!0),(B,J)=>{const le="ok"===B;le||fr("set at "+t+" failed: "+B);const Re=wd(n.serverSyncTree_,D,!le);Vo(n.eventQueue_,t,Re),Ed(0,o,B,J)});const O=aT(n,t);Xp(n,O),Vo(n.eventQueue_,O,[])}function JO(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,o)=>{"ok"===r&&SD(n.onDisconnect_,t),Ed(0,e,r,o)})}function sM(n,t,e,r){const o=Pn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,h)=>{"ok"===l&&Zp(n.onDisconnect_,t,o),Ed(0,r,l,h)})}function sT(n,t,e){let r;r=".info"===Rt(t._path)?$D(n.infoSyncTree_,t,e):$D(n.serverSyncTree_,t,e),nT(n.eventQueue_,t._path,r)}function oM(n){n.persistentConnection_&&n.persistentConnection_.interrupt(tM)}function Jp(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Tr(e,...t)}function Ed(n,t,e,r){t&&fd(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let l=o;r&&(l+=": "+r);const h=new Error(l);h.code=o,t(h)}})}function oT(n,t,e){return rC(n.serverSyncTree_,t,e)||bt.EMPTY_NODE}function dC(n,t=n.transactionQueueTree_){if(t||hC(n,t),Jh(t)){const e=lM(n,t);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function iP(n,t,e){const r=e.map(D=>D.currentWriteId),o=oT(n,t,r);let l=o;const h=o.hash();for(let D=0;D<e.length;D++){const x=e[D];(0,L.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const O=Ir(t,x.path);l=l.updateChild(O,x.currentOutputSnapshotRaw)}const g=l.val(!0),b=t;n.server_.put(b.toString(),g,D=>{Jp(n,"transaction put response",{path:b.toString(),status:D});let x=[];if("ok"===D){const O=[];for(let B=0;B<e.length;B++)e[B].status=2,x=x.concat(wd(n.serverSyncTree_,e[B].currentWriteId)),e[B].onComplete&&O.push(()=>e[B].onComplete(null,!0,e[B].currentOutputSnapshotResolved)),e[B].unwatcher();hC(n,oC(n.transactionQueueTree_,t)),dC(n,n.transactionQueueTree_),Vo(n.eventQueue_,t,x);for(let B=0;B<O.length;B++)fd(O[B])}else{if("datastale"===D)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{fr("transaction at "+b.toString()+" failed: "+D);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=D}Xp(n,t)}},h)}(n,g_(t),e)}else YA(t)&&aC(t,e=>{dC(n,e)})}function Xp(n,t){const e=aM(n,t),r=g_(e);return function sP(n,t,e){if(0===t.length)return;const r=[];let o=[];const h=t.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<t.length;g++){const b=t[g],D=Ir(e,b.path);let O,x=!1;if((0,L.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)x=!0,O=b.abortReason,o=o.concat(wd(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)x=!0,O="maxretry",o=o.concat(wd(n.serverSyncTree_,b.currentWriteId,!0));else{const B=oT(n,b.path,h);b.currentInputSnapshot=B;const J=t[g].update(B.val());if(void 0!==J){y_("transaction failed: Data returned ",J,b.path);let le=Pn(J);"object"==typeof J&&null!=J&&(0,L.r3)(J,".priority")||(le=le.updatePriority(B.getPriority()));const He=b.currentWriteId,Et=C_(n),wt=YD(le,B,Et);b.currentOutputSnapshotRaw=le,b.currentOutputSnapshotResolved=wt,b.currentWriteId=uC(n),h.splice(h.indexOf(He),1),o=o.concat(jD(n.serverSyncTree_,b.path,wt,b.currentWriteId,b.applyLocally)),o=o.concat(wd(n.serverSyncTree_,He,!0))}else x=!0,O="nodata",o=o.concat(wd(n.serverSyncTree_,b.currentWriteId,!0))}Vo(n.eventQueue_,e,o),o=[],x&&(t[g].status=2,setTimeout(t[g].unwatcher,Math.floor(0)),t[g].onComplete&&r.push("nodata"===O?()=>t[g].onComplete(null,!1,t[g].currentInputSnapshot):()=>t[g].onComplete(new Error(O),!1,null)))}hC(n,n.transactionQueueTree_);for(let g=0;g<r.length;g++)fd(r[g]);dC(n,n.transactionQueueTree_)}(n,lM(n,e),r),r}function aM(n,t){let e,r=n.transactionQueueTree_;for(e=Rt(t);null!==e&&void 0===Jh(r);)r=oC(r,e),e=Rt(t=nn(t));return r}function lM(n,t){const e=[];return cM(n,t,e),e.sort((r,o)=>r.order-o.order),e}function cM(n,t,e){const r=Jh(t);if(r)for(let o=0;o<r.length;o++)e.push(r[o]);aC(t,o=>{cM(n,o,e)})}function hC(n,t){const e=Jh(t);if(e){let r=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[r]=e[o],r++);e.length=r,JD(t,e.length>0?e:void 0)}aC(t,r=>{hC(n,r)})}function aT(n,t){const e=g_(aM(n,t)),r=oC(n.transactionQueueTree_,t);return function FO(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,o=>{lT(n,o)}),lT(n,r),KA(r,o=>{lT(n,o)}),e}function lT(n,t){const e=Jh(t);if(e){const r=[];let o=[],l=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,L.hu)(l===h-1,"All SENT items should be at beginning of queue."),l=h,e[h].status=3,e[h].abortReason="set"):((0,L.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(wd(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&r.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===l?JD(t,void 0):e.length=l+1,Vo(n.eventQueue_,g_(t),o);for(let h=0;h<r.length;h++)fd(r[h])}}const cT=function(n,t){const e=lP(n),r=e.namespace;return"firebase.com"===e.domain&&Zs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Zs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ea(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new Gt(e.pathString)}},lP=function(n){let t="",e="",r="",o="",l="",h=!0,g="https",b=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(g=n.substring(0,D-1),n=n.substring(D+2));let x=n.indexOf("/");-1===x&&(x=n.length);let O=n.indexOf("?");-1===O&&(O=n.length),t=n.substring(0,Math.min(x,O)),x<O&&(o=function oP(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let o=e[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(l){}t+="/"+o}return t}(n.substring(x,O)));const B=function aP(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):fr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,O)));D=t.indexOf(":"),D>=0?(h="https"===g||"wss"===g,b=parseInt(t.substring(D+1),10)):D=t.length;const J=t.slice(0,D);if("localhost"===J.toLowerCase())e="localhost";else if(J.split(".").length<=2)e=J;else{const le=t.indexOf(".");r=t.substring(0,le).toLowerCase(),e=t.substring(le+1),l=r}"ns"in B&&(l=B.ns)}return{host:t,port:b,domain:e,subdomain:r,secure:h,scheme:g,pathString:o,namespace:l}};class uM{constructor(t,e,r,o){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())}}class dM{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class hM{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class fM{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new L.BH;return JO(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Lo("OnDisconnect.remove",this._path);const t=new L.BH;return sM(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Lo("OnDisconnect.set",this._path),Dl("OnDisconnect.set",t,this._path,!1);const e=new L.BH;return sM(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Lo("OnDisconnect.setWithPriority",this._path),Dl("OnDisconnect.setWithPriority",t,this._path,!1),tT("OnDisconnect.setWithPriority",e,!1);const r=new L.BH;return function XO(n,t,e,r,o){const l=Pn(e,r);n.server_.onDisconnectPut(t.toString(),l.val(!0),(h,g)=>{"ok"===h&&Zp(n.onDisconnect_,t,l),Ed(0,o,h,g)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Lo("OnDisconnect.update",this._path),JA("OnDisconnect.update",t,this._path,!1);const e=new L.BH;return function eP(n,t,e,r){if((0,L.xb)(e))return Tr("onDisconnect().update() called with empty data.  Don't do anything."),void Ed(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,l)=>{"ok"===o&&Gn(e,(h,g)=>{const b=Pn(g);Zp(n.onDisconnect_,gn(t,h),b)}),Ed(0,r,o,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Cs{constructor(t,e,r,o){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=o}get key(){return St(this._path)?null:$p(this._path)}get ref(){return new Bo(this._repo,this._path)}get _queryIdentifier(){const t=yA(this._queryParams),e=Lg(t);return"{}"===e?"default":e}get _queryObject(){return yA(this._queryParams)}isEqual(t){if(!((t=(0,L.m9)(t))instanceof Cs))return!1;const e=this._repo===t._repo,r=zp(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Hb(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function fC(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Dd(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===c){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ys)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==Ks)throw new Error(r);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===at){if(null!=t&&!__(t)||null!=e&&!__(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof CD||n.getIndex()===wD,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pC(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Bo extends Cs{constructor(t,e){super(t,e,new $b,!1)}get parent(){const t=jb(this._path);return null===t?null:new Bo(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Xh{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Gt(t),r=ef(this.ref,t);return new Xh(this._node.getChild(e),r,at)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>t(new Xh(o,ef(this.ref,r),at)))}hasChild(t){const e=new Gt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pM(n,t){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==t?ef(n._root,t):n._root}function mM(n,t){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const e=cT(t,n._repo.repoInfo_.nodeAdmin);XA("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Zs("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),pM(n,e.path.toString())}function ef(n,t){return null===Rt((n=(0,L.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),b_("child","path",e,!1)):b_("child","path",t,!1),new Bo(n._repo,gn(n._path,t));var e}function uT(n,t){n=(0,L.m9)(n),Lo("set",n._path),Dl("set",t,n._path,!1);const e=new L.BH;return iT(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function fP(n,t){JA("update",t,n._path,!1);const e=new L.BH;return function KO(n,t,e,r){Jp(n,"update",{path:t.toString(),value:e});let o=!0;const l=C_(n),h={};if(Gn(e,(g,b)=>{o=!1,h[g]=ZA(gn(t,g),Pn(b),n.serverSyncTree_,l)}),o)Tr("update() called with empty data.  Don't do anything."),Ed(0,r,"ok",void 0);else{const g=uC(n),b=function CO(n,t,e,r){!function Vk(n,t,e,r){(0,L.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=OD(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const o=_n.fromObject(e);return Qp(n,new Yp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,h,g);cC(n.eventQueue_,b),n.server_.merge(t.toString(),e,(D,x)=>{const O="ok"===D;O||fr("update at "+t+" failed: "+D);const B=wd(n.serverSyncTree_,g,!O),J=B.length>0?Xp(n,t):t;Vo(n.eventQueue_,J,B),Ed(0,r,D,x)}),Gn(e,D=>{const x=aT(n,gn(t,D));Xp(n,x)}),Vo(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function pP(n){return function YO(n,t){const e=function SO(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(D,x)=>{const O=Ir(D,e);r=r||bd(x,O)});let o=n.syncPointTree_.get(e);o?r=r||bd(o,Ht()):(o=new LA,n.syncPointTree_=n.syncPointTree_.set(e,o));const l=null!=r,h=l?new yd(r,!0,!1):null;return function cO(n){return Yb(n.viewCache_)}(VA(o,t,Kb(n.pendingWriteTree_,t._path),l?h.getNode():bt.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const o=Pn(r).withIndex(t._queryParams.getIndex()),l=p_(n.serverSyncTree_,t._path,o);return nT(n.eventQueue_,t._path,l),Promise.resolve(o)},r=>(Jp(n,"get for query "+(0,L.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,L.m9)(n))._repo,n).then(t=>new Xh(t,new Bo(n._repo,n._path),n._queryParams.getIndex()))}class mC{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new uM("value",this,new Xh(t.snapshotNode,new Bo(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new dM(this,t,e):null}matches(t){return t instanceof mC&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class gC{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new dM(this,t,e):null}createEvent(t,e){(0,L.hu)(null!=t.childName,"Child events should have a childName.");const r=ef(new Bo(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new uM(t.type,this,new Xh(t.snapshotNode,r,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof gC&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function w_(n,t,e,r,o){let l;if("object"==typeof r&&(l=void 0,o=r),"function"==typeof r&&(l=r),o&&o.onlyOnce){const b=e,D=(x,O)=>{sT(n._repo,n,g),b(x,O)};D.userCallback=e.userCallback,D.context=e.context,e=D}const h=new hM(e,l||void 0),g="value"===t?new mC(h):new gC(t,h);return function tP(n,t,e){let r;r=".info"===Rt(t._path)?$A(n.infoSyncTree_,t,e):$A(n.serverSyncTree_,t,e),nT(n.eventQueue_,t._path,r)}(n._repo,n,g),()=>sT(n._repo,n,g)}function dT(n,t,e,r){return w_(n,"value",t,e,r)}function gM(n,t,e,r){return w_(n,"child_added",t,e,r)}function _M(n,t,e,r){return w_(n,"child_changed",t,e,r)}function yM(n,t,e,r){return w_(n,"child_moved",t,e,r)}function vM(n,t,e,r){return w_(n,"child_removed",t,e,r)}function bM(n,t,e){let r=null;const o=e?new hM(e):null;"value"===t?r=new mC(o):t&&(r=new gC(t,o)),sT(n._repo,n,r)}class Ta{}class CM extends Ta{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Dl("endAt",this._value,t._path,!0);const e=ID(t._queryParams,this._value,this._key);if(pC(e),Dd(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cs(t._repo,t._path,e,t._orderByCalled)}}class gP extends Ta{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Dl("endBefore",this._value,t._path,!1);const e=function Tk(n,t,e){let r,o;return n.index_===c?("string"==typeof t&&(t=mA(t)),o=ID(n,t,e)):(r=null==e?Ys:mA(e),o=ID(n,t,r)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(pC(e),Dd(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Cs(t._repo,t._path,e,t._orderByCalled)}}class wM extends Ta{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Dl("startAt",this._value,t._path,!0);const e=TD(t._queryParams,this._value,this._key);if(pC(e),Dd(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Cs(t._repo,t._path,e,t._orderByCalled)}}class vP extends Ta{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Dl("startAfter",this._value,t._path,!1);const e=function Dk(n,t,e){let r;if(n.index_===c)"string"==typeof t&&(t=pA(t)),r=TD(n,t,e);else{let o;o=null==e?Ks:pA(e),r=TD(n,t,o)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(pC(e),Dd(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Cs(t._repo,t._path,e,t._orderByCalled)}}class CP extends Ta{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Cs(t._repo,t._path,function wk(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class EP extends Ta{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Cs(t._repo,t._path,function Ek(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class TP extends Ta{constructor(t){super(),this._path=t}_apply(t){fC(t,"orderByChild");const e=new Gt(this._path);if(St(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new CD(e),o=zb(t._queryParams,r);return Dd(o),new Cs(t._repo,t._path,o,!0)}}class SP extends Ta{_apply(t){fC(t,"orderByKey");const e=zb(t._queryParams,c);return Dd(e),new Cs(t._repo,t._path,e,!0)}}class MP extends Ta{_apply(t){fC(t,"orderByPriority");const e=zb(t._queryParams,at);return Dd(e),new Cs(t._repo,t._path,e,!0)}}class xP extends Ta{_apply(t){fC(t,"orderByValue");const e=zb(t._queryParams,wD);return Dd(e),new Cs(t._repo,t._path,e,!0)}}class OP extends Ta{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Dl("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new CM(this._value,this._key)._apply(new wM(this._value,this._key)._apply(t))}}function Ia(n,...t){let e=(0,L.m9)(n);for(const r of t)e=r._apply(e);return e}(function fO(n){(0,L.hu)(!eC,"__referenceConstructor has already been defined"),eC=n})(Bo),function yO(n){(0,L.hu)(!nC,"__referenceConstructor has already been defined"),nC=n}(Bo);const hT={};function DM(n,t,e,r,o){let l=r||n.options.databaseURL;void 0===l&&(n.options.projectId||Zs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tr("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,D,h=cT(l,o),g=h.repoInfo;"undefined"!=typeof process&&process.env&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(b=!0,l=`http://${D}?ns=${g.namespace}`,h=cT(l,o),g=h.repoInfo):b=!h.repoInfo.secure;const x=o&&b?new Rc(Rc.OWNER):new eD(n.name,n.options,t);XA("Invalid Firebase Database URL",h),St(h.path)||Zs("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function VP(n,t,e,r){let o=hT[t.name];o||(o={},hT[t.name]=o);let l=o[n.toURLString()];return l&&Zs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new WO(n,false,e,r),o[n.toURLString()]=l,l}(g,n,x,new Qs(n.name,e));return new UP(O,n)}class UP{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function qO(n,t,e){if(n.stats_=qg(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Gb(n.repoInfo_,(r,o,l,h)=>{rM(n,r,o,l,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>iM(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new gd(n.repoInfo_,t,(r,o,l,h)=>{rM(n,r,o,l,h)},r=>{iM(n,r)},r=>{!function ZO(n,t){Gn(t,(e,r)=>{rT(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function nD(n,t){const e=n.toString();return Wg[e]||(Wg[e]=t()),Wg[e]}(n.repoInfo_,()=>new xk(n.stats_,n.server_)),n.infoData_=new Ik,n.infoSyncTree_=new jA({startListening:(r,o,l,h)=>{let g=[];const b=n.infoData_.getNode(r._path);return b.isEmpty()||(g=p_(n.infoSyncTree_,r._path,b),setTimeout(()=>{h("ok")},0)),g},stopListening:()=>{}}),rT(n,"connected",!1),n.serverSyncTree_=new jA({startListening:(r,o,l,h)=>(n.server_.listen(r,l,o,(g,b)=>{const D=h(g,b);Vo(n.eventQueue_,r._path,D)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bo(this._repo,Ht())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function LP(n,t){const e=hT[t];(!e||e[n.key]!==n)&&Zs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),oM(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Zs("Cannot call "+t+" on a deleted database.")}}function TM(){cD.IS_TRANSPORT_INITIALIZED&&fr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function HP(){TM(),xc.forceDisallow()}function jP(){TM(),Wh.forceDisallow(),xc.forceAllow()}function WP(n,t){JE(n,t)}const ZP={".sv":"timestamp"};class QP{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}gd.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},gd.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function qP(n){Fg(Ac.SDK_VERSION),(0,Ac._registerComponent)(new vl.wA("database",(t,{instanceIdentifier:e})=>DM(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ac.registerVersion)(yb,"0.13.1",n),(0,Ac.registerVersion)(yb,"0.13.1","esm2017")}();const tN=new jh.Yd("@firebase/database-compat"),IM=function(n){tN.warn("FIREBASE WARNING: "+n)};class iN{constructor(t){this._delegate=t}cancel(t){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(t,e);return r&&o.then(()=>r(null),l=>r(l)),o}update(t,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,IM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),o=>e(o)),r}}class sN{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Td{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),b_("DataSnapshot.child","path",t,!1),new Td(this._database,this._delegate.child(t))}hasChild(t){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),b_("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Td(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new Xs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ni{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,o){var l;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const h=ni.getCancelAndContextArgs_("Query.on",r,o),g=(D,x)=>{e.call(h.context,new Td(this.database,D),x)};g.userCallback=e,g.context=h.context;const b=null===(l=h.cancel)||void 0===l?void 0:l.bind(h.context);switch(t){case"value":return dT(this._delegate,g,b),e;case"child_added":return gM(this._delegate,g,b),e;case"child_removed":return vM(this._delegate,g,b),e;case"child_changed":return _M(this._delegate,g,b),e;case"child_moved":return yM(this._delegate,g,b),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",r,!0),e){const o=()=>{};o.userCallback=e,o.context=r,bM(this._delegate,t,o)}else bM(this._delegate,t)}get(){return pP(this._delegate).then(t=>new Td(this.database,t))}once(t,e,r,o){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const l=ni.getCancelAndContextArgs_("Query.once",r,o),h=new L.BH,g=(D,x)=>{const O=new Td(this.database,D);e&&e.call(l.context,O,x),h.resolve(O)};g.userCallback=e,g.context=l.context;const b=D=>{l.cancel&&l.cancel.call(l.context,D),h.reject(D)};switch(t){case"value":dT(this._delegate,g,b,{onlyOnce:!0});break;case"child_added":gM(this._delegate,g,b,{onlyOnce:!0});break;case"child_removed":vM(this._delegate,g,b,{onlyOnce:!0});break;case"child_changed":_M(this._delegate,g,b,{onlyOnce:!0});break;case"child_moved":yM(this._delegate,g,b,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new ni(this.database,Ia(this._delegate,function wP(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new CP(n)}(t)))}limitToLast(t){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new ni(this.database,Ia(this._delegate,function DP(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new EP(n)}(t)))}orderByChild(t){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new ni(this.database,Ia(this._delegate,function IP(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return b_("orderByChild","path",n,!1),new TP(n)}(t)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new ni(this.database,Ia(this._delegate,function AP(){return new SP}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new ni(this.database,Ia(this._delegate,function RP(){return new MP}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new ni(this.database,Ia(this._delegate,function kP(){return new xP}()))}startAt(t=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new ni(this.database,Ia(this._delegate,function yP(n=null,t){return v_("startAt","key",t,!0),new wM(n,t)}(t,e)))}startAfter(t=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new ni(this.database,Ia(this._delegate,function bP(n,t){return v_("startAfter","key",t,!0),new vP(n,t)}(t,e)))}endAt(t=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new ni(this.database,Ia(this._delegate,function mP(n,t){return v_("endAt","key",t,!0),new CM(n,t)}(t,e)))}endBefore(t=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new ni(this.database,Ia(this._delegate,function _P(n,t){return v_("endBefore","key",t,!0),new gP(n,t)}(t,e)))}equalTo(t,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new ni(this.database,Ia(this._delegate,function PP(n,t){return v_("equalTo","key",t,!0),new OP(n,t)}(t,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ni))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const o={cancel:void 0,context:void 0};if(e&&r)o.cancel=e,(0,L.Wj)(t,"cancel",o.cancel,!0),o.context=r,(0,L.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Xs(this.database,new Bo(this._delegate._repo,this._delegate._path))}}class Xs extends ni{constructor(t,e){super(t,new Cs(e._repo,e._path,new $b,!1)),this.database=t,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Xs(this.database,ef(this._delegate,t))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Xs(this.database,t):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new Xs(this.database,this._delegate.root)}set(t,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const r=uT(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}update(t,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,IM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lo("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const r=fP(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function hP(n,t,e){if(Lo("setWithPriority",n._path),Dl("setWithPriority",t,n._path,!1),tT("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new L.BH;return iT(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&o.then(()=>r(null),l=>r(l)),o}remove(t){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",t,!0);const e=function uP(n){return Lo("remove",n._path),uT(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function JP(n,t,e){var r;if(n=(0,L.m9)(n),Lo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(r=null==e?void 0:e.applyLocally)||void 0===r||r,l=new L.BH,g=dT(n,()=>{});return function rP(n,t,e,r,o,l){Jp(n,"transaction on "+t);const h={path:t,update:e,onComplete:r,status:null,order:YE(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=oT(n,t,void 0);h.currentInputSnapshot=g;const b=h.update(g.val());if(void 0===b)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{y_("transaction failed: Data returned ",b,h.path),h.status=0;const D=oC(n.transactionQueueTree_,t),x=Jh(D)||[];let O;x.push(h),JD(D,x),"object"==typeof b&&null!==b&&(0,L.r3)(b,".priority")?(O=(0,L.DV)(b,".priority"),(0,L.hu)(__(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(rC(n.serverSyncTree_,t)||bt.EMPTY_NODE).getPriority().val();const B=C_(n),J=Pn(b,O),le=YD(J,g,B);h.currentOutputSnapshotRaw=J,h.currentOutputSnapshotResolved=le,h.currentWriteId=uC(n);const Re=jD(n.serverSyncTree_,t,le,h.currentWriteId,h.applyLocally);Vo(n.eventQueue_,t,Re),dC(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,D,x)=>{let O=null;b?l.reject(b):(O=new Xh(x,new Bo(n._repo,n._path),at),l.resolve(new QP(D,O)))},g,o),l.promise}(this._delegate,t,{applyLocally:r}).then(l=>new sN(l.committed,new Td(this.database,l.snapshot)));return e&&o.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),o}setPriority(t,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const r=function dP(n,t){n=(0,L.m9)(n),Lo("setPriority",n._path),tT("setPriority",t,!1);const e=new L.BH;return iT(n._repo,gn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}push(t,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const r=function cP(n,t){n=(0,L.m9)(n),Lo("push",n._path),Dl("push",t,n._path,!0);const e=nM(n._repo),r=yk(e),o=ef(n,r),l=ef(n,r);let h;return h=null!=t?uT(l,t).then(()=>l):Promise.resolve(l),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,t),o=r.then(h=>new Xs(this.database,h));e&&o.then(()=>e(null),h=>e(h));const l=new Xs(this.database,r);return l.then=o.then.bind(o),l.catch=o.catch.bind(o,void 0),l}onDisconnect(){return Lo("Reference.onDisconnect",this._delegate._path),new iN(new fM(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class E_{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:HP,forceLongPolling:jP}}useEmulator(t,e,r={}){!function $P(n,t,e,r={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Zs("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Zs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Rc(Rc.OWNER);else if(r.mockUserToken){const h="string"==typeof r.mockUserToken?r.mockUserToken:(0,L.Sg)(r.mockUserToken,n.app.options.projectId);l=new Rc(h)}!function FP(n,t,e,r){n.repoInfo_=new Ea(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(o,t,e,l)}(this._delegate,t,e,r)}ref(t){if((0,L.Dv)("database.ref",0,1,arguments.length),t instanceof Xs){const e=mM(this._delegate,t.toString());return new Xs(this,e)}{const e=pM(this._delegate,t);return new Xs(this,e)}}refFromURL(t){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const r=mM(this._delegate,t);return new Xs(this,r)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function zP(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),oM(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function GP(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function nP(n){n.persistentConnection_&&n.persistentConnection_.resume(tM)}(n._repo)}(this._delegate)}}E_.ServerValue={TIMESTAMP:function YP(){return ZP}(),increment:n=>function KP(n){return{".sv":{increment:n}}}(n)};var aN=Object.freeze({__proto__:null,initStandalone:function oN({app:n,url:t,version:e,customAuthImpl:r,namespace:o,nodeAdmin:l=!1}){Fg(e);const h=new vl.zt("auth-internal",new vl.H0("database-standalone"));return h.setComponent(new vl.wA("auth-internal",()=>r,"PRIVATE")),{instance:new E_(DM(n,h,void 0,t,l),n),namespace:o}}});const lN=E_.ServerValue;!function cN(n){n.INTERNAL.registerComponent(new vl.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new E_(o,r)},"PUBLIC").setServiceProps({Reference:Xs,Query:ni,Database:E_,DataSnapshot:Td,enableLogging:WP,INTERNAL:aN,ServerValue:lN}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.1")}(qE.Z);var _C=P(5363),uN=P(6063);class dN extends zt.x{constructor(t=1/0,e=1/0,r=uN.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;e||(r.push(t),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!t.closed;h+=r?1:2)t.next(l[h]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=e.now();let g=0;for(let b=1;b<r.length&&r[b]<=h;b+=2)g=b;g&&r.splice(0,g+1)}}}function SM(n,t,e){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):r=null!=n?n:1/0,(0,Rp.B)({connector:()=>new dN(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function AM(n,t){return(0,$n.m)(t)?Cn(()=>n,t):Cn(()=>n)}var fT=P(9468);P(5867);const RM=new Map,gN={activated:!1,tokenObservers:[]},_N={initialized:!1,enabled:!1};function Br(n){return RM.get(n)||gN}function Sa(n,t){RM.set(n,t)}function vC(){return _N}class wN{constructor(t,e,r,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,bl.Z)(function*(){e.stop();try{e.pending=new L.BH,yield function EN(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const zi=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kM(n){if(!Br(n).activated)throw zi.create("use-before-activation",{appName:n.name})}function _T(n,t){return yT.apply(this,arguments)}function yT(){return(yT=(0,bl.Z)(function*({url:n,body:t},e){var r,o;const l={"Content-Type":"application/json"},h=e.getImmediate({optional:!0});if(h){const J=yield h.getHeartbeatsHeader();J&&(l["X-Firebase-Client"]=J)}const g={method:"POST",body:JSON.stringify(t),headers:l};let b,D;try{b=yield fetch(n,g)}catch(J){throw zi.create("fetch-network-error",{originalErrorMessage:null===(r=J)||void 0===r?void 0:r.message})}if(200!==b.status)throw zi.create("fetch-status-error",{httpStatus:b.status});try{D=yield b.json()}catch(J){throw zi.create("fetch-parse-error",{originalErrorMessage:null===(o=J)||void 0===o?void 0:o.message})}const x=D.ttl.match(/^([\d.]+)(s)$/);if(!x||!x[2]||isNaN(Number(x[1])))throw zi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${D.ttl}`});const O=1e3*Number(x[1]),B=Date.now();return{token:D.token,expireTimeMillis:B+O,issuedAtTimeMillis:B}})).apply(this,arguments)}function AN(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const D_="firebase-app-check-store";let wC=null;function PM(){return wC||(wC=new Promise((n,t)=>{var e;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var l;t(zi.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(D_,{keyPath:"compositeKey"})}}catch(r){t(zi.create("storage-open",{originalErrorMessage:null===(e=r)||void 0===e?void 0:e.message}))}}),wC)}function vT(){return(vT=(0,bl.Z)(function*(n,t){const r=(yield PM()).transaction(D_,"readwrite"),l=r.objectStore(D_).put({compositeKey:n,value:t});return new Promise((h,g)=>{l.onsuccess=b=>{h()},r.onerror=b=>{var D;g(zi.create("storage-set",{originalErrorMessage:null===(D=b.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const T_=new jh.Yd("@firebase/app-check");function VM(n,t){return(0,L.hl)()?function kN(n,t){return function NM(n,t){return vT.apply(this,arguments)}(function LM(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{T_.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function BM(){return vC().enabled}function UM(){return ET.apply(this,arguments)}function ET(){return(ET=(0,bl.Z)(function*(){const n=vC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const VN={error:"UNKNOWN_ERROR"};function BN(n){return L.US.encodeString(JSON.stringify(n),!1)}function EC(n){return DT.apply(this,arguments)}function DT(){return(DT=(0,bl.Z)(function*(n,t=!1){const e=n.app;kM(e);const r=Br(e);let l,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&DC(b)&&(o=b)}if(!t&&o&&DC(o))return{token:o.token};let g,h=!1;if(BM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_T(AN(e,yield UM()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),h=!0);const b=yield r.exchangeTokenPromise;return yield VM(e,b),Sa(e,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?T_.warn(b.message):T_.error(b),l=b}return o?(g={token:o.token},Sa(e,Object.assign(Object.assign({},r),{token:o})),yield VM(e,o)):g=HN(l),h&&jM(e,g),g})).apply(this,arguments)}function IT(n,t){const e=Br(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Sa(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function HM(n){const{app:t}=n,e=Br(t);let r=e.tokenRefresher;r||(r=function UN(n){const{app:t}=n;return new wN((0,bl.Z)(function*(){let r;if(r=Br(t).token?yield EC(n,!0):yield EC(n),r.error)throw r.error}),()=>!0,()=>{const e=Br(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Sa(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function jM(n,t){const e=Br(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(o){}}function DC(n){return n.expireTimeMillis-Date.now()>0}function HN(n){return{token:BN(VN),error:n}}class jN{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Br(this.app);for(const e of t)IT(this.app,e.next);return Promise.resolve()}}const KM="app-check-internal";!function nF(){(0,Ac._registerComponent)(new vl.wA("app-check",n=>function $N(n,t){return new jN(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(KM).initialize()})),(0,Ac._registerComponent)(new vl.wA(KM,n=>function zN(n){return{getToken:t=>EC(n,t),addTokenListener:t=>function TT(n,t,e,r){const{app:o}=n,l=Br(o),h={next:e,error:r,type:t};if(Sa(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&DC(l.token)){const g=l.token;Promise.resolve().then(()=>{e({token:g.token}),HM(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>HM(n))}(n,"INTERNAL",t),removeTokenListener:t=>IT(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ac.registerVersion)("@firebase/app-check","0.5.9")}();class RT{constructor(){return(0,vs.vb)("app-check")}}"undefined"!=typeof window&&window;var aF=P(127);const JM=new u.OlP("angularfire2.auth.use-emulator"),XM=new u.OlP("angularfire2.auth.settings"),eR=new u.OlP("angularfire2.auth.tenant-id"),tR=new u.OlP("angularfire2.auth.langugage-code"),nR=new u.OlP("angularfire2.auth.use-device-language"),rR=new u.OlP("angularfire.auth.persistence"),iR=(n,t,e,r,o,l,h,g)=>(0,bs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),r&&(b.tenantId=r),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[D,x]of Object.entries(h))b.settings[D]=x;return g&&b.setPersistence(g),b},[e,r,o,l,h,g]);let sR=(()=>{class n{constructor(e,r,o,l,h,g,b,D,x,O,B,J){const le=new zt.x,Re=Qe(void 0).pipe((0,_C.Q)(h.outsideAngular),Cn(()=>l.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9916)))),(0,yt.U)(()=>(0,bs.on)(e,l,r)),(0,yt.U)(He=>iR(He,l,g,D,x,O,b,B)),SM({bufferSize:1,refCount:!1}));if(function Wo(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{Re.pipe(_o()).subscribe();const Et=Re.pipe(Cn(At=>At.getRedirectResult().then(Sr=>Sr,()=>null)),vs.iC,SM({bufferSize:1,refCount:!1})),wt=Re.pipe(Cn(At=>new en.y(Sr=>({unsubscribe:l.runOutsideAngular(()=>At.onAuthStateChanged(Ur=>Sr.next(Ur),Ur=>Sr.error(Ur),()=>Sr.complete()))})))),Yt=Re.pipe(Cn(At=>new en.y(Sr=>({unsubscribe:l.runOutsideAngular(()=>At.onIdTokenChanged(Ur=>Sr.next(Ur),Ur=>Sr.error(Ur),()=>Sr.complete()))}))));this.authState=Et.pipe(AM(wt),(0,fT.R)(h.outsideAngular),(0,_C.Q)(h.insideAngular)),this.user=Et.pipe(AM(Yt),(0,fT.R)(h.outsideAngular),(0,_C.Q)(h.insideAngular)),this.idToken=this.user.pipe(Cn(At=>At?(0,bn.D)(At.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(Cn(At=>At?(0,bn.D)(At.getIdTokenResult()):Qe(null))),this.credential=(0,Ic.T)(Et,le,this.authState.pipe(er(At=>!At))).pipe((0,yt.U)(At=>(null==At?void 0:At.user)?At:null),(0,fT.R)(h.outsideAngular),(0,_C.Q)(h.insideAngular))}return(0,bs.pX)(this,Re,l,{spy:{apply:(He,Et,wt)=>{(He.startsWith("signIn")||He.startsWith("createUser"))&&wt.then(Yt=>le.next(Yt))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(bs.Dh),u.LFG(bs.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(vs.HU),u.LFG(JM,8),u.LFG(XM,8),u.LFG(eR,8),u.LFG(tR,8),u.LFG(nR,8),u.LFG(rR,8),u.LFG(RT,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function oR(n){return null==n}function aR(n){return"function"==typeof n.set}function lR(n,t){return aR(t)?t:n.ref(t)}function cR(n,t){if(function cF(n){return"string"==typeof n}(n))return t.stringCase();if(aR(n))return t.firebaseCase();if(function uF(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function I_(n,t,e="on",r=Ep.z){return new en.y(o=>{let l=null;return l=n[e](t,(h,g)=>{r.schedule(()=>{o.next({snapshot:h,prevKey:g})}),"once"===e&&r.schedule(()=>o.complete())},h=>{r.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,yt.U)(o=>{const{snapshot:l,prevKey:h}=o;let g=null;return l.exists()&&(g=l.key),{type:t,payload:l,prevKey:h,key:g}}),(0,Rp.B)())}function uR(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function fF(n,t){const{payload:e,prevKey:r,key:o}=t,l=uR(n,o),h=function hF(n,t){if(oR(t))return 0;{const e=uR(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let g=null;t.payload.forEach(b=>{const D={payload:b,type:"value",prevKey:g,key:b.key};return g=b.key,n=[...n,D],!1})}return n;case"child_added":if(l>-1){const g=n[l-1];(g&&g.key||null)!==r&&(n=n.filter(b=>b.payload.key!==e.key)).splice(h,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(g=>g.payload.key!==e.key);case"child_changed":return n.map(g=>g.payload.key===o?t:g);case"child_moved":if(l>-1){const g=n.splice(l,1)[0];return(n=n.slice()).splice(h,0,g),n}return n;default:return n}}function dR(n){return(oR(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function hR(n,t,e){return function dF(n,t,e){return I_(n,"value","once",e).pipe(Cn(r=>{const o=[Qe(r)];return t.forEach(l=>o.push(I_(n,l,"on",e))),(0,Ic.T)(...o).pipe(ki(fF,[]))}),Ao())}(n,t=dR(t),e)}function fR(n,t,e){const r=(t=dR(t)).map(o=>I_(n,o,"on",e));return(0,Ic.T)(...r)}function pR(n,t){return function(r,o){return cR(r,{stringCase:()=>n.child(r)[t](o),firebaseCase:()=>r[t](o),snapshotCase:()=>r.ref[t](o)})}}function _F(n){return function(e){return e?cR(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function mR(n,t){return function(){return I_(n,"value","on",t)}}const bF=new u.OlP("angularfire2.realtimeDatabaseURL"),CF=new u.OlP("angularfire2.database.use-emulator");let S_=(()=>{class n{constructor(e,r,o,l,h,g,b,D,x,O,B,J,le,Re,He){this.schedulers=g;const Et=b,wt=(0,bs.on)(e,h,r);D&&iR(wt,h,x,B,J,le,O,Re),this.database=(0,bs.cc)(`${wt.name}.database.${o}`,"AngularFireDatabase",wt.name,()=>{const Yt=h.runOutsideAngular(()=>wt.database(o||void 0));return Et&&Yt.useEmulator(...Et),Yt},[Et])}list(e,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>lR(this.database,e));let l=o;return r&&(l=r(o)),function yF(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:pR(r,"update"),set:pR(r,"set"),push:o=>r.push(o),remove:_F(r),snapshotChanges:o=>hR(n,o,e).pipe(vs.iC),stateChanges:o=>fR(n,o,e).pipe(vs.iC),auditTrail:o=>function pF(n,t,e){return function gF(n,t,e){return function mF(n,t){return I_(n,"value","on",t).pipe((0,yt.U)(e=>{let r;return e.payload.forEach(o=>(r=o.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function KS(...n){const t=(0,ho.jO)(n);return(0,fn.e)((e,r)=>{const o=n.length,l=new Array(o);let h=n.map(()=>!1),g=!1;for(let b=0;b<o;b++)(0,Vs.Xf)(n[b]).subscribe((0,sn.x)(r,D=>{l[b]=D,!g&&!h[b]&&(h[b]=!0,(g=h.every(qr.y))&&(h=null))},Ry.Z));e.subscribe((0,sn.x)(r,b=>{if(g){const D=[b,...l];r.next(t?t(...D):D)}}))})}(t),(0,yt.U)(([o,l])=>{const h=o.lastKeyToLoad,g=l.map(b=>b.key);return{actions:l,lastKeyToLoad:h,loadedKeys:g}}),function GE(n){return(0,fn.e)((t,e)=>{let r=!1,o=0;t.subscribe((0,sn.x)(e,l=>(r||(r=!n(l,o++)))&&e.next(l)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,yt.U)(o=>o.actions))}(n,fR(n,t).pipe(ki((o,l)=>[...o,l],[])),e)}(n,o,e).pipe(vs.iC),valueChanges:(o,l)=>hR(n,o,e).pipe((0,yt.U)(g=>g.map(b=>l&&l.idField?Object.assign(Object.assign({},b.payload.val()),{[l.idField]:b.key}):b.payload.val())),vs.iC)}}(l,this)}object(e){return function vF(n,t){return{query:n,snapshotChanges:()=>mR(n,t.schedulers.outsideAngular)().pipe(vs.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>mR(n,t.schedulers.outsideAngular)().pipe(vs.iC,(0,yt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>lR(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(bs.Dh),u.LFG(bs.xv,8),u.LFG(bF,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(vs.HU),u.LFG(CF,8),u.LFG(sR,8),u.LFG(JM,8),u.LFG(XM,8),u.LFG(eR,8),u.LFG(tR,8),u.LFG(nR,8),u.LFG(rR,8),u.LFG(RT,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wF=(()=>{class n{constructor(){aF.Z.registerVersion("angularfire",vs.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[S_]}),n})(),gR=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DF=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=So(e);return new en.y(o=>{const h=this._observeElement(r).subscribe(o);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new zt.x,o=this._mutationObserverFactory.create(l=>r.next(l));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:o}=this._observedElements.get(e);r&&r.disconnect(),o.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(gR))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TF=(()=>{class n{constructor(e,r,o){this._contentObserver=e,this._elementRef=r,this._ngZone=o,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ms(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function X_(n,t=0){return ey(n)?Number(n):t}(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function EF(n,t=Ep.z){return(0,fn.e)((e,r)=>{let o=null,l=null,h=null;const g=()=>{if(o){o.unsubscribe(),o=null;const D=l;l=null,r.next(D)}};function b(){const D=h+n,x=t.now();if(x<D)return o=this.schedule(void 0,D-x),void r.add(o);g()}e.subscribe((0,sn.x)(r,D=>{l=D,h=t.now(),o||(o=t.schedule(b,n),r.add(o))},()=>{g(),r.complete()},void 0,()=>{l=o=null}))})}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(DF),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),IF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[gR]}),n})();var SF=P(1144);const AF=["addListener","removeListener"],MF=["addEventListener","removeEventListener"],RF=["on","off"];function kT(n,t,e,r){if((0,$n.m)(e)&&(r=e,e=void 0),r)return kT(n,t,e).pipe(qa(r));const[o,l]=function OF(n){return(0,$n.m)(n.addEventListener)&&(0,$n.m)(n.removeEventListener)}(n)?MF.map(h=>g=>n[h](t,g,e)):function xF(n){return(0,$n.m)(n.addListener)&&(0,$n.m)(n.removeListener)}(n)?AF.map(_R(n,t)):function kF(n){return(0,$n.m)(n.on)&&(0,$n.m)(n.off)}(n)?RF.map(_R(n,t)):[];if(!o&&(0,SF.z)(n))return(0,wn.z)(h=>kT(h,t,e))((0,Vs.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new en.y(h=>{const g=(...b)=>h.next(1<b.length?b:b[0]);return o(g),()=>l(g)})}function _R(n,t){return e=>r=>n[e](t,r)}const PF=["connectionContainer"],NF=["inputContainer"],FF=["label"];function LF(n,t){1&n&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15)(3,"div",16)(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15)(7,"div",16)(8,"div",17),u.qZA(),u.BQk())}function VF(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",19),u.NdJ("cdkObserveContent",function(){return u.CHM(e),u.oxw().updateOutlineGap()}),u.Hsn(1,1),u.qZA()}if(2&n){const e=u.oxw();u.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function BF(n,t){if(1&n&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&n){const e=u.oxw(2);u.xp6(3),u.Oqu(e._control.placeholder)}}function UF(n,t){1&n&&u.Hsn(0,3,["*ngSwitchCase","true"])}function HF(n,t){1&n&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function jF(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){return u.CHM(e),u.oxw().updateOutlineGap()}),u.YNc(2,BF,4,1,"ng-container",12),u.YNc(3,UF,1,0,"ng-content",12),u.YNc(4,HF,2,0,"span",22),u.qZA()}if(2&n){const e=u.oxw();u.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),u.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),u.uIk("for",e._control.id)("aria-owns",e._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function $F(n,t){1&n&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function zF(n,t){if(1&n&&(u.TgZ(0,"div",25),u._UZ(1,"span",26),u.qZA()),2&n){const e=u.oxw();u.xp6(1),u.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function GF(n,t){if(1&n&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&n){const e=u.oxw();u.Q6J("@transitionMessages",e._subscriptAnimationState)}}function WF(n,t){if(1&n&&(u.TgZ(0,"div",30),u._uU(1),u.qZA()),2&n){const e=u.oxw(2);u.Q6J("id",e._hintLabelId),u.xp6(1),u.Oqu(e.hintLabel)}}function qF(n,t){if(1&n&&(u.TgZ(0,"div",27),u.YNc(1,WF,2,2,"div",28),u.Hsn(2,6),u._UZ(3,"div",29),u.Hsn(4,7),u.qZA()),2&n){const e=u.oxw();u.Q6J("@transitionMessages",e._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",e.hintLabel)}}const ZF=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],YF=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],KF=new u.OlP("MatError"),QF={transitionMessages:dc("transitionMessages",[hr("enter",tn({opacity:1,transform:"translateY(0%)"})),Xr("void => enter",[tn({opacity:0,transform:"translateY(-5px)"}),Ro("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let OT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n}),n})();const JF=new u.OlP("MatHint");let A_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),XF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const e1=new u.OlP("MatPrefix"),t1=new u.OlP("MatSuffix");let yR=0;const r1=td(class{constructor(n){this._elementRef=n}},"primary"),s1=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),bR=new u.OlP("MatFormField");let PT=(()=>{class n extends r1{constructor(e,r,o,l,h,g,b){super(e),this._changeDetectorRef=r,this._dir=o,this._defaults=l,this._platform=h,this._ngZone=g,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new zt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+yR++,this._labelId="mat-form-field-label-"+yR++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ms(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Bs(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(fa(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(fa(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ic.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Bs(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Bs(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(fa(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,kT(this._label.nativeElement,"transitionend").pipe((0,pi.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,o=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const x=r.querySelectorAll(`${o}, ${l}`);for(let O=0;O<x.length;O++)x[O].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let h=0,g=0;const b=r.querySelectorAll(o),D=r.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const x=r.getBoundingClientRect();if(0===x.width&&0===x.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const O=this._getStartEnd(x),B=e.children,J=this._getStartEnd(B[0].getBoundingClientRect());let le=0;for(let Re=0;Re<B.length;Re++)le+=B[Re].offsetWidth;h=Math.abs(J-O)-5,g=le>0?.75*le+10:0}for(let x=0;x<b.length;x++)b[x].style.width=`${h}px`;for(let x=0;x<D.length;x++)D[x].style.width=`${g}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(ry,8),u.Y36(s1,8),u.Y36(ua),u.Y36(u.R0b),u.Y36(vp,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,o){if(1&e&&(u.Suo(o,OT,5),u.Suo(o,OT,7),u.Suo(o,A_,5),u.Suo(o,A_,7),u.Suo(o,XF,5),u.Suo(o,KF,5),u.Suo(o,JF,5),u.Suo(o,e1,5),u.Suo(o,t1,5)),2&e){let l;u.iGM(l=u.CRH())&&(r._controlNonStatic=l.first),u.iGM(l=u.CRH())&&(r._controlStatic=l.first),u.iGM(l=u.CRH())&&(r._labelChildNonStatic=l.first),u.iGM(l=u.CRH())&&(r._labelChildStatic=l.first),u.iGM(l=u.CRH())&&(r._placeholderChild=l.first),u.iGM(l=u.CRH())&&(r._errorChildren=l),u.iGM(l=u.CRH())&&(r._hintChildren=l),u.iGM(l=u.CRH())&&(r._prefixChildren=l),u.iGM(l=u.CRH())&&(r._suffixChildren=l)}},viewQuery:function(e,r){if(1&e&&(u.Gf(PF,7),u.Gf(NF,5),u.Gf(FF,5)),2&e){let o;u.iGM(o=u.CRH())&&(r._connectionContainerRef=o.first),u.iGM(o=u.CRH())&&(r._inputContainerRef=o.first),u.iGM(o=u.CRH())&&(r._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&u.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:bR,useExisting:n}]),u.qOj],ngContentSelectors:YF,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(u.F$t(ZF),u.TgZ(0,"div",0)(1,"div",1,2),u.NdJ("click",function(l){return r._control.onContainerClick&&r._control.onContainerClick(l)}),u.YNc(3,LF,9,0,"ng-container",3),u.YNc(4,VF,2,1,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,jF,5,16,"label",8),u.qZA()(),u.YNc(10,$F,2,0,"div",9),u.qZA(),u.YNc(11,zF,2,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,GF,2,1,"div",12),u.YNc(14,qF,5,2,"div",13),u.qZA()()),2&e&&(u.xp6(3),u.Q6J("ngIf","outline"==r.appearance),u.xp6(1),u.Q6J("ngIf",r._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",r._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",r._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=r.appearance),u.xp6(1),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},directives:[Vn,TF,ar,zr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[QF.transitionMessages]},changeDetection:0}),n})(),NT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ml,ys,IF],ys]}),n})();function Id(n){return null==n||0===n.length}function ER(n){return null!=n&&"number"==typeof n.length}const Ei=new u.OlP("NgValidators"),Sd=new u.OlP("NgAsyncValidators"),d1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class h1{static min(t){return function DR(n){return t=>{if(Id(t.value)||Id(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function TR(n){return t=>{if(Id(t.value)||Id(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function IR(n){return Id(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function SR(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function AR(n){return Id(n.value)||d1.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function MR(n){return t=>Id(t.value)||!ER(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function RR(n){return t=>ER(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function xR(n){if(!n)return IC;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Id(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return LR(t)}static composeAsync(t){return VR(t)}}function IC(n){return null}function kR(n){return null!=n}function OR(n){const t=(0,u.QGY)(n)?(0,bn.D)(n):n;return(0,u.CqO)(t),t}function PR(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function NR(n,t){return t.map(e=>e(n))}function FR(n){return n.map(t=>function f1(n){return!n.validate}(t)?t:e=>t.validate(e))}function LR(n){if(!n)return null;const t=n.filter(kR);return 0==t.length?null:function(e){return PR(NR(e,t))}}function LT(n){return null!=n?LR(FR(n)):null}function VR(n){if(!n)return null;const t=n.filter(kR);return 0==t.length?null:function(e){return function o1(...n){const t=(0,ho.jO)(n),{args:e,keys:r}=hn(n),o=new en.y(l=>{const{length:h}=e;if(!h)return void l.complete();const g=new Array(h);let b=h,D=h;for(let x=0;x<h;x++){let O=!1;(0,Vs.Xf)(e[x]).subscribe((0,sn.x)(l,B=>{O||(O=!0,D--),g[x]=B},()=>b--,void 0,()=>{(!b||!O)&&(D||l.next(r?$l(r,g):g),l.complete())}))}});return t?o.pipe(qa(t)):o}(NR(e,t).map(OR)).pipe((0,yt.U)(PR))}}function VT(n){return null!=n?VR(FR(n)):null}function BR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function UR(n){return n._rawValidators}function HR(n){return n._rawAsyncValidators}function BT(n){return n?Array.isArray(n)?n:[n]:[]}function SC(n,t){return Array.isArray(n)?n.includes(t):n===t}function jR(n,t){const e=BT(t);return BT(n).forEach(o=>{SC(e,o)||e.push(o)}),e}function $R(n,t){return BT(t).filter(e=>!SC(n,e))}class zR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=LT(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=VT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Lc extends zR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gi extends zR{get formDirective(){return null}get path(){return null}}function M_(n,t){jT(n,t),t.valueAccessor.writeValue(n.value),function E1(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qR(n,t)})}(n,t),function T1(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function D1(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function w1(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function RC(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),kC(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xC(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function jT(n,t){const e=UR(n);null!==t.validator?n.setValidators(BR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=HR(n);null!==t.asyncValidator?n.setAsyncValidators(BR(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();xC(t._rawValidators,o),xC(t._rawAsyncValidators,o)}function kC(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=UR(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==t.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const o=HR(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==t.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const r=()=>{};return xC(t._rawValidators,r),xC(t._rawAsyncValidators,r),e}function qR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ZR(n,t){jT(n,t)}function KR(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const R_="VALID",OC="INVALID",em="PENDING",x_="DISABLED";function qT(n){return(PC(n)?n.validators:n)||null}function QR(n){return Array.isArray(n)?LT(n):n||null}function ZT(n,t){return(PC(t)?t.asyncValidators:n)||null}function JR(n){return Array.isArray(n)?VT(n):n||null}function PC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const XR=n=>n instanceof rx,YT=n=>n instanceof QT;function ex(n){return XR(n)?n.value:n.getRawValue()}function tx(n,t){const e=YT(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")}function nx(n,t){YT(n),n._forEachChild((r,o)=>{if(void 0===t[o])throw new u.vHH(1002,"")})}class KT{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=QR(this._rawValidators),this._composedAsyncValidatorFn=JR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===R_}get invalid(){return this.status===OC}get pending(){return this.status==em}get disabled(){return this.status===x_}get enabled(){return this.status!==x_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=QR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=JR(t)}addValidators(t){this.setValidators(jR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(jR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($R(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($R(t,this._rawAsyncValidators))}hasValidator(t){return SC(this._rawValidators,t)}hasAsyncValidator(t){return SC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=em,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=x_,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=R_,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===R_||this.status===em)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?x_:R_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=em,this._hasOwnPendingAsyncValidator=!0;const e=OR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function M1(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(o=>{r=YT(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof x1)(r)&&r.at(o)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?x_:this.errors?OC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(em)?em:this._anyControlsHaveStatus(OC)?OC:R_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){PC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class rx extends KT{constructor(t=null,e,r){super(qT(e),ZT(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),PC(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class QT extends KT{constructor(t,e,r){super(qT(e),ZT(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){nx(this,t),Object.keys(t).forEach(r=>{tx(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=ex(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,l)=>{r=e(r,o,l)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class x1 extends KT{constructor(t,e,r){super(qT(e),ZT(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){nx(this,t),t.forEach((r,o)=>{tx(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>ex(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const k1={provide:Gi,useExisting:(0,u.Gpc)(()=>NC)},k_=(()=>Promise.resolve(null))();let NC=(()=>{class n extends Gi{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new QT({},LT(e),VT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){k_.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),M_(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){k_.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){k_.then(()=>{const r=this._findContainer(e.path),o=new QT({});ZR(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){k_.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){k_.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,KR(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Ei,10),u.Y36(Sd,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([k1]),u.qOj]}),n})();const j1={provide:Gi,useExisting:(0,u.Gpc)(()=>FC)};let FC=(()=>{class n extends Gi{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return M_(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){RC(e.control||null,e,!1),GT(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,KR(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(RC(r||null,e),XR(o)&&(M_(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);ZR(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function I1(n,t){return kC(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jT(this.form,this),this._oldForm&&kC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Ei,10),u.Y36(Sd,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([j1]),u.qOj,u.TTD]}),n})();const Ix=qf({passive:!0});let aL=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return fi.E;const r=So(e),o=this._monitoredElements.get(r);if(o)return o.subject;const l=new zt.x,h="cdk-text-field-autofilled",g=b=>{"cdk-text-field-autofill-start"!==b.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===b.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>l.next({target:b.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>l.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",g,Ix),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:l,unlisten:()=>{r.removeEventListener("animationstart",g,Ix)}}),l}stopMonitoring(e){const r=So(e),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ua),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const lL=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),cL=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let uL=0;const dL=Uw(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r}});let rI=(()=>{class n extends dL{constructor(e,r,o,l,h,g,b,D,x,O){super(g,l,h,o),this._elementRef=e,this._platform=r,this._autofillMonitor=D,this._formField=O,this._uid="mat-input-"+uL++,this.focused=!1,this.stateChanges=new zt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(le=>Tm().has(le)),this._iOSKeyupListener=le=>{const Re=le.target;!Re.value&&0===Re.selectionStart&&0===Re.selectionEnd&&(Re.setSelectionRange(1,1),Re.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,J=B.nodeName.toLowerCase();this._inputValueAccessor=b||B,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&x.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===J,this._isTextarea="textarea"===J,this._isInFormField=!!O,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ms(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,r,o,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(o=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===o?void 0:o.hasValidator(h1.required))&&void 0!==l&&l}set required(e){this._required=ms(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Tm().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ms(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,r;const o=(null===(r=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===r?void 0:r.call(e))?null:this.placeholder;if(o!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=o,o?l.setAttribute("placeholder",o):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){cL.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(ua),u.Y36(Lc,10),u.Y36(NC,8),u.Y36(FC,8),u.Y36(Th),u.Y36(lL,10),u.Y36(aL),u.Y36(u.R0b),u.Y36(bR,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,r){1&e&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(u.Ikx("disabled",r.disabled)("required",r.required),u.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),u.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:OT,useExisting:n}]),u.qOj,u.TTD]}),n})(),hL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Th],imports:[[Sx,NT,ys],Sx,NT]}),n})();function fL(n,t){1&n&&(u.TgZ(0,"th",13),u._uU(1," Name "),u.qZA())}function pL(n,t){if(1&n&&(u.TgZ(0,"td",14),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.name," ")}}function mL(n,t){1&n&&(u.TgZ(0,"th",13),u._uU(1," Age "),u.qZA())}function gL(n,t){if(1&n&&(u.TgZ(0,"td",14),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.age," ")}}function _L(n,t){1&n&&(u.TgZ(0,"th",13),u._uU(1," Score "),u.qZA())}function yL(n,t){if(1&n&&(u.TgZ(0,"td",14),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.score," ")}}function vL(n,t){1&n&&u._UZ(0,"tr",15)}function bL(n,t){if(1&n&&u._UZ(0,"tr",16),2&n){const e=t.$implicit;u.Q6J("hidden",e.score<=90||e.age>=21)}}function CL(n,t){if(1&n&&(u.TgZ(0,"tr",17)(1,"td",18),u._uU(2),u.qZA()()),2&n){u.oxw();const e=u.MAs(5);u.xp6(2),u.hij('No data matching the filter "',e.value,'"')}}let wL=(()=>{class n{constructor(e){this.scoreCut=90,this.displayedColumns=["name","age","score"],e.list("/courses").valueChanges().subscribe(r=>{this.courses=r,console.log(r),this.dataSource=new Hh(r)})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(S_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-toppers"]],viewQuery:function(e,r){if(1&e&&u.Gf(Qv,5),2&e){let o;u.iGM(o=u.CRH())&&(r.sort=o.first)}},decls:20,vars:3,consts:[[1,"toppers"],["appearance","standard"],["matInput","","placeholder","Ex. 115, Bruised Knuckles...",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","age"],["matColumnDef","score"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"hidden"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),u._uU(3,"Filter"),u.qZA(),u.TgZ(4,"input",2,3),u.NdJ("keyup",function(l){return r.applyFilter(l)}),u.qZA()(),u.TgZ(6,"table",4),u.ynx(7,5),u.YNc(8,fL,2,0,"th",6),u.YNc(9,pL,2,1,"td",7),u.BQk(),u.ynx(10,8),u.YNc(11,mL,2,0,"th",6),u.YNc(12,gL,2,1,"td",7),u.BQk(),u.ynx(13,9),u.YNc(14,_L,2,0,"th",6),u.YNc(15,yL,2,1,"td",7),u.BQk(),u.YNc(16,vL,1,0,"tr",10),u.YNc(17,bL,1,1,"tr",11),u._uU(18," Row shown when there is no matching data. "),u.YNc(19,CL,3,1,"tr",12),u.qZA()()),2&e&&(u.xp6(6),u.Q6J("dataSource",r.dataSource),u.xp6(10),u.Q6J("matHeaderRowDef",r.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",r.displayedColumns))},directives:[PT,A_,rI,xg,Lh,Fh,cd,wa,Vh,ud,Sc,Bh,Pg,Uh],styles:[".toppers[_ngcontent-%COMP%]{background-image:url(274605.760e9afba9c842fe.jpg);background-size:1520px;height:100%;background-repeat:no-repeat;background-attachment:fixed}table[_ngcontent-%COMP%]{width:98%;background-color:#0006;margin:10px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.addto[_ngcontent-%COMP%]{position:absolute;right:21px;border-radius:10px;width:20px;height:39px;font-size:.6rem;padding:2px;margin-top:-10px;border:2px solid white}.addto[_ngcontent-%COMP%]:hover{font-size:.65rem;padding:2px;transform:translateY(-2px)}[_nghost-%COMP%]     .mat-raised-button.mat-primary{background-color:#ffbf00;color:#fff}[_nghost-%COMP%]     .mat-raised-button.mat-primary:hover{background-color:#a2ff00;color:#000;box-shadow:2px 2px 3px #84ff00}[_nghost-%COMP%]     tr.mat-header-row{background-color:#3e5c38}th[_ngcontent-%COMP%]{color:#fff}td[_ngcontent-%COMP%]{color:#f0f8ff}[_nghost-%COMP%]     .mat-form-field{background:rgba(207,251,195,.5);color:#f0f8ff}"]}),n})();const EL=["mat-button",""],DL=["*"],IL=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],SL=td(ed(Bw(class{constructor(n){this._elementRef=n}})));let AL=(()=>{class n extends SL{constructor(e,r,o){super(e),this._focusMonitor=r,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of IL)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(By),u.Y36(vp,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&u.Gf(fg,5),2&e){let o;u.iGM(o=u.CRH())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:EL,ngContentSelectors:DL,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&e&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[fg],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),ML=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Yw,ys],ys]}),n})();function RL(n,t){1&n&&(u.TgZ(0,"th",13),u._uU(1," Name "),u.qZA())}function xL(n,t){if(1&n&&(u.TgZ(0,"td",14),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.name," ")}}function kL(n,t){1&n&&(u.TgZ(0,"th",13),u._uU(1," Age "),u.qZA())}function OL(n,t){if(1&n&&(u.TgZ(0,"td",14),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.age," ")}}function PL(n,t){1&n&&(u.TgZ(0,"th",13),u._uU(1," Score "),u.qZA())}function NL(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"td",14),u._uU(1),u.TgZ(2,"button",15),u.NdJ("click",function(){const l=u.CHM(e).$implicit;return u.oxw().navToWinner(l)}),u._uU(3," + To Winner"),u.qZA()()}if(2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.score," ")}}function FL(n,t){1&n&&u._UZ(0,"tr",16)}function LL(n,t){1&n&&u._UZ(0,"tr",17)}function VL(n,t){if(1&n&&(u.TgZ(0,"tr",18)(1,"td",19),u._uU(2),u.qZA()()),2&n){u.oxw();const e=u.MAs(5);u.xp6(2),u.hij('No data matching the filter "',e.value,'"')}}function UL(n,t){1&n&&(u.TgZ(0,"th",12),u._uU(1," Name "),u.qZA())}function HL(n,t){if(1&n&&(u.TgZ(0,"td",13),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.name," ")}}function jL(n,t){1&n&&(u.TgZ(0,"th",12),u._uU(1," Score "),u.qZA())}function $L(n,t){if(1&n&&(u.TgZ(0,"td",13),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.score," ")}}function zL(n,t){1&n&&u._UZ(0,"tr",14)}function GL(n,t){1&n&&u._UZ(0,"tr",15)}function WL(n,t){if(1&n&&(u.TgZ(0,"tr",16)(1,"td",17),u._uU(2),u.qZA()()),2&n){u.oxw();const e=u.MAs(5);u.xp6(2),u.hij('No data matching the filter "',e.value,'"')}}const qL=[{path:"",component:sh},{path:"users",component:(()=>{class n{constructor(e){this.db=e,this.displayedColumns=["name","age","score"],e.list("/courses").valueChanges().subscribe(o=>{this.courses=o,console.log(o),this.dataSource=new Hh(o),e.list("/winners").valueChanges().subscribe(h=>{console.log(h)})})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}navToWinner(e){confirm("Are you sure you wanna add this user to winners?")?(console.log(e),this.db.list("/winners").push(e)):alert("Cancel?")}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(S_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-users"]],viewQuery:function(e,r){if(1&e&&u.Gf(Qv,5),2&e){let o;u.iGM(o=u.CRH())&&(r.sort=o.first)}},decls:20,vars:3,consts:[[1,"users"],["appearance","standard"],["matInput","","placeholder","Ex. 115, Bruised Knuckles...",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","age"],["matColumnDef","score"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","primary",1,"addto",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),u._uU(3,"Filter"),u.qZA(),u.TgZ(4,"input",2,3),u.NdJ("keyup",function(l){return r.applyFilter(l)}),u.qZA()(),u.TgZ(6,"table",4),u.ynx(7,5),u.YNc(8,RL,2,0,"th",6),u.YNc(9,xL,2,1,"td",7),u.BQk(),u.ynx(10,8),u.YNc(11,kL,2,0,"th",6),u.YNc(12,OL,2,1,"td",7),u.BQk(),u.ynx(13,9),u.YNc(14,PL,2,0,"th",6),u.YNc(15,NL,4,1,"td",7),u.BQk(),u.YNc(16,FL,1,0,"tr",10),u.YNc(17,LL,1,0,"tr",11),u._uU(18," Row shown when there is no matching data. "),u.YNc(19,VL,3,1,"tr",12),u.qZA()()),2&e&&(u.xp6(6),u.Q6J("dataSource",r.dataSource),u.xp6(10),u.Q6J("matHeaderRowDef",r.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",r.displayedColumns))},directives:[PT,A_,rI,xg,Lh,Fh,cd,wa,Vh,AL,ud,Sc,Bh,Pg,Uh],styles:[".users[_ngcontent-%COMP%]{background-image:url(367103.a2401f41dc5cfc16.jpg);background-size:1520px;height:100%;background-repeat:no-repeat;background-attachment:fixed}table[_ngcontent-%COMP%]{width:98%;background-color:#0000004d;margin:10px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.addto[_ngcontent-%COMP%]{position:absolute;right:21px;border-radius:10px;width:20px;height:39px;font-size:.6rem;padding:2px;margin-top:-10px;border:2px solid #9eff59}.addto[_ngcontent-%COMP%]:hover{padding:2px;transform:translateY(-2px);width:25px;border:5px solid white}[_nghost-%COMP%]     .mat-raised-button.mat-primary{background-color:#3f6a42;color:#fff}[_nghost-%COMP%]     .mat-raised-button.mat-primary:hover{background-color:#a2ff00;color:#fff;box-shadow:2px 2px 3px #84ff00}[_nghost-%COMP%]     tr.mat-header-row{background-color:#3e5c38}th[_ngcontent-%COMP%]{color:#fff}td[_ngcontent-%COMP%]{color:#f0f8ff}[_nghost-%COMP%]     .mat-form-field{background:rgba(207,251,195,.5);color:#f0f8ff}"]}),n})()},{path:"winners",component:(()=>{class n{constructor(e){this.displayedColumns=["name","score"],e.list("/winners").valueChanges().subscribe(r=>{this.courses=r,console.log(r),this.dataSource=new Hh(r)})}ngOnInit(){}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(S_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-winners"]],decls:17,vars:3,consts:[[1,"winners"],["appearance","standard"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","score"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,r){1&e&&(u.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),u._uU(3,"Filter"),u.qZA(),u.TgZ(4,"input",2,3),u.NdJ("keyup",function(l){return r.applyFilter(l)}),u.qZA()(),u.TgZ(6,"table",4),u.ynx(7,5),u.YNc(8,UL,2,0,"th",6),u.YNc(9,HL,2,1,"td",7),u.BQk(),u.ynx(10,8),u.YNc(11,jL,2,0,"th",6),u.YNc(12,$L,2,1,"td",7),u.BQk(),u.YNc(13,zL,1,0,"tr",9),u.YNc(14,GL,1,0,"tr",10),u._uU(15," Row shown when there is no matching data. "),u.YNc(16,WL,3,1,"tr",11),u.qZA()()),2&e&&(u.xp6(6),u.Q6J("dataSource",r.dataSource),u.xp6(7),u.Q6J("matHeaderRowDef",r.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",r.displayedColumns))},directives:[PT,A_,rI,xg,Lh,Fh,cd,wa,Vh,ud,Sc,Bh,Pg,Uh],styles:[".winners[_ngcontent-%COMP%]{background-image:url(234245.5c290990dbbe6523.jpg);background-size:1520px;height:100%;background-repeat:no-repeat;background-attachment:fixed}table[_ngcontent-%COMP%]{width:98%;background-color:#0006;margin:10px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.addto[_ngcontent-%COMP%]{position:absolute;right:21px;border-radius:10px;width:20px;height:39px;font-size:.6rem;padding:2px;margin-top:-10px;border:2px solid #9eff59}.addto[_ngcontent-%COMP%]:hover{padding:2px;transform:translateY(-2px);width:25px;border:5px solid white}[_nghost-%COMP%]     .mat-raised-button.mat-primary{background-color:#3f6a42;color:#fff}[_nghost-%COMP%]     .mat-raised-button.mat-primary:hover{background-color:#a2ff00;color:#fff;box-shadow:2px 2px 3px #84ff00}[_nghost-%COMP%]     tr.mat-header-row{background-color:#3e5c38}th[_ngcontent-%COMP%]{color:#fff}td[_ngcontent-%COMP%]{color:#f0f8ff}[_nghost-%COMP%]     .mat-form-field{background:rgba(207,251,195,.5);color:#f0f8ff}"]}),n})()},{path:"toppers",component:wL}];let ZL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[W_.forRoot(qL)],W_]}),n})(),YL=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:18,vars:0,consts:[[1,"navbar","navbar-expand-lg","sticky-top"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"spacer"],[1,"navbar-nav"],["aria-current","page","routerLink","",1,"nav-link","active"],["href","#","routerLink","users",1,"nav-link"],["href","#","routerLink","winners",1,"nav-link"],["routerLink","toppers",1,"nav-link"]],template:function(e,r){1&e&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"h1"),u._uU(4,"Score Arena"),u.qZA()(),u.TgZ(5,"button",3),u._UZ(6,"span",4),u.qZA(),u.TgZ(7,"div",5),u._UZ(8,"span",6),u.TgZ(9,"div",7)(10,"a",8),u._uU(11,"Home"),u.qZA(),u.TgZ(12,"a",9),u._uU(13,"Users"),u.qZA(),u.TgZ(14,"a",10),u._uU(15,"winners"),u.qZA(),u.TgZ(16,"a",11),u._uU(17,"Toppers"),u.qZA()()()()())},directives:[ca],styles:['@import"https://fonts.googleapis.com/css2?family=Fascinate+Inline&display=swap";@import"https://fonts.googleapis.com/css2?family=Montserrat+Alternates&display=swap";.spacer[_ngcontent-%COMP%]{flex:60 1}.navbar[_ngcontent-%COMP%]{margin-bottom:0;background:#3e5344;color:#f0f8ff;font-family:Montserrat Alternates,sans-serif;box-shadow:1px 1px 2px #000}.navbar-brand[_ngcontent-%COMP%]{color:#fff;outline-color:#f0f8ff}.navbar-brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat Alternates,sans-serif;font-weight:600}.navbar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f0f8ff;font-weight:200;margin-right:5px;font-weight:400}.navbar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{box-sizing:border-box;border:2px solid white;border-radius:5px;background-color:#fff;color:red;font-weight:500;margin-right:1px}']}),n})(),KL=(()=>{class n{constructor(e){this.title="firebaseDemo",e.list("/courses").valueChanges().subscribe(r=>{this.courses=r,console.log(this.courses)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(S_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&u._UZ(0,"app-navbar")(1,"router-outlet")},directives:[YL,tc],styles:[""]}),n})();const Ax_firebase={apiKey:"AIzaSyByFzpuzm2z_Z87BWo195P8sNiZ7GbGTrE",authDomain:"fir-demo-d9913.firebaseapp.com",databaseURL:"https://fir-demo-d9913-default-rtdb.firebaseio.com",projectId:"fir-demo-d9913",storageBucket:"fir-demo-d9913.appspot.com",messagingSenderId:"76467998032",appId:"1:76467998032:web:00bfa2d66f97019576f055"};let QL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ys],ys]}),n})(),JL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[KL]}),n.\u0275inj=u.cJS({providers:[],imports:[[lo,ZL,zv,bs.hO.initializeApp(Ax_firebase),wF,QL,Mp,NT,hL,ML]]}),n})();(0,u.G48)(),Ua().bootstrapModule(JL).catch(n=>console.error(n))},5867:(We,ye,P)=>{P.d(ye,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=P(9681);(0,u.registerVersion)("firebase","9.8.3","app")},127:(We,ye,P)=>{P.d(ye,{Z:()=>u.Z});var u=P(3942);u.Z.registerVersion("firebase","9.8.3","app-compat")},9916:(We,ye,P)=>{P.r(ye);var u=P(5861),ee=P(3942),N=P(2090),he=P(9681),se=P(655),ge=P(1877),ae=P(4859);const xe=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new ge.Yd("@firebase/auth");function Ge(_,...f){Ue.logLevel<=ge.in.ERROR&&Ue.error(`Auth (${he.SDK_VERSION}): ${_}`,...f)}function Te(_,...f){throw Le(_,...f)}function Ce(_,...f){return Le(_,...f)}function we(_,f,m){const v=Object.assign(Object.assign({},Ne()),{[f]:m});return new N.LL("auth","Firebase",v).create(f,{appName:_.name})}function Fe(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Te(_,"argument-error"),we(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(_,...f){if("string"!=typeof _){const m=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(m,...v)}return me.create(_,...f)}function $(_,f,...m){if(!_)throw Le(f,...m)}function be(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ge(f),new Error(f)}function K(_,f){_||be(f)}const oe=new Map;function re(_){K(_ instanceof Function,"Expected a class definition");let f=oe.get(_);return f?(K(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,oe.set(_,f),f)}function ke(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function tt(){return"http:"===kt()||"https:"===kt()}function kt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ut{constructor(f,m){this.shortDelay=f,this.longDelay=m,K(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Dt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ln(_,f){K(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class jt{static initialize(f,m,v){this.fetchImpl=f,m&&(this.headersImpl=m),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rr=new Ut(3e4,6e4);function Ft(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Tt(_,f,m,v){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(_,f,m,v,S={}){return Ar(_,S,(0,u.Z)(function*(){let k={},Y={};v&&("GET"===f?Y=v:k={body:JSON.stringify(v)});const pe=(0,N.xO)(Object.assign({key:_.config.apiKey},Y)).slice(1),Pe=yield _._getAdditionalHeaders();return Pe["Content-Type"]="application/json",_.languageCode&&(Pe["X-Firebase-Locale"]=_.languageCode),jt.fetch()(Zi(_,_.config.apiHost,m,pe),Object.assign({method:f,headers:Pe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Ar(_,f,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(_,f,m){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},Vt),f);try{const S=new pr(_),k=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const Y=yield k.json();if("needConfirmation"in Y)throw jr(_,"account-exists-with-different-credential",Y);if(k.ok&&!("errorMessage"in Y))return Y;{const pe=k.ok?Y.errorMessage:Y.error.message,[Pe,Ze]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw jr(_,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Pe)throw jr(_,"email-already-in-use",Y);if("USER_DISABLED"===Pe)throw jr(_,"user-disabled",Y);const it=v[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw we(_,it,Ze);Te(_,it)}}catch(S){if(S instanceof N.ZR)throw S;Te(_,"network-request-failed")}})).apply(this,arguments)}function ir(_,f,m,v){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(_,f,m,v,S={}){const k=yield Tt(_,f,m,v,S);return"mfaPendingCredential"in k&&Te(_,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Zi(_,f,m,v){const S=`${f}${m}?${v}`;return _.config.emulator?ln(_.config,S):`${_.config.apiScheme}://${S}`}class pr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,v)=>{this.timer=setTimeout(()=>v(Ce(this.auth,"network-request-failed")),rr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jr(_,f,m){const v={appName:_.name};m.email&&(v.email=m.email),m.phoneNumber&&(v.phoneNumber=m.phoneNumber);const S=Ce(_,f,v);return S.customData._tokenResponse=m,S}function Mr(){return(Mr=(0,u.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function on(_,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Yi(_,f){return mr.apply(this,arguments)}function mr(){return(mr=(0,u.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function xn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function ws(){return(ws=(0,u.Z)(function*(_,f=!1){const m=(0,N.m9)(_),v=yield m.getIdToken(f),S=Je(v);$(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,Y=null==k?void 0:k.sign_in_provider;return{claims:S,token:v,authTime:xn(Ot(S.auth_time)),issuedAtTime:xn(Ot(S.iat)),expirationTime:xn(Ot(S.exp)),signInProvider:Y||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Ot(_){return 1e3*Number(_)}function Je(_){const[f,m,v]=_.split(".");if(void 0===f||void 0===m||void 0===v)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,N.tV)(m);return S?JSON.parse(S):(Ge("Failed to decode base64 JWT payload"),null)}catch(S){return Ge("Caught error parsing JWT payload as JSON",S),null}}function qn(_,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(v){throw v instanceof N.ZR&&Mt(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function Mt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Es{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),v)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class Zn{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=xn(this.lastLoginAt),this.creationTime=xn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yn(_){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)(function*(_){var f;const m=_.auth,v=yield _.getIdToken(),S=yield qn(_,Yi(m,{idToken:v}));$(null==S?void 0:S.users.length,m,"internal-error");const k=S.users[0];_._notifyReloadListener(k);const Y=(null===(f=k.providerUserInfo)||void 0===f?void 0:f.length)?G(k.providerUserInfo):[],pe=De(_.providerData,Y),it=!!_.isAnonymous&&!(_.email&&k.passwordHash||(null==pe?void 0:pe.length)),rt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:pe,metadata:new Zn(k.createdAt,k.lastLoginAt),isAnonymous:it};Object.assign(_,rt)})).apply(this,arguments)}function q(){return(q=(0,u.Z)(function*(_){const f=(0,N.m9)(_);yield Yn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function De(_,f){return[..._.filter(v=>!f.some(S=>S.providerId===v.providerId)),...f]}function G(_){return _.map(f=>{var{providerId:m}=f,v=(0,se._T)(f,["providerId"]);return{providerId:m,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Me(){return(Me=(0,u.Z)(function*(_,f){const m=yield Ar(_,{},(0,u.Z)(function*(){const v=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:k}=_.config,Y=Zi(_,S,"/v1/token",`key=${k}`),pe=yield _._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",jt.fetch()(Y,{method:"POST",headers:pe,body:v})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){$(f.idToken,"internal-error"),$(void 0!==f.idToken,"internal-error"),$(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function dt(_){const f=Je(_);return $(f,"internal-error"),$(void 0!==f.exp,"internal-error"),$(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var v=this;return(0,u.Z)(function*(){return $(!v.accessToken||v.refreshToken,f,"user-token-expired"),m||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var v=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:Y}=yield function te(_,f){return Me.apply(this,arguments)}(f,m);v.updateTokensAndExpiration(S,k,Number(Y))})()}updateTokensAndExpiration(f,m,v){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,m){const{refreshToken:v,accessToken:S,expirationTime:k}=m,Y=new qe;return v&&($("string"==typeof v,"internal-error",{appName:f}),Y.refreshToken=v),S&&($("string"==typeof S,"internal-error",{appName:f}),Y.accessToken=S),k&&($("number"==typeof k,"internal-error",{appName:f}),Y.expirationTime=k),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new qe,this.toJSON())}_performRefresh(){return be("not implemented")}}function nt(_,f){$("string"==typeof _||void 0===_,"internal-error",{appName:f})}class ht{constructor(f){var{uid:m,auth:v,stsTokenManager:S}=f,k=(0,se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Es(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=v,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Zn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,u.Z)(function*(){const v=yield qn(m,m.stsTokenManager.getToken(m.auth,f));return $(v,m.auth,"internal-error"),m.accessToken!==v&&(m.accessToken=v,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),v})()}getIdTokenResult(f){return function Rr(_){return ws.apply(this,arguments)}(this,f)}reload(){return function W(_){return q.apply(this,arguments)}(this)}_assign(f){this!==f&&($(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ht(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var v=this;return(0,u.Z)(function*(){let S=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),S=!0),m&&(yield Yn(v)),yield v.auth._persistUserIfCurrent(v),S&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,u.Z)(function*(){const m=yield f.getIdToken();return yield qn(f,function lt(_,f){return Mr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var v,S,k,Y,pe,Pe,Ze,it;const rt=null!==(v=m.displayName)&&void 0!==v?v:void 0,mn=null!==(S=m.email)&&void 0!==S?S:void 0,Vr=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,al=null!==(Y=m.photoURL)&&void 0!==Y?Y:void 0,th=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,Bf=null!==(Pe=m._redirectEventId)&&void 0!==Pe?Pe:void 0,la=null!==(Ze=m.createdAt)&&void 0!==Ze?Ze:void 0,ac=null!==(it=m.lastLoginAt)&&void 0!==it?it:void 0,{uid:Pu,emailVerified:Uf,isAnonymous:dr,providerData:nh,stsTokenManager:rh}=m;$(Pu&&rh,f,"internal-error");const ih=qe.fromJSON(this.name,rh);$("string"==typeof Pu,f,"internal-error"),nt(rt,f.name),nt(mn,f.name),$("boolean"==typeof Uf,f,"internal-error"),$("boolean"==typeof dr,f,"internal-error"),nt(Vr,f.name),nt(al,f.name),nt(th,f.name),nt(Bf,f.name),nt(la,f.name),nt(ac,f.name);const ca=new ht({uid:Pu,auth:f,email:mn,emailVerified:Uf,displayName:rt,isAnonymous:dr,photoURL:al,phoneNumber:Vr,tenantId:th,stsTokenManager:ih,createdAt:la,lastLoginAt:ac});return nh&&Array.isArray(nh)&&(ca.providerData=nh.map(ll=>Object.assign({},ll))),Bf&&(ca._redirectEventId=Bf),ca}static _fromIdTokenResponse(f,m,v=!1){return(0,u.Z)(function*(){const S=new qe;S.updateFromServerResponse(m);const k=new ht({uid:m.localId,auth:f,stsTokenManager:S,isAnonymous:v});return yield Yn(k),k})()}}const ft=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,v){var S=this;return(0,u.Z)(function*(){S.storage[m]=v})()}_get(m){var v=this;return(0,u.Z)(function*(){const S=v.storage[m];return void 0===S?null:S})()}_remove(m){var v=this;return(0,u.Z)(function*(){delete v.storage[m]})()}_addListener(m,v){}_removeListener(m,v){}}return _.type="NONE",_})();function Tn(_,f,m){return`firebase:${_}:${f}:${m}`}class sr{constructor(f,m,v){this.persistence=f,this.auth=m,this.userKey=v;const{config:S,name:k}=this.auth;this.fullUserKey=Tn(this.userKey,S.apiKey,k),this.fullPersistenceKey=Tn("persistence",S.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?ht._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,u.Z)(function*(){if(m.persistence===f)return;const v=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,v?m.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,v="authUser"){return(0,u.Z)(function*(){if(!m.length)return new sr(re(ft),f,v);const S=(yield Promise.all(m.map(function(){var Ze=(0,u.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Ze.apply(this,arguments)}}()))).filter(Ze=>Ze);let k=S[0]||re(ft);const Y=Tn(v,f.config.apiKey,f.name);let pe=null;for(const Ze of m)try{const it=yield Ze._get(Y);if(it){const rt=ht._fromJSON(f,it);Ze!==k&&(pe=rt),k=Ze;break}}catch(it){}const Pe=S.filter(Ze=>Ze._shouldAllowMigration);return k._shouldAllowMigration&&Pe.length?(k=Pe[0],pe&&(yield k._set(Y,pe.toJSON())),yield Promise.all(m.map(function(){var Ze=(0,u.Z)(function*(it){if(it!==k)try{yield it._remove(Y)}catch(rt){}});return function(it){return Ze.apply(this,arguments)}}())),new sr(k,f,v)):new sr(k,f,v)})()}}function Aa(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(In(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Uo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Di(f))return"Blackberry";if(Sn(f))return"Webos";if(Ma(f))return"Safari";if((f.includes("chrome/")||Ho(f))&&!f.includes("edge/"))return"Chrome";if(or(f))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function Uo(_=(0,N.z$)()){return/firefox\//i.test(_)}function Ma(_=(0,N.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ho(_=(0,N.z$)()){return/crios\//i.test(_)}function In(_=(0,N.z$)()){return/iemobile/i.test(_)}function or(_=(0,N.z$)()){return/android/i.test(_)}function Di(_=(0,N.z$)()){return/blackberry/i.test(_)}function Sn(_=(0,N.z$)()){return/webos/i.test(_)}function gr(_=(0,N.z$)()){return/iphone|ipad|ipod/i.test(_)}function Ki(_=(0,N.z$)()){return gr(_)||or(_)||Sn(_)||Di(_)||/windows phone/i.test(_)||In(_)}function to(_,f=[]){let m;switch(_){case"Browser":m=Aa((0,N.z$)());break;case"Worker":m=`${Aa((0,N.z$)())}-${_}`;break;default:m=_}const v=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${he.SDK_VERSION}/${v}`}class _r{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const v=k=>new Promise((Y,pe)=>{try{Y(f(k))}catch(Pe){pe(Pe)}});v.onAbort=m,this.queue.push(v);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,u.Z)(function*(){var v;if(m.auth.currentUser===f)return;const S=[];try{for(const k of m.queue)yield k(f),k.onAbort&&S.push(k.onAbort)}catch(k){S.reverse();for(const Y of S)try{Y()}catch(pe){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(v=k)||void 0===v?void 0:v.message})}})()}}class je{constructor(f,m,v){this.app=f,this.heartbeatServiceProvider=m,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $t(this),this.idTokenSubscription=new $t(this),this.beforeStateQueue=new _r(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,m){var v=this;return m&&(this._popupRedirectResolver=re(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,k;if(!v._deleted&&(v.persistenceManager=yield sr.create(v,f),!v._deleted)){if(null===(S=v._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(Y){}yield v.initializeCurrentUser(m),v.lastNotifiedUid=(null===(k=v.currentUser)||void 0===k?void 0:k.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,u.Z)(function*(){var v;const S=yield m.assertedPersistence.getCurrentUser();let k=S,Y=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(v=m.redirectUser)||void 0===v?void 0:v._redirectEventId,Pe=null==k?void 0:k._redirectEventId,Ze=yield m.tryRedirectSignIn(f);(!pe||pe===Pe)&&(null==Ze?void 0:Ze.user)&&(k=Ze.user,Y=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(Y)try{yield m.beforeStateQueue.runMiddleware(k)}catch(pe){k=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return $(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(f){var m=this;return(0,u.Z)(function*(){let v=null;try{v=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(S){yield m._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,u.Z)(function*(){try{yield Yn(f)}catch(v){if("auth/network-request-failed"!==v.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ze(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,u.Z)(function*(){const v=f?(0,N.m9)(f):null;return v&&$(v.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(v&&v._clone(m))})()}_updateCurrentUser(f,m=!1){var v=this;return(0,u.Z)(function*(){if(!v._deleted)return f&&$(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),m||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,u.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(re(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,m,v){return this.registerStateListener(this.authStateSubscription,f,m,v)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,v){return this.registerStateListener(this.idTokenSubscription,f,m,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var v=this;return(0,u.Z)(function*(){const S=yield v.getOrInitRedirectPersistenceManager(m);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const v=f&&re(f)||m._popupRedirectResolver;$(v,m,"argument-error"),m.redirectPersistenceManager=yield sr.create(m,[re(v._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,u.Z)(function*(){var v,S;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(v=m._currentUser)||void 0===v?void 0:v._redirectEventId)===f?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,u.Z)(function*(){if(f===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,v,S){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return $(Y,this,"internal-error"),Y.then(()=>k(this.currentUser)),"function"==typeof m?f.addObserver(m,v,S):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=to(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var m;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(v["X-Firebase-Client"]=S),v})()}}function et(_){return(0,N.m9)(_)}class $t{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function si(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function oi(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class $r{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return be("not implemented")}_getIdTokenResponse(f){return be("not implemented")}_linkToIdToken(f,m){return be("not implemented")}_getReauthenticationResolver(f){return be("not implemented")}}function dn(_,f){return _t.apply(this,arguments)}function _t(){return(_t=(0,u.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:resetPassword",Ft(_,f))})).apply(this,arguments)}function $o(_,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ra(_,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",Ft(_,f))})).apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(_,f){return ir(_,"POST","/v1/accounts:signInWithPassword",Ft(_,f))})).apply(this,arguments)}function Xi(_,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:sendOobCode",Ft(_,f))})).apply(this,arguments)}function qt(_,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(_,f){return Xi(_,f)})).apply(this,arguments)}function zo(_,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(_,f){return Xi(_,f)})).apply(this,arguments)}function zr(_,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(_,f){return Xi(_,f)})).apply(this,arguments)}function jc(_,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(_,f){return Xi(_,f)})).apply(this,arguments)}function Sl(){return(Sl=(0,u.Z)(function*(_,f){return ir(_,"POST","/v1/accounts:signInWithEmailLink",Ft(_,f))})).apply(this,arguments)}function $c(){return($c=(0,u.Z)(function*(_,f){return ir(_,"POST","/v1/accounts:signInWithEmailLink",Ft(_,f))})).apply(this,arguments)}class Kn extends $r{constructor(f,m,v,S=null){super("password",v),this._email=f,this._password=m,this._tenantId=S}static _fromEmailAndPassword(f,m){return new Kn(f,m,"password")}static _fromEmailAndCode(f,m,v=null){return new Kn(f,m,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function Ln(_,f){return Ts.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function li(_,f){return Sl.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,m){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return $o(f,{idToken:m,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function lf(_,f){return $c.apply(this,arguments)}(f,{idToken:m,email:v._email,oobCode:v._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function es(_,f){return zc.apply(this,arguments)}function zc(){return(zc=(0,u.Z)(function*(_,f){return ir(_,"POST","/v1/accounts:signInWithIdp",Ft(_,f))})).apply(this,arguments)}class Ti extends $r{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ti(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:S}=m,k=(0,se._T)(m,["providerId","signInMethod"]);if(!v||!S)return null;const Y=new Ti(v,S);return Y.idToken=k.idToken||void 0,Y.accessToken=k.accessToken||void 0,Y.secret=k.secret,Y.nonce=k.nonce,Y.pendingToken=k.pendingToken||null,Y}_getIdTokenResponse(f){return es(f,this.buildRequest())}_linkToIdToken(f,m){const v=this.buildRequest();return v.idToken=m,es(f,v)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,es(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,N.xO)(m)}return f}}function uf(_,f){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,u.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:sendVerificationCode",Ft(_,f))})).apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(_,f){return ir(_,"POST","/v1/accounts:signInWithPhoneNumber",Ft(_,f))})).apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(_,f){const m=yield ir(_,"POST","/v1/accounts:signInWithPhoneNumber",Ft(_,f));if(m.temporaryProof)throw jr(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const hf={USER_NOT_FOUND:"user-not-found"};function qc(){return(qc=(0,u.Z)(function*(_,f){return ir(_,"POST","/v1/accounts:signInWithPhoneNumber",Ft(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),hf)})).apply(this,arguments)}class no extends $r{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new no({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new no({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Al(_,f){return ts.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function df(_,f){return Wc.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ff(_,f){return qc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:v,verificationCode:S}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:v,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:v,phoneNumber:S,temporaryProof:k}=f;return v||m||S||k?new no({verificationId:m,verificationCode:v,phoneNumber:S,temporaryProof:k}):null}}class Oa{constructor(f){var m,v,S,k,Y,pe;const Pe=(0,N.zd)((0,N.pd)(f)),Ze=null!==(m=Pe.apiKey)&&void 0!==m?m:null,it=null!==(v=Pe.oobCode)&&void 0!==v?v:null,rt=function Rd(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Pe.mode)&&void 0!==S?S:null);$(Ze&&it&&rt,"argument-error"),this.apiKey=Ze,this.operation=rt,this.code=it,this.continueUrl=null!==(k=Pe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Y=Pe.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(pe=Pe.tenantId)&&void 0!==pe?pe:null}static parseLink(f){const m=function Go(_){const f=(0,N.zd)((0,N.pd)(_)).link,m=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,v=(0,N.zd)((0,N.pd)(_)).deep_link_id;return(v?(0,N.zd)((0,N.pd)(v)).link:null)||v||m||f||_}(f);try{return new Oa(m)}catch(v){return null}}}let Yc=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,v){return Kn._fromEmailAndPassword(m,v)}static credentialWithLink(m,v){const S=Oa.parseLink(v);return $(S,"argument-error"),Kn._fromEmailAndCode(m,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Qn{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Is extends Qn{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ci extends Is{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return $("providerId"in m&&"signInMethod"in m,"argument-error"),Ti._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return $(f.idToken||f.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ci.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ci.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:v,oauthTokenSecret:S,pendingToken:k,nonce:Y,providerId:pe}=f;if(!v&&!S&&!m&&!k||!pe)return null;try{return new ci(pe)._credential({idToken:m,accessToken:v,nonce:Y,pendingToken:k})}catch(Pe){return null}}}let ro=(()=>{class _ extends Is{constructor(){super("facebook.com")}static credential(m){return Ti._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(v){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Kc=(()=>{class _ extends Is{constructor(){super("google.com"),this.addScope("profile")}static credential(m,v){return Ti._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:v})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S}=m;if(!v&&!S)return null;try{return _.credential(v,S)}catch(k){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),xd=(()=>{class _ extends Is{constructor(){super("github.com")}static credential(m){return Ti._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(v){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ss extends $r{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return es(f,this.buildRequest())}_linkToIdToken(f,m){const v=this.buildRequest();return v.idToken=m,es(f,v)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,es(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:S,pendingToken:k}=m;return v&&S&&k&&v===S?new Ss(v,k):null}static _create(f,m){return new Ss(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class lr extends Qn{constructor(f){$(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return lr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return lr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ss.fromJSON(f);return $(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:v}=f;if(!m||!v)return null;try{return Ss._create(v,m)}catch(S){return null}}}let Qc=(()=>{class _ extends Is{constructor(){super("twitter.com")}static credential(m,v){return Ti._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:v})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:v,oauthTokenSecret:S}=m;if(!v||!S)return null;try{return _.credential(v,S)}catch(k){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Jn(_,f){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(_,f){return ir(_,"POST","/v1/accounts:signUp",Ft(_,f))})).apply(this,arguments)}class kr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,v,S=!1){return(0,u.Z)(function*(){const k=yield ht._fromIdTokenResponse(f,v,S),Y=Rl(v);return new kr({user:k,providerId:Y,_tokenResponse:v,operationType:m})})()}static _forOperation(f,m,v){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const S=Rl(v);return new kr({user:f,providerId:S,_tokenResponse:v,operationType:m})})()}}function Rl(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function xl(){return(xl=(0,u.Z)(function*(_){var f;const m=et(_);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new kr({user:m.currentUser,providerId:null,operationType:"signIn"});const v=yield Jn(m,{returnSecureToken:!0}),S=yield kr._fromIdTokenResponse(m,"signIn",v,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class so extends N.ZR{constructor(f,m,v,S){var k;super(m.code,m.message),this.operationType=v,this.user=S,Object.setPrototypeOf(this,so.prototype),this.customData={appName:f.name,tenantId:null!==(k=f.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,m,v,S){return new so(f,m,v,S)}}function kl(_,f,m,v){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?so._fromErrorAndOperation(_,k,f,v):k})}function ui(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Zt(){return(Zt=(0,u.Z)(function*(_,f){const m=(0,N.m9)(_);yield Bt(!0,m,f);const{providerUserInfo:v}=yield on(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),S=ui(v||[]);return m.providerData=m.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function qo(_,f){return As.apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(_,f,m=!1){const v=yield qn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return kr._forOperation(_,"link",v)})).apply(this,arguments)}function Bt(_,f,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(_,f,m){yield Yn(f);const S=!1===_?"provider-already-linked":"no-such-provider";$(ui(f.providerData).has(m)===_,f.auth,S)})).apply(this,arguments)}function Pa(_,f){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(_,f,m=!1){const{auth:v}=_,S="reauthenticate";try{const k=yield qn(_,kl(v,S,f,_),m);$(k.idToken,v,"internal-error");const Y=Je(k.idToken);$(Y,v,"internal-error");const{sub:pe}=Y;return $(_.uid===pe,v,"user-mismatch"),kr._forOperation(_,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Te(v,"user-mismatch"),k}})).apply(this,arguments)}function Bn(_,f){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(_,f,m=!1){const v="signIn",S=yield kl(_,v,f),k=yield kr._fromIdTokenResponse(_,v,S);return m||(yield _._updateCurrentUser(k.user)),k})).apply(this,arguments)}function rn(_,f){return di.apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(_,f){return Bn(et(_),f)})).apply(this,arguments)}function Un(_,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(_,f){const m=(0,N.m9)(_);return yield Bt(!1,m,f.providerId),qo(m,f)})).apply(this,arguments)}function Ii(_,f){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(_,f){return Pa((0,N.m9)(_),f)})).apply(this,arguments)}function Gr(_,f){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(_,f){return ir(_,"POST","/v1/accounts:signInWithCustomToken",Ft(_,f))})).apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(_,f){const m=et(_),v=yield Gr(m,{token:f,returnSecureToken:!0}),S=yield kr._fromIdTokenResponse(m,"signIn",v);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class rs{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Pl._fromServerResponse(f,m):Te(f,"internal-error")}}class Pl extends rs{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Pl(m)}}function Ko(_,f,m){var v;$((null===(v=m.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),$(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&($(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&($(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Na(){return(Na=(0,u.Z)(function*(_,f,m){const v=(0,N.m9)(_),S={requestType:"PASSWORD_RESET",email:f};m&&Ko(v,S,m),yield zo(v,S)})).apply(this,arguments)}function Fl(){return(Fl=(0,u.Z)(function*(_,f,m){yield dn((0,N.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(_,f){yield Ra((0,N.m9)(_),{oobCode:f})})).apply(this,arguments)}function It(_,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(_,f){const m=(0,N.m9)(_),v=yield dn(m,{oobCode:f}),S=v.requestType;switch($(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$(v.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$(v.mfaInfo,m,"internal-error");default:$(v.email,m,"internal-error")}let k=null;return v.mfaInfo&&(k=rs._fromServerResponse(et(m),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(_,f){const{data:m}=yield It((0,N.m9)(_),f);return m.email})).apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(_,f,m){const v=et(_),S=yield Jn(v,{returnSecureToken:!0,email:f,password:m}),k=yield kr._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(_,f,m){const v=(0,N.m9)(_),S={requestType:"EMAIL_SIGNIN",email:f};$(m.handleCodeInApp,v,"argument-error"),m&&Ko(v,S,m),yield zr(v,S)})).apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(_,f,m){const v=(0,N.m9)(_),S=Yc.credentialWithLink(f,m||ke());return $(S._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),rn(v,S)})).apply(this,arguments)}function Xn(_,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,u.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:createAuthUri",Ft(_,f))})).apply(this,arguments)}function is(){return(is=(0,u.Z)(function*(_,f){const v={identifier:f,continueUri:tt()?ke():"http://localhost"},{signinMethods:S}=yield Xn((0,N.m9)(_),v);return S||[]})).apply(this,arguments)}function Ul(){return(Ul=(0,u.Z)(function*(_,f){const m=(0,N.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Ko(m.auth,S,f);const{email:k}=yield qt(m.auth,S);k!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(_,f,m){const v=(0,N.m9)(_),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&Ko(v.auth,k,m);const{email:Y}=yield jc(v.auth,k);Y!==_.email&&(yield _.reload())})).apply(this,arguments)}function Hl(_,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const v=(0,N.m9)(_),k={idToken:yield v.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},Y=yield qn(v,Hl(v.auth,k));v.displayName=Y.displayName||null,v.photoURL=Y.photoUrl||null;const pe=v.providerData.find(({providerId:Pe})=>"password"===Pe);pe&&(pe.displayName=v.displayName,pe.photoURL=v.photoURL),yield v._updateTokensIfNecessary(Y)})).apply(this,arguments)}function $a(_,f,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(_,f,m){const{auth:v}=_,k={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(k.email=f),m&&(k.password=m);const Y=yield qn(_,$o(v,k));yield _._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class co{constructor(f,m,v={}){this.isNewUser=f,this.providerId=m,this.profile=v}}class ru extends co{constructor(f,m,v,S){super(f,m,v),this.username=S}}class za extends co{constructor(f,m){super(f,"facebook.com",m)}}class vr extends ru{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Od extends co{constructor(f,m){super(f,"google.com",m)}}class jl extends ru{constructor(f,m,v){super(f,"twitter.com",m,v)}}function kn(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function nu(_){var f,m;if(!_)return null;const{providerId:v}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},k=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&(null==_?void 0:_.idToken)){const Y=null===(m=null===(f=Je(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(Y)return new co(k,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!v)return null;switch(v){case"facebook.com":return new za(k,S);case"github.com":return new vr(k,S);case"google.com":return new Od(k,S);case"twitter.com":return new jl(k,S,_.screenName||null);case"custom":case"anonymous":return new co(k,null);default:return new co(k,v,S)}}(m)}class Ai{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Ai("enroll",f)}static _fromMfaPendingCredential(f){return new Ai("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,v;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ai._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(v=f.multiFactorSession)||void 0===v?void 0:v.idToken)return Ai._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ps{constructor(f,m,v){this.session=f,this.hints=m,this.signInResolver=v}static _fromError(f,m){const v=et(f),S=m.customData._serverResponse,k=(S.mfaInfo||[]).map(pe=>rs._fromServerResponse(v,pe));$(S.mfaPendingCredential,v,"internal-error");const Y=Ai._fromMfaPendingCredential(S.mfaPendingCredential);return new Ps(Y,k,function(){var pe=(0,u.Z)(function*(Pe){const Ze=yield Pe._process(v,Y);delete S.mfaInfo,delete S.mfaPendingCredential;const it=Object.assign(Object.assign({},S),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(m.operationType){case"signIn":const rt=yield kr._fromIdTokenResponse(v,m.operationType,it);return yield v._updateCurrentUser(rt.user),rt;case"reauthenticate":return $(m.user,v,"internal-error"),kr._forOperation(m.user,m.operationType,it);default:Te(v,"internal-error")}});return function(Pe){return pe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,u.Z)(function*(){return m.signInResolver(f)})()}}function su(_,f){return Tt(_,"POST","/v2/accounts/mfaEnrollment:start",Ft(_,f))}class uo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(v=>rs._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new uo(f)}getSession(){var f=this;return(0,u.Z)(function*(){return Ai._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var v=this;return(0,u.Z)(function*(){const S=f,k=yield v.getSession(),Y=yield qn(v.user,S._process(v.user.auth,k,m));return yield v.user._updateTokensIfNecessary(Y),v.user.reload()})()}unenroll(f){var m=this;return(0,u.Z)(function*(){const v="string"==typeof f?f:f.uid,S=yield m.user.getIdToken(),k=yield qn(m.user,function Ns(_,f){return Tt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(_,f))}(m.user.auth,{idToken:S,mfaEnrollmentId:v}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Y})=>Y!==v),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(Y){if("auth/user-token-expired"!==Y.code)throw Y}})()}}const Ga=new WeakMap,Mi="__sak";class Wa{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Mi,"1"),this.storage.removeItem(Mi),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const zt=(()=>{class _ extends Wa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,v)=>this.onStorageEvent(m,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yf(){const _=(0,N.z$)();return Ma(_)||gr(_)}()&&function Fn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Ki(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const v of Object.keys(this.listeners)){const S=this.storage.getItem(v),k=this.localCache[v];S!==k&&m(v,k,S)}}onStorageEvent(m,v=!1){if(!m.key)return void this.forAllChangedKeys((pe,Pe,Ze)=>{this.notifyListeners(pe,Ze)});const S=m.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(S);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!v)return}const k=()=>{const pe=this.storage.getItem(S);!v&&this.localCache[S]===pe||this.notifyListeners(S,pe)},Y=this.storage.getItem(S);!function jo(){return(0,N.w1)()&&10===document.documentMode}()||Y===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,v){this.localCache[m]=v;const S=this.listeners[m];if(S)for(const k of Array.from(S))k(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,v,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:v,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(v)}_removeListener(m,v){this.listeners[m]&&(this.listeners[m].delete(v),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,v){var S=()=>super._set,k=this;return(0,u.Z)(function*(){yield S().call(k,m,v),k.localCache[m]=JSON.stringify(v)})()}_get(m){var v=()=>super._get,S=this;return(0,u.Z)(function*(){const k=yield v().call(S,m);return S.localCache[m]=JSON.stringify(k),k})()}_remove(m){var v=()=>super._remove,S=this;return(0,u.Z)(function*(){yield v().call(S,m),delete S.localCache[m]})()}}return _.type="LOCAL",_})(),en=(()=>{class _ extends Wa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,v){}_removeListener(m,v){}}return _.type="SESSION",_})();let ou=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const v=this.receivers.find(k=>k.isListeningto(m));if(v)return v;const S=new _(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var v=this;return(0,u.Z)(function*(){const S=m,{eventId:k,eventType:Y,data:pe}=S.data,Pe=v.handlersMap[Y];if(!(null==Pe?void 0:Pe.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:Y});const Ze=Array.from(Pe).map(function(){var rt=(0,u.Z)(function*(mn){return mn(S.origin,pe)});return function(mn){return rt.apply(this,arguments)}}()),it=yield function Jo(_){return Promise.all(_.map(function(){var f=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(v){return{fulfilled:!1,reason:v}}});return function(m){return f.apply(this,arguments)}}()))}(Ze);S.ports[0].postMessage({status:"done",eventId:k,eventType:Y,response:it})})()}_subscribe(m,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(v)}_unsubscribe(m,v){this.handlersMap[m]&&v&&this.handlersMap[m].delete(v),(!v||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function fo(_="",f=10){let m="";for(let v=0;v<f;v++)m+=Math.floor(10*Math.random());return _+m}class ss{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,v=50){var S=this;return(0,u.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Y,pe;return new Promise((Pe,Ze)=>{const it=fo("",20);k.port1.start();const rt=setTimeout(()=>{Ze(new Error("unsupported_event"))},v);pe={messageChannel:k,onMessage(mn){const Vr=mn;if(Vr.data.eventId===it)switch(Vr.data.status){case"ack":clearTimeout(rt),Y=setTimeout(()=>{Ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Pe(Vr.data.response);break;default:clearTimeout(rt),clearTimeout(Y),Ze(new Error("invalid_response"))}}},S.handlers.add(pe),k.port1.addEventListener("message",pe.onMessage),S.target.postMessage({eventType:f,eventId:it,data:m},[k.port2])}).finally(()=>{pe&&S.removeMessageHandler(pe)})})()}}function hn(){return window}function qr(){return void 0!==hn().WorkerGlobalScope&&"function"==typeof hn().importScripts}function au(){return(au=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const $l="firebaseLocalStorageDb",as="firebaseLocalStorage",Ri="fbase_key";class Fs{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function jn(_,f){return _.transaction([as],f?"readwrite":"readonly").objectStore(as)}function Ls(){const _=indexedDB.open($l,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(as,{keyPath:Ri})}catch(S){m(S)}}),_.addEventListener("success",(0,u.Z)(function*(){const v=_.result;v.objectStoreNames.contains(as)?f(v):(v.close(),yield function $n(){const _=indexedDB.deleteDatabase($l);return new Fs(_).toPromise()}(),f(yield Ls()))}))})}function po(_,f,m){return ls.apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(_,f,m){const v=jn(_,!0).put({[Ri]:f,value:m});return new Fs(v).toPromise()})).apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(_,f){const m=jn(_,!1).get(f),v=yield new Fs(m).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function go(_,f){const m=jn(_,!0).delete(f);return new Fs(m).toPromise()}const us=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield Ls()),m.db})()}_withRetries(m){var v=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const k=yield v._openDb();return yield m(k)}catch(k){if(S++>3)throw k;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return qr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=ou._getInstance(function qa(){return qr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var v=(0,u.Z)(function*(S,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(S,k){return v.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var v=(0,u.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return v.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var v,S;if(m.activeServiceWorker=yield function yt(){return au.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ss(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(v=k[0])||void 0===v?void 0:v.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var v=this;return(0,u.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function lu(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:m},v.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ls();return yield po(m,Mi,"1"),yield go(m,Mi),!0}catch(m){}return!1})()}_withPendingWrite(m){var v=this;return(0,u.Z)(function*(){v.pendingWrites++;try{yield m()}finally{v.pendingWrites--}})()}_set(m,v){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(k=>po(k,m,v)),S.localCache[m]=v,S.notifyServiceWorker(m)}))})()}_get(m){var v=this;return(0,u.Z)(function*(){const S=yield v._withRetries(k=>function mo(_,f){return cs.apply(this,arguments)}(k,m));return v.localCache[m]=S,S})()}_remove(m){var v=this;return(0,u.Z)(function*(){return v._withPendingWrite((0,u.Z)(function*(){return yield v._withRetries(S=>go(S,m)),delete v.localCache[m],v.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const v=yield m._withRetries(Y=>{const pe=jn(Y,!1).getAll();return new Fs(pe).toPromise()});if(!v)return[];if(0!==m.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:Y,value:pe}of v)k.add(Y),JSON.stringify(m.localCache[Y])!==JSON.stringify(pe)&&(m.notifyListeners(Y,pe),S.push(Y));for(const Y of Object.keys(m.localCache))m.localCache[Y]&&!k.has(Y)&&(m.notifyListeners(Y,null),S.push(Y));return S})()}notifyListeners(m,v){this.localCache[m]=v;const S=this.listeners[m];if(S)for(const k of Array.from(S))k(v)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(v)}_removeListener(m,v){this.listeners[m]&&(this.listeners[m].delete(v),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function fn(_,f){return Tt(_,"POST","/v2/accounts/mfaSignIn:start",Ft(_,f))}function Cn(){return(Cn=(0,u.Z)(function*(_){return(yield Tt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bs(_){return new Promise((f,m)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=f,v.onerror=S=>{const k=Ce("internal-error");k.customData=S,m(k)},v.type="text/javascript",v.charset="UTF-8",function pi(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(v)})}function xi(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Zr=1e12;class wn{constructor(f){this.auth=f,this.counter=Zr,this._widgets=new Map}render(f,m){const v=this.counter;return this._widgets.set(v,new mi(f,this.auth.name,m||{})),this.counter++,v}reset(f){var m;const v=f||Zr;null===(m=this._widgets.get(v))||void 0===m||m.delete(),this._widgets.delete(v)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Zr))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,u.Z)(function*(){var v;return null===(v=m._widgets.get(f||Zr))||void 0===v||v.execute(),""})()}}class mi{constructor(f,m,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;$(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Za(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gl=xi("rcb"),an=new Ut(3e4,6e4);class rm{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!hn().grecaptcha}load(f,m=""){return $(function _o(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(hn().grecaptcha):new Promise((v,S)=>{const k=hn().setTimeout(()=>{S(Ce(f,"network-request-failed"))},an.get());hn()[Gl]=()=>{hn().clearTimeout(k),delete hn()[Gl];const pe=hn().grecaptcha;if(!pe)return void S(Ce(f,"internal-error"));const Pe=pe.render;pe.render=(Ze,it)=>{const rt=Pe(Ze,it);return this.counter++,rt},this.hostLanguage=m,v(pe)},Bs(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Gl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),S(Ce(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!hn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class br{load(f){return(0,u.Z)(function*(){return new wn(f)})()}clearedOneInstance(){}}const cu="recaptcha",hs={theme:"light",type:"image"};class uu{constructor(f,m=Object.assign({},hs),v){this.parameters=m,this.type=cu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=et(v),this.isInvisible="invisible"===this.parameters.size,$("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;$(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new br:new rm,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(m)||new Promise(k=>{const Y=pe=>{!pe||(f.tokenChangeListeners.delete(Y),k(pe))};f.tokenChangeListeners.add(Y),f.isInvisible&&v.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){$(!this.parameters.sitekey,this.auth,"argument-error"),$(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(v=>v(m)),"function"==typeof f)f(m);else if("string"==typeof f){const v=hn()[f];"function"==typeof v&&v(m)}}}assertNotDestroyed(){$(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const v=document.createElement("div");m.appendChild(v),m=v}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){$(tt()&&!qr(),f.auth,"internal-error"),yield function Oi(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function ds(_){return Cn.apply(this,arguments)}(f.auth);$(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return $(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wl{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=no._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function ea(){return(ea=(0,u.Z)(function*(_,f,m){const v=et(_),S=yield ur(v,f,(0,N.m9)(m));return new Wl(S,k=>rn(v,k))})).apply(this,arguments)}function du(){return(du=(0,u.Z)(function*(_,f,m){const v=(0,N.m9)(_);yield Bt(!1,v,"phone");const S=yield ur(v.auth,f,(0,N.m9)(m));return new Wl(S,k=>Un(v,k))})).apply(this,arguments)}function cr(){return(cr=(0,u.Z)(function*(_,f,m){const v=(0,N.m9)(_),S=yield ur(v.auth,f,(0,N.m9)(m));return new Wl(S,k=>Ii(v,k))})).apply(this,arguments)}function ur(_,f,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(_,f,m){var v;const S=yield m.verify();try{let k;if($("string"==typeof S,_,"argument-error"),$(m.type===cu,_,"argument-error"),k="string"==typeof f?{phoneNumber:f}:f,"session"in k){const Y=k.session;if("phoneNumber"in k)return $("enroll"===Y.type,_,"internal-error"),(yield su(_,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{$("signin"===Y.type,_,"internal-error");const pe=(null===(v=k.multiFactorHint)||void 0===v?void 0:v.uid)||k.multiFactorUid;return $(pe,_,"missing-multi-factor-info"),(yield fn(_,{mfaPendingCredential:Y.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield uf(_,{phoneNumber:k.phoneNumber,recaptchaToken:S});return Y}}finally{m._reset()}})).apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(_,f){yield qo((0,N.m9)(_),f)})).apply(this,arguments)}let fs=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=et(m)}verifyPhoneNumber(m,v){return ur(this.auth,m,(0,N.m9)(v))}static credential(m,v){return no._fromVerification(m,v)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:v,temporaryProof:S}=m;return v&&S?no._fromTokenResponse(v,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ni(_,f){return f?re(f):($(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class vo extends $r{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return es(f,this._buildIdpRequest())}_linkToIdToken(f,m){return es(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return es(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Ct(_){return Bn(_.auth,new vo(_),_.bypassAuthState)}function hu(_){const{auth:f,user:m}=_;return $(m,f,"internal-error"),Pa(m,new vo(_),_.bypassAuthState)}function bo(_){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(_){const{auth:f,user:m}=_;return $(m,f,"internal-error"),qo(m,new vo(_),_.bypassAuthState)})).apply(this,arguments)}class na{constructor(f,m,v,S,k=!1){this.auth=f,this.resolver=v,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,u.Z)(function*(v,S){f.pendingPromise={resolve:v,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(k){f.reject(k)}});return function(v,S){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,u.Z)(function*(){const{urlResponse:v,sessionId:S,postBody:k,tenantId:Y,error:pe,type:Pe}=f;if(pe)return void m.reject(pe);const Ze={auth:m.auth,requestUri:v,sessionId:S,tenantId:Y||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pe)(Ze))}catch(it){m.reject(it)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ct;case"linkViaPopup":case"linkViaRedirect":return bo;case"reauthViaPopup":case"reauthViaRedirect":return hu;default:Te(this.auth,"internal-error")}}resolve(f){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Co=new Ut(2e3,1e4);function Fi(){return(Fi=(0,u.Z)(function*(_,f,m){const v=et(_);Fe(_,f,Qn);const S=Ni(v,m);return new pu(v,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(_,f,m){const v=(0,N.m9)(_);Fe(v.auth,f,Qn);const S=Ni(v.auth,m);return new pu(v.auth,"reauthViaPopup",f,S,v).executeNotNull()})).apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(_,f,m){const v=(0,N.m9)(_);Fe(v.auth,f,Qn);const S=Ni(v.auth,m);return new pu(v.auth,"linkViaPopup",f,S,v).executeNotNull()})).apply(this,arguments)}let pu=(()=>{class _ extends na{constructor(m,v,S,k,Y){super(m,v,k,Y),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const v=yield m.execute();return $(v,m.auth,"internal-error"),v})()}onExecution(){var m=this;return(0,u.Z)(function*(){K(1===m.filter.length,"Popup operations only handle one event");const v=fo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],v),m.authWindow.associatedEvent=v,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Ce(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var v,S;this.pollId=(null===(S=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Co.get())};m()}}return _.currentPopupAction=null,_})();const nr=new Map;class ql extends na{constructor(f,m,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,u.Z)(function*(){let v=nr.get(m.auth._key());if(!v){try{const k=(yield function Ld(_,f){return ps.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;v=()=>Promise.resolve(k)}catch(S){v=()=>Promise.reject(S)}nr.set(m.auth._key(),v)}return m.bypassAuthState||nr.set(m.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,v=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(v,f);if("unknown"!==f.type){if(f.eventId){const S=yield v.auth._redirectUserForId(f.eventId);if(S)return v.user=S,m().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function ps(){return(ps=(0,u.Z)(function*(_,f){const m=V(f),v=R(_);if(!(yield v._isAvailable()))return!1;const S="true"===(yield v._get(m));return yield v._remove(m),S})).apply(this,arguments)}function wo(_,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(_,f){return R(_)._set(V(f),"true")})).apply(this,arguments)}function T(_,f){nr.set(_._key(),f)}function R(_){return re(_._redirectPersistence)}function V(_){return Tn("pendingRedirect",_.config.apiKey,_.name)}function de(){return(de=(0,u.Z)(function*(_,f,m){const v=et(_);Fe(_,f,Qn);const S=Ni(v,m);return yield wo(S,v),S._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(_,f,m){const v=(0,N.m9)(_);Fe(v.auth,f,Qn);const S=Ni(v.auth,m);yield wo(S,v.auth);const k=yield Vi(v);return S._openRedirect(v.auth,f,"reauthViaRedirect",k)})).apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(_,f,m){const v=(0,N.m9)(_);Fe(v.auth,f,Qn);const S=Ni(v.auth,m);yield Bt(!1,v,f.providerId),yield wo(S,v.auth);const k=yield Vi(v);return S._openRedirect(v.auth,f,"linkViaRedirect",k)})).apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(_,f){return yield et(_)._initializationPromise,Nr(_,f,!1)})).apply(this,arguments)}function Nr(_,f){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(_,f,m=!1){const v=et(_),S=Ni(v,f),Y=yield new ql(v,S,m).execute();return Y&&!m&&(delete Y.user._redirectEventId,yield v._persistUserIfCurrent(Y.user),yield v._setRedirectUser(null,f)),Y})).apply(this,arguments)}function Vi(_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(_){const f=fo(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Qr{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(m=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function mu(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Do(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var v;if(f.error&&!Do(f)){const S=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";m.onError(Ce(this.auth,S))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const v=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bi(f))}saveEventToCache(f){this.cachedEventUids.add(Bi(f)),this.lastProcessedEventTime=Date.now()}}function Bi(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Do({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Vd(_){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,u.Z)(function*(_,f={}){return Tt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const gu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qa=/^https?/;function Ud(){return(Ud=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Vd(_);for(const m of f)try{if(N_(m))return}catch(v){}Te(_,"unauthorized-domain")})).apply(this,arguments)}function N_(_){const f=ke(),{protocol:m,hostname:v}=new URL(f);if(_.startsWith("chrome-extension://")){const Y=new URL(_);return""===Y.hostname&&""===v?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Y.hostname===v}if(!Qa.test(m))return!1;if(gu.test(_))return v===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(v)}const bf=new Ut(3e4,6e4);function Hd(){const _=hn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Ja=null;function Us(_){return Ja=Ja||function Cf(_){return new Promise((f,m)=>{var v,S,k;function Y(){Hd(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Hd(),m(Ce(_,"network-request-failed"))},timeout:bf.get()})}if(null===(S=null===(v=hn().gapi)||void 0===v?void 0:v.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(k=hn().gapi)||void 0===k?void 0:k.load)){const pe=xi("iframefcb");return hn()[pe]=()=>{gapi.load?Y():m(Ce(_,"network-request-failed"))},Bs(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Pe=>m(Pe))}Y()}}).catch(f=>{throw Ja=null,f})}(_),Ja}const Xa=new Ut(5e3,15e3),el={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wf(_){const f=_.config;$(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?ln(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:_.name,v:he.SDK_VERSION},S=tl.get(_.config.apiHost);S&&(v.eid=S);const k=_._getFrameworks();return k.length&&(v.fw=k.join(",")),`${m}?${(0,N.xO)(v).slice(1)}`}function Hs(){return Hs=(0,u.Z)(function*(_){const f=yield Us(_),m=hn().gapi;return $(m,_,"internal-error"),f.open({where:document.body,url:wf(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:el,dontclear:!0},v=>new Promise(function(){var S=(0,u.Z)(function*(k,Y){yield v.restyle({setHideOnLeave:!1});const pe=Ce(_,"network-request-failed"),Pe=hn().setTimeout(()=>{Y(pe)},Xa.get());function Ze(){hn().clearTimeout(Pe),k(v)}v.ping(Ze).then(Ze,()=>{Y(pe)})});return function(k,Y){return S.apply(this,arguments)}}()))}),Hs.apply(this,arguments)}const yu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ef{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Jr(_,f,m,v,S,k){$(_.config.authDomain,_,"auth-domain-config-required"),$(_.config.apiKey,_,"invalid-api-key");const Y={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:v,v:he.SDK_VERSION,eventId:S};if(f instanceof Qn){f.setDefaultLanguage(_.languageCode),Y.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(Y.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Pe,Ze]of Object.entries(k||{}))Y[Pe]=Ze}if(f instanceof Is){const Pe=f.getScopes().filter(Ze=>""!==Ze);Pe.length>0&&(Y.scopes=Pe.join(","))}_.tenantId&&(Y.tid=_.tenantId);const pe=Y;for(const Pe of Object.keys(pe))void 0===pe[Pe]&&delete pe[Pe];return`${function js({config:_}){return _.emulator?ln(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,N.xO)(pe).slice(1)}`}const Ql="webStorageSupport";class wu extends class L_{constructor(f){this.factorId=f}_process(f,m,v){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,v);case"signin":return this._finalizeSignIn(f,m.credential);default:return be("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new wu(f)}_finalizeEnroll(f,m,v){return function gf(_,f){return Tt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(_,f))}(f,{idToken:m,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function zl(_,f){return Tt(_,"POST","/v2/accounts/mfaSignIn:finalize",Ft(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let V_=(()=>{class _{constructor(){}static assertion(m){return wu._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var $d="@firebase/auth";class If{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(v=>{var S;f((null===(S=v)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ia(){return window}function _i(){return(_i=(0,u.Z)(function*(_,f,m){var v;const{BuildInfo:S}=ia();K(f.sessionId,"AuthEvent did not contain a session ID");const k=yield B_(f.sessionId),Y={};return gr()?Y.ibi=S.packageName:or()?Y.apn=S.packageName:Te(_,"operation-not-supported-in-this-environment"),S.displayName&&(Y.appDisplayName=S.displayName),Y.sessionId=k,Jr(_,m,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,Y)})).apply(this,arguments)}function Du(){return(Du=(0,u.Z)(function*(_){const{BuildInfo:f}=ia(),m={};gr()?m.iosBundleId=f.packageName:or()?m.androidPackageName=f.packageName:Te(_,"operation-not-supported-in-this-environment"),yield Vd(_,m)})).apply(this,arguments)}function Sf(){return(Sf=(0,u.Z)(function*(_,f,m){const{cordova:v}=ia();let S=()=>{};try{yield new Promise((k,Y)=>{let pe=null;function Pe(){var rt;k();const mn=null===(rt=v.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof mn&&mn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Ze(){pe||(pe=window.setTimeout(()=>{Y(Ce(_,"redirect-cancelled-by-user"))},2e3))}function it(){"visible"===(null==document?void 0:document.visibilityState)&&Ze()}f.addPassiveListener(Pe),document.addEventListener("resume",Ze,!1),or()&&document.addEventListener("visibilitychange",it,!1),S=()=>{f.removePassiveListener(Pe),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",it,!1),pe&&window.clearTimeout(pe)}})}finally{S()}})).apply(this,arguments)}function B_(_){return ec.apply(this,arguments)}function ec(){return(ec=(0,u.Z)(function*(_){const f=Gd(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Gd(_){if(K(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let v=0;v<_.length;v++)m[v]=_.charCodeAt(v);return m}!function lm(_){(0,he._registerComponent)(new ae.wA("auth",(f,{options:m})=>{const v=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:k,authDomain:Y}=v.options;return((pe,Pe)=>{$(k&&!k.includes(":"),"invalid-api-key",{appName:pe.name}),$(!(null==Y?void 0:Y.includes(":")),"argument-error",{appName:pe.name});const Ze={apiKey:k,authDomain:Y,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:to(_)},it=new je(pe,Pe,Ze);return function ue(_,f){const m=(null==f?void 0:f.persistence)||[],v=(Array.isArray(m)?m:[m]).map(re);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(v,null==f?void 0:f.popupRedirectResolver)}(it,m),it})(v,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,v)=>{f.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new ae.wA("auth-internal",f=>{const m=et(f.getProvider("auth").getImmediate());return new If(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)($d,"0.20.3",function Eu(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,he.registerVersion)($d,"0.20.3","esm2017")}("Browser");class Iu extends Qr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function rl(_){return tc.apply(this,arguments)}function tc(){return(tc=(0,u.Z)(function*(_){const f=yield nc()._get(il(_));return f&&(yield nc()._remove(il(_))),f})).apply(this,arguments)}function Mf(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const v=Math.floor(Math.random()*f.length);_.push(f.charAt(v))}return _.join("")}function nc(){return re(zt)}function il(_){return Tn("authEvent",_.config.apiKey,_.name)}function wr(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...m]=_.split("?");return(0,N.zd)(m.join("?"))}function sa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function To(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Of(_=(0,N.z$)()){return!("file:"!==To()&&"ionic:"!==To()&&"capacitor:"!==To()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zd(){try{const _=self.localStorage,f=fo();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Mu(_=(0,N.z$)()){return function sl(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function On(_=(0,N.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,N.hl)()}catch(_){return Ru()&&(0,N.hl)()}return!1}function Ru(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function zn(){return(function kf(){return"http:"===To()||"https:"===To()}()||(0,N.ru)()||Of())&&!function qd(){return(0,N.b$)()||(0,N.UG)()}()&&Zd()&&!Ru()}function ol(){return Of()&&"undefined"!=typeof document}function ic(){return(ic=(0,u.Z)(function*(){return!!ol()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Er={LOCAL:"local",NONE:"none",SESSION:"session"},Io=$,Kd="persistence";function oa(_){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,u.Z)(function*(_){yield _._initializationPromise;const f=xu(),m=Tn(Kd,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function xu(){var _;try{return(null===(_=function mm(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const _m=$;class yi{constructor(){this.browserResolver=re(class am{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=en,this._completeRedirectFn=Nr,this._overrideRedirectResult=T}_openPopup(f,m,v,S){var k=this;return(0,u.Z)(function*(){var Y;K(null===(Y=k.eventManagers[f._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const pe=Jr(f,m,v,ke(),S);return function Kl(_,f,m,v=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),Y=Math.max((window.screen.availWidth-v)/2,0).toString();let pe="";const Pe=Object.assign(Object.assign({},yu),{width:v.toString(),height:S.toString(),top:k,left:Y}),Ze=(0,N.z$)().toLowerCase();m&&(pe=Ho(Ze)?"_blank":m),Uo(Ze)&&(f=f||"http://localhost",Pe.scrollbars="yes");const it=Object.entries(Pe).reduce((mn,[Vr,al])=>`${mn}${Vr}=${al},`,"");if(function Ds(_=(0,N.z$)()){var f;return gr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Ze)&&"_self"!==pe)return function im(_,f){const m=document.createElement("a");m.href=_,m.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(v)}(f||"",pe),new Ef(null);const rt=window.open(f||"",pe,it);$(rt,_,"popup-blocked");try{rt.focus()}catch(mn){}return new Ef(rt)}(f,pe,fo())})()}_openRedirect(f,m,v,S){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(f),function os(_){hn().location.href=_}(Jr(f,m,v,ke(),S)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:S,promise:k}=this.eventManagers[m];return S?Promise.resolve(S):(K(k,"If manager is not set, promise should be"),k)}const v=this.initAndGetManager(f);return this.eventManagers[m]={promise:v},v.catch(()=>{delete this.eventManagers[m]}),v}initAndGetManager(f){var m=this;return(0,u.Z)(function*(){const v=yield function F_(_){return Hs.apply(this,arguments)}(f),S=new Qr(f);return v.register("authEvent",k=>($(null==k?void 0:k.authEvent,f,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:S},m.iframes[f._key()]=v,S})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Ql,{type:Ql},S=>{var k;const Y=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[Ql];void 0!==Y&&m(!!Y),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Zl(_){return Ud.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ki()||Ma()||gr()}}),this.cordovaResolver=re(class Rf{constructor(){this._redirectPersistence=en,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Nr,this._overrideRedirectResult=T}_initialize(f){var m=this;return(0,u.Z)(function*(){const v=f._key();let S=m.eventManagers.get(v);return S||(S=new Iu(f),m.eventManagers.set(v,S),m.attachCallbackListeners(f,S)),S})()}_openPopup(f){Te(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,v,S){var k=this;return(0,u.Z)(function*(){!function nl(_){var f,m,v,S,k,Y,pe,Pe,Ze,it;const rt=ia();$("function"==typeof(null===(f=null==rt?void 0:rt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$(void 0!==(null===(m=null==rt?void 0:rt.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$("function"==typeof(null===(k=null===(S=null===(v=null==rt?void 0:rt.cordova)||void 0===v?void 0:v.plugins)||void 0===S?void 0:S.browsertab)||void 0===k?void 0:k.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(Pe=null===(pe=null===(Y=null==rt?void 0:rt.cordova)||void 0===Y?void 0:Y.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Pe?void 0:Pe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(it=null===(Ze=null==rt?void 0:rt.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===it?void 0:it.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Y=yield k._initialize(f);yield Y.initialized(),Y.resetRedirect(),function E(){nr.clear()}(),yield k._originValidation(f);const pe=function Su(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Mf(),postBody:null,tenantId:_.tenantId,error:Ce(_,"no-auth-event")}}(f,v,S);yield function Af(_,f){return nc()._set(il(_),f)}(f,pe);const Pe=yield function zd(_,f,m){return _i.apply(this,arguments)}(f,pe,m),Ze=yield function Tu(_){const{cordova:f}=ia();return new Promise(m=>{f.plugins.browsertab.isAvailable(v=>{let S=null;v?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function Hc(_=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(S)})})}(Pe);return function $s(_,f,m){return Sf.apply(this,arguments)}(f,Y,Ze)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Xl(_){return Du.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:v,handleOpenURL:S,BuildInfo:k}=ia(),Y=setTimeout((0,u.Z)(function*(){yield rl(f),m.onEvent(sa())}),500),pe=function(){var it=(0,u.Z)(function*(rt){clearTimeout(Y);const mn=yield rl(f);let Vr=null;mn&&(null==rt?void 0:rt.url)&&(Vr=function um(_,f){var m,v;const S=function rc(_){const f=wr(_),m=f.link?decodeURIComponent(f.link):void 0,v=wr(m).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return wr(S).link||S||v||m||_}(f);if(S.includes("/__/auth/callback")){const k=wr(S),Y=k.firebaseError?function dm(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(k.firebaseError)):null,pe=null===(v=null===(m=null==Y?void 0:Y.code)||void 0===m?void 0:m.split("auth/"))||void 0===v?void 0:v[1],Pe=pe?Ce(pe):null;return Pe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(mn,rt.url)),m.onEvent(Vr||sa())});return function(mn){return it.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,pe);const Pe=S,Ze=`${k.packageName.toLowerCase()}://`;ia().handleOpenURL=function(){var it=(0,u.Z)(function*(rt){if(rt.toLowerCase().startsWith(Ze)&&pe({url:rt}),"function"==typeof Pe)try{Pe(rt)}catch(mn){console.error(mn)}});return function(rt){return it.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=en,this._completeRedirectFn=Nr,this._overrideRedirectResult=T}_initialize(f){var m=this;return(0,u.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,v,S){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(f,m,v,S)})()}_openRedirect(f,m,v,S){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(f,m,v,S)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ol()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _m(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Yd(){return ic.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function ku(_){return _.unwrap()}function vm(_){return Pf(_)}function Pf(_){const{_tokenResponse:f}=_ instanceof N.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return fs.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let v;switch(m){case"google.com":v=Kc;break;case"facebook.com":v=ro;break;case"github.com":v=xd;break;case"twitter.com":v=Qc;break;default:const{oauthIdToken:S,oauthAccessToken:k,oauthTokenSecret:Y,pendingToken:pe,nonce:Pe}=f;return k||Y||S||pe?pe?m.startsWith("saml.")?Ss._create(m,pe):Ti._fromParams({providerId:m,signInMethod:m,pendingToken:pe,idToken:S,accessToken:k}):new ci(m).credential({idToken:S,accessToken:k,rawNonce:Pe}):null}return _ instanceof N.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function Lr(_,f){return f.catch(m=>{throw m instanceof N.ZR&&function Ou(_,f){var m;const v=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new bm(_,function An(_,f){var m;const v=(0,N.m9)(_),S=f;return $(f.customData.operationType,v,"argument-error"),$(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,v,"argument-error"),Ps._fromError(v,S)}(_,f));else if(v){const S=Pf(f),k=f;S&&(k.credential=S,k.tenantId=v.tenantId||void 0,k.email=v.email||void 0,k.phoneNumber=v.phoneNumber||void 0)}}(_,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:vm(m),additionalUserInfo:kn(m),user:Ui.getOrCreate(S)}})}function Jd(_,f){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,u.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:v=>Lr(_,m.confirm(v))}})).apply(this,arguments)}class bm{constructor(f,m){this.resolver=m,this.auth=function ym(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Lr(ku(this.auth),this.resolver.resolveSignIn(f))}}class Ui{constructor(f){this._delegate=f,this.multiFactor=function _f(_){const f=(0,N.m9)(_);return Ga.has(f)||Ga.set(f,uo._fromUser(f)),Ga.get(f)}(f)}static getOrCreate(f){return Ui.USER_MAP.has(f)||Ui.USER_MAP.set(f,new Ui(f)),Ui.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,u.Z)(function*(){return Lr(m.auth,Un(m._delegate,f))})()}linkWithPhoneNumber(f,m){var v=this;return(0,u.Z)(function*(){return Jd(v.auth,function Ya(_,f,m){return du.apply(this,arguments)}(v._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,u.Z)(function*(){return Lr(m.auth,function fu(_,f,m){return gi.apply(this,arguments)}(m._delegate,f,yi))})()}linkWithRedirect(f){var m=this;return(0,u.Z)(function*(){return yield oa(et(m.auth)),function Lt(_,f,m){return function st(_,f,m){return pn.apply(this,arguments)}(_,f,m)}(m._delegate,f,yi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,u.Z)(function*(){return Lr(m.auth,Ii(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Jd(this.auth,function Fd(_,f,m){return cr.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Lr(this.auth,function Yr(_,f,m){return Ka.apply(this,arguments)}(this._delegate,f,yi))}reauthenticateWithRedirect(f){var m=this;return(0,u.Z)(function*(){return yield oa(et(m.auth)),function $e(_,f,m){return function Ke(_,f,m){return mt.apply(this,arguments)}(_,f,m)}(m._delegate,f,yi)})()}sendEmailVerification(f){return function Wr(_,f){return Ul.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,u.Z)(function*(){return yield function kd(_,f){return Zt.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function eu(_,f){return $a((0,N.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function tu(_,f){return $a((0,N.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function yo(_,f){return Pi.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ha(_,f){return ja.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Ba(_,f,m){return Ua.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ui.USER_MAP=new WeakMap;const oc=$;let Nf=(()=>{class _{constructor(m,v){if(this.app=m,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;oc(S,"invalid-api-key",{appName:m.name}),oc(S,"invalid-api-key",{appName:m.name});const k="undefined"!=typeof window?yi:void 0;this._delegate=v.initialize({options:{persistence:Cm(S,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ui.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,v){!function yr(_,f,m){const v=et(_);$(v._canInitEmulator,v,"emulator-config-failed"),$(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),k=si(f),{host:Y,port:pe}=function yn(_){const f=si(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const v=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(v);if(S){const k=S[1];return{host:k,port:oi(v.substr(k.length+1))}}{const[k,Y]=v.split(":");return{host:k,port:oi(Y)}}}(f);v.config.emulator={url:`${k}//${Y}${null===pe?"":`:${pe}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:Y,port:pe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Qt(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,v)}applyActionCode(m){return function ao(_,f){return Ie.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return It(this._delegate,m)}confirmPasswordReset(m,v){return function Fa(_,f,m){return Fl.apply(this,arguments)}(this._delegate,m,v)}createUserWithEmailAndPassword(m,v){var S=this;return(0,u.Z)(function*(){return Lr(S._delegate,function xs(_,f,m){return Or.apply(this,arguments)}(S._delegate,m,v))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Va(_,f){return is.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Xc(_,f){const m=Oa.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,u.Z)(function*(){oc(zn(),m._delegate,"operation-not-supported-in-this-environment");const v=yield function Cr(_,f){return Li.apply(this,arguments)}(m._delegate,yi);return v?Lr(m._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function xf(_,f){et(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,v,S){const{next:k,error:Y,complete:pe}=Ff(m,v,S);return this._delegate.onAuthStateChanged(k,Y,pe)}onIdTokenChanged(m,v,S){const{next:k,error:Y,complete:pe}=Ff(m,v,S);return this._delegate.onIdTokenChanged(k,Y,pe)}sendSignInLinkToEmail(m,v){return function Vl(_,f,m){return Bl.apply(this,arguments)}(this._delegate,m,v)}sendPasswordResetEmail(m,v){return function Nl(_,f,m){return Na.apply(this,arguments)}(this._delegate,m,v||void 0)}setPersistence(m){var v=this;return(0,u.Z)(function*(){let S;switch(function gm(_,f){Io(Object.values(Er).includes(f),_,"invalid-persistence-type"),(0,N.b$)()?Io(f!==Er.SESSION,_,"unsupported-persistence-type"):(0,N.UG)()?Io(f===Er.NONE,_,"unsupported-persistence-type"):Ru()?Io(f===Er.NONE||f===Er.LOCAL&&(0,N.hl)(),_,"unsupported-persistence-type"):Io(f===Er.NONE||Zd(),_,"unsupported-persistence-type")}(v._delegate,m),m){case Er.SESSION:S=en;break;case Er.LOCAL:S=(yield re(us)._isAvailable())?us:zt;break;case Er.NONE:S=ft;break;default:return Te("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Lr(this._delegate,function Jc(_){return xl.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Lr(this._delegate,rn(this._delegate,m))}signInWithCustomToken(m){return Lr(this._delegate,function oo(_,f){return ct.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,v){return Lr(this._delegate,function Ll(_,f,m){return rn((0,N.m9)(_),Yc.credential(f,m))}(this._delegate,m,v))}signInWithEmailLink(m,v){return Lr(this._delegate,function pf(_,f,m){return Si.apply(this,arguments)}(this._delegate,m,v))}signInWithPhoneNumber(m,v){return Jd(this._delegate,function En(_,f,m){return ea.apply(this,arguments)}(this._delegate,m,v))}signInWithPopup(m){var v=this;return(0,u.Z)(function*(){return oc(zn(),v._delegate,"operation-not-supported-in-this-environment"),Lr(v._delegate,function vf(_,f,m){return Fi.apply(this,arguments)}(v._delegate,m,yi))})()}signInWithRedirect(m){var v=this;return(0,u.Z)(function*(){return oc(zn(),v._delegate,"operation-not-supported-in-this-environment"),yield oa(v._delegate),function Q(_,f,m){return function ne(_,f,m){return de.apply(this,arguments)}(_,f,m)}(v._delegate,m,yi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Xt(_,f){return La.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Er,_})();function Ff(_,f,m){let v=_;"function"!=typeof _&&({next:v,error:f,complete:m}=_);const S=v;return{next:Y=>S(Y&&Ui.getOrCreate(Y)),error:f,complete:m}}function Cm(_,f){const m=function sc(_,f){const m=xu();if(!m)return[];const v=Tn(Kd,_,f);switch(m.getItem(v)){case Er.NONE:return[ft];case Er.LOCAL:return[us,en];case Er.SESSION:return[en];default:return[]}}(_,f);if("undefined"!=typeof self&&!m.includes(us)&&m.push(us),"undefined"!=typeof window)for(const v of[zt,en])m.includes(v)||m.push(v);return m.includes(ft)||m.push(ft),m}class eh{constructor(){this.providerId="phone",this._delegate=new fs(ku(ee.Z.auth()))}static credential(f,m){return fs.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}eh.PHONE_SIGN_IN_METHOD=fs.PHONE_SIGN_IN_METHOD,eh.PROVIDER_ID=fs.PROVIDER_ID;const Lf=$;class U_{constructor(f,m,v=ee.Z.app()){var S;Lf(null===(S=v.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new uu(f,m,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function aa(_){_.INTERNAL.registerComponent(new ae.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Nf(m,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Yc,FacebookAuthProvider:ro,GithubAuthProvider:xd,GoogleAuthProvider:Kc,OAuthProvider:ci,SAMLAuthProvider:lr,PhoneAuthProvider:eh,PhoneMultiFactorGenerator:V_,RecaptchaVerifier:U_,TwitterAuthProvider:Qc,Auth:Nf,AuthCredential:$r,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.16")}(ee.Z)},8306:(We,ye,P)=>{P.d(ye,{y:()=>z});var u=P(930),ee=P(727),N=P(8822),he=P(4671);var ae=P(2416),ce=P(576),fe=P(2806);let z=(()=>{class Ae{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const me=new Ae;return me.source=this,me.operator=Ne,me}subscribe(Ne,me,Ee){const Ue=function Be(Ae){return Ae&&Ae instanceof u.Lv||function ie(Ae){return Ae&&(0,ce.m)(Ae.next)&&(0,ce.m)(Ae.error)&&(0,ce.m)(Ae.complete)}(Ae)&&(0,ee.Nn)(Ae)}(Ne)?Ne:new u.Hp(Ne,me,Ee);return(0,fe.x)(()=>{const{operator:Ge,source:Te}=this;Ue.add(Ge?Ge.call(Ue,Te):Te?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(me){Ne.error(me)}}forEach(Ne,me){return new(me=j(me))((Ee,Ue)=>{const Ge=new u.Hp({next:Te=>{try{Ne(Te)}catch(Ce){Ue(Ce),Ge.unsubscribe()}},error:Ue,complete:Ee});this.subscribe(Ge)})}_subscribe(Ne){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(Ne)}[N.L](){return this}pipe(...Ne){return function ge(Ae){return 0===Ae.length?he.y:1===Ae.length?Ae[0]:function(Ne){return Ae.reduce((me,Ee)=>Ee(me),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=j(Ne))((me,Ee)=>{let Ue;this.subscribe(Ge=>Ue=Ge,Ge=>Ee(Ge),()=>me(Ue))})}}return Ae.create=xe=>new Ae(xe),Ae})();function j(Ae){var xe;return null!==(xe=null!=Ae?Ae:ae.v.Promise)&&void 0!==xe?xe:Promise}},7579:(We,ye,P)=>{P.d(ye,{x:()=>ae});var u=P(8306),ee=P(727);const he=(0,P(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=P(8737),ge=P(2806);let ae=(()=>{class fe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const ie=new ce(this,this);return ie.operator=j,ie}_throwIfClosed(){if(this.closed)throw new he}next(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(j)}})}error(j){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:ie}=this;for(;ie.length;)ie.shift().error(j)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:ie,isStopped:Be,observers:Ae}=this;return ie||Be?ee.Lc:(this.currentObservers=null,Ae.push(j),new ee.w0(()=>{this.currentObservers=null,(0,se.P)(Ae,j)}))}_checkFinalizedStatuses(j){const{hasError:ie,thrownError:Be,isStopped:Ae}=this;ie?j.error(Be):Ae&&j.complete()}asObservable(){const j=new u.y;return j.source=this,j}}return fe.create=(z,j)=>new ce(z,j),fe})();class ce extends ae{constructor(z,j){super(),this.destination=z,this.source=j}next(z){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===ie||ie.call(j,z)}error(z){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===ie||ie.call(j,z)}complete(){var z,j;null===(j=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===j||j.call(z)}_subscribe(z){var j,ie;return null!==(ie=null===(j=this.source)||void 0===j?void 0:j.subscribe(z))&&void 0!==ie?ie:ee.Lc}}},930:(We,ye,P)=>{P.d(ye,{Hp:()=>Ne,Lv:()=>ie});var u=P(576),ee=P(727),N=P(2416),he=P(7849),se=P(5032);const ge=fe("C",void 0,void 0);function fe(Te,Ce,we){return{kind:Te,value:Ce,error:we}}var z=P(3410),j=P(2806);class ie extends ee.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,ee.Nn)(Ce)&&Ce.add(this)):this.destination=Ge}static create(Ce,we,Fe){return new Ne(Ce,we,Fe)}next(Ce){this.isStopped?Ue(function ce(Te){return fe("N",Te,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Ue(function ae(Te){return fe("E",void 0,Te)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Ue(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ae(Te,Ce){return Be.call(Te,Ce)}class xe{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:we}=this;if(we.next)try{we.next(Ce)}catch(Fe){me(Fe)}}error(Ce){const{partialObserver:we}=this;if(we.error)try{we.error(Ce)}catch(Fe){me(Fe)}else me(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(we){me(we)}}}class Ne extends ie{constructor(Ce,we,Fe){let Le;if(super(),(0,u.m)(Ce)||!Ce)Le={next:null!=Ce?Ce:void 0,error:null!=we?we:void 0,complete:null!=Fe?Fe:void 0};else{let $;this&&N.v.useDeprecatedNextContext?($=Object.create(Ce),$.unsubscribe=()=>this.unsubscribe(),Le={next:Ce.next&&Ae(Ce.next,$),error:Ce.error&&Ae(Ce.error,$),complete:Ce.complete&&Ae(Ce.complete,$)}):Le=Ce}this.destination=new xe(Le)}}function me(Te){N.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Te):(0,he.h)(Te)}function Ue(Te,Ce){const{onStoppedNotification:we}=N.v;we&&z.z.setTimeout(()=>we(Te,Ce))}const Ge={closed:!0,next:se.Z,error:function Ee(Te){throw Te},complete:se.Z}},727:(We,ye,P)=>{P.d(ye,{Lc:()=>ge,w0:()=>se,Nn:()=>ae});var u=P(576);const N=(0,P(3888).d)(fe=>function(j){fe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((ie,Be)=>`${Be+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var he=P(8737);class se{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ae of j)Ae.remove(this);else j.remove(this);const{initialTeardown:ie}=this;if((0,u.m)(ie))try{ie()}catch(Ae){z=Ae instanceof N?Ae.errors:[Ae]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ae of Be)try{ce(Ae)}catch(xe){z=null!=z?z:[],xe instanceof N?z=[...z,...xe.errors]:z.push(xe)}}if(z)throw new N(z)}}add(z){var j;if(z&&z!==this)if(this.closed)ce(z);else{if(z instanceof se){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(z)}}_hasParent(z){const{_parentage:j}=this;return j===z||Array.isArray(j)&&j.includes(z)}_addParent(z){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(z),j):j?[j,z]:z}_removeParent(z){const{_parentage:j}=this;j===z?this._parentage=null:Array.isArray(j)&&(0,he.P)(j,z)}remove(z){const{_finalizers:j}=this;j&&(0,he.P)(j,z),z instanceof se&&z._removeParent(this)}}se.EMPTY=(()=>{const fe=new se;return fe.closed=!0,fe})();const ge=se.EMPTY;function ae(fe){return fe instanceof se||fe&&"closed"in fe&&(0,u.m)(fe.remove)&&(0,u.m)(fe.add)&&(0,u.m)(fe.unsubscribe)}function ce(fe){(0,u.m)(fe)?fe():fe.unsubscribe()}},2416:(We,ye,P)=>{P.d(ye,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(We,ye,P)=>{P.d(ye,{E:()=>ee});const ee=new(P(8306).y)(se=>se.complete())},8996:(We,ye,P)=>{P.d(ye,{D:()=>Ce});var u=P(8421),ee=P(5363),N=P(9468),ge=P(8306),ce=P(2202),fe=P(576),z=P(9672);function ie(we,Fe){if(!we)throw new Error("Iterable cannot be null");return new ge.y(Le=>{(0,z.f)(Le,Fe,()=>{const $=we[Symbol.asyncIterator]();(0,z.f)(Le,Fe,()=>{$.next().then(be=>{be.done?Le.complete():Le.next(be.value)})},0,!0)})})}var Be=P(3670),Ae=P(8239),xe=P(1144),Ne=P(6495),me=P(2206),Ee=P(4532),Ue=P(3260);function Ce(we,Fe){return Fe?function Te(we,Fe){if(null!=we){if((0,Be.c)(we))return function he(we,Fe){return(0,u.Xf)(we).pipe((0,N.R)(Fe),(0,ee.Q)(Fe))}(we,Fe);if((0,xe.z)(we))return function ae(we,Fe){return new ge.y(Le=>{let $=0;return Fe.schedule(function(){$===we.length?Le.complete():(Le.next(we[$++]),Le.closed||this.schedule())})})}(we,Fe);if((0,Ae.t)(we))return function se(we,Fe){return(0,u.Xf)(we).pipe((0,N.R)(Fe),(0,ee.Q)(Fe))}(we,Fe);if((0,me.D)(we))return ie(we,Fe);if((0,Ne.T)(we))return function j(we,Fe){return new ge.y(Le=>{let $;return(0,z.f)(Le,Fe,()=>{$=we[ce.h](),(0,z.f)(Le,Fe,()=>{let be,K;try{({value:be,done:K}=$.next())}catch(oe){return void Le.error(oe)}K?Le.complete():Le.next(be)},0,!0)}),()=>(0,fe.m)(null==$?void 0:$.return)&&$.return()})}(we,Fe);if((0,Ue.L)(we))return function Ge(we,Fe){return ie((0,Ue.Q)(we),Fe)}(we,Fe)}throw(0,Ee.z)(we)}(we,Fe):(0,u.Xf)(we)}},8421:(We,ye,P)=>{P.d(ye,{Xf:()=>Be});var u=P(655),ee=P(1144),N=P(8239),he=P(8306),se=P(3670),ge=P(2206),ae=P(4532),ce=P(6495),fe=P(3260),z=P(576),j=P(7849),ie=P(8822);function Be(Te){if(Te instanceof he.y)return Te;if(null!=Te){if((0,se.c)(Te))return function Ae(Te){return new he.y(Ce=>{const we=Te[ie.L]();if((0,z.m)(we.subscribe))return we.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,ee.z)(Te))return function xe(Te){return new he.y(Ce=>{for(let we=0;we<Te.length&&!Ce.closed;we++)Ce.next(Te[we]);Ce.complete()})}(Te);if((0,N.t)(Te))return function Ne(Te){return new he.y(Ce=>{Te.then(we=>{Ce.closed||(Ce.next(we),Ce.complete())},we=>Ce.error(we)).then(null,j.h)})}(Te);if((0,ge.D)(Te))return Ee(Te);if((0,ce.T)(Te))return function me(Te){return new he.y(Ce=>{for(const we of Te)if(Ce.next(we),Ce.closed)return;Ce.complete()})}(Te);if((0,fe.L)(Te))return function Ue(Te){return Ee((0,fe.Q)(Te))}(Te)}throw(0,ae.z)(Te)}function Ee(Te){return new he.y(Ce=>{(function Ge(Te,Ce){var we,Fe,Le,$;return(0,u.mG)(this,void 0,void 0,function*(){try{for(we=(0,u.KL)(Te);!(Fe=yield we.next()).done;)if(Ce.next(Fe.value),Ce.closed)return}catch(be){Le={error:be}}finally{try{Fe&&!Fe.done&&($=we.return)&&(yield $.call(we))}finally{if(Le)throw Le.error}}Ce.complete()})})(Te,Ce).catch(we=>Ce.error(we))})}},6451:(We,ye,P)=>{P.d(ye,{T:()=>ge});var u=P(8189),ee=P(8421),N=P(515),he=P(3269),se=P(8996);function ge(...ae){const ce=(0,he.yG)(ae),fe=(0,he._6)(ae,1/0),z=ae;return z.length?1===z.length?(0,ee.Xf)(z[0]):(0,u.J)(fe)((0,se.D)(z,ce)):N.E}},5403:(We,ye,P)=>{P.d(ye,{x:()=>ee});var u=P(930);function ee(he,se,ge,ae,ce){return new N(he,se,ge,ae,ce)}class N extends u.Lv{constructor(se,ge,ae,ce,fe,z){super(se),this.onFinalize=fe,this.shouldUnsubscribe=z,this._next=ge?function(j){try{ge(j)}catch(ie){se.error(ie)}}:super._next,this._error=ce?function(j){try{ce(j)}catch(ie){se.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(j){se.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(We,ye,P)=>{P.d(ye,{U:()=>N});var u=P(4482),ee=P(5403);function N(he,se){return(0,u.e)((ge,ae)=>{let ce=0;ge.subscribe((0,ee.x)(ae,fe=>{ae.next(he.call(se,fe,ce++))}))})}},8189:(We,ye,P)=>{P.d(ye,{J:()=>N});var u=P(5577),ee=P(4671);function N(he=1/0){return(0,u.z)(ee.y,he)}},5577:(We,ye,P)=>{P.d(ye,{z:()=>ce});var u=P(4004),ee=P(8421),N=P(4482),he=P(9672),se=P(5403),ae=P(576);function ce(fe,z,j=1/0){return(0,ae.m)(z)?ce((ie,Be)=>(0,u.U)((Ae,xe)=>z(ie,Ae,Be,xe))((0,ee.Xf)(fe(ie,Be))),j):("number"==typeof z&&(j=z),(0,N.e)((ie,Be)=>function ge(fe,z,j,ie,Be,Ae,xe,Ne){const me=[];let Ee=0,Ue=0,Ge=!1;const Te=()=>{Ge&&!me.length&&!Ee&&z.complete()},Ce=Fe=>Ee<ie?we(Fe):me.push(Fe),we=Fe=>{Ae&&z.next(Fe),Ee++;let Le=!1;(0,ee.Xf)(j(Fe,Ue++)).subscribe((0,se.x)(z,$=>{null==Be||Be($),Ae?Ce($):z.next($)},()=>{Le=!0},void 0,()=>{if(Le)try{for(Ee--;me.length&&Ee<ie;){const $=me.shift();xe?(0,he.f)(z,xe,()=>we($)):we($)}Te()}catch($){z.error($)}}))};return fe.subscribe((0,se.x)(z,Ce,()=>{Ge=!0,Te()})),()=>{null==Ne||Ne()}}(ie,Be,fe,j)))}},5363:(We,ye,P)=>{P.d(ye,{Q:()=>he});var u=P(9672),ee=P(4482),N=P(5403);function he(se,ge=0){return(0,ee.e)((ae,ce)=>{ae.subscribe((0,N.x)(ce,fe=>(0,u.f)(ce,se,()=>ce.next(fe),ge),()=>(0,u.f)(ce,se,()=>ce.complete(),ge),fe=>(0,u.f)(ce,se,()=>ce.error(fe),ge)))})}},3099:(We,ye,P)=>{P.d(ye,{B:()=>ge});var u=P(8996),ee=P(5698),N=P(7579),he=P(930),se=P(4482);function ge(ce={}){const{connector:fe=(()=>new N.x),resetOnError:z=!0,resetOnComplete:j=!0,resetOnRefCountZero:ie=!0}=ce;return Be=>{let Ae=null,xe=null,Ne=null,me=0,Ee=!1,Ue=!1;const Ge=()=>{null==xe||xe.unsubscribe(),xe=null},Te=()=>{Ge(),Ae=Ne=null,Ee=Ue=!1},Ce=()=>{const we=Ae;Te(),null==we||we.unsubscribe()};return(0,se.e)((we,Fe)=>{me++,!Ue&&!Ee&&Ge();const Le=Ne=null!=Ne?Ne:fe();Fe.add(()=>{me--,0===me&&!Ue&&!Ee&&(xe=ae(Ce,ie))}),Le.subscribe(Fe),Ae||(Ae=new he.Hp({next:$=>Le.next($),error:$=>{Ue=!0,Ge(),xe=ae(Te,z,$),Le.error($)},complete:()=>{Ee=!0,Ge(),xe=ae(Te,j),Le.complete()}}),(0,u.D)(we).subscribe(Ae))})(Be)}}function ae(ce,fe,...z){return!0===fe?(ce(),null):!1===fe?null:fe(...z).pipe((0,ee.q)(1)).subscribe(()=>ce())}},9468:(We,ye,P)=>{P.d(ye,{R:()=>ee});var u=P(4482);function ee(N,he=0){return(0,u.e)((se,ge)=>{ge.add(N.schedule(()=>se.subscribe(ge),he))})}},5698:(We,ye,P)=>{P.d(ye,{q:()=>he});var u=P(515),ee=P(4482),N=P(5403);function he(se){return se<=0?()=>u.E:(0,ee.e)((ge,ae)=>{let ce=0;ge.subscribe((0,N.x)(ae,fe=>{++ce<=se&&(ae.next(fe),se<=ce&&ae.complete())}))})}},8505:(We,ye,P)=>{P.d(ye,{b:()=>se});var u=P(576),ee=P(4482),N=P(5403),he=P(4671);function se(ge,ae,ce){const fe=(0,u.m)(ge)||ae||ce?{next:ge,error:ae,complete:ce}:ge;return fe?(0,ee.e)((z,j)=>{var ie;null===(ie=fe.subscribe)||void 0===ie||ie.call(fe);let Be=!0;z.subscribe((0,N.x)(j,Ae=>{var xe;null===(xe=fe.next)||void 0===xe||xe.call(fe,Ae),j.next(Ae)},()=>{var Ae;Be=!1,null===(Ae=fe.complete)||void 0===Ae||Ae.call(fe),j.complete()},Ae=>{var xe;Be=!1,null===(xe=fe.error)||void 0===xe||xe.call(fe,Ae),j.error(Ae)},()=>{var Ae,xe;Be&&(null===(Ae=fe.unsubscribe)||void 0===Ae||Ae.call(fe)),null===(xe=fe.finalize)||void 0===xe||xe.call(fe)}))}):he.y}},4408:(We,ye,P)=>{P.d(ye,{o:()=>se});var u=P(727);class ee extends u.w0{constructor(ae,ce){super()}schedule(ae,ce=0){return this}}const N={setInterval(ge,ae,...ce){const{delegate:fe}=N;return(null==fe?void 0:fe.setInterval)?fe.setInterval(ge,ae,...ce):setInterval(ge,ae,...ce)},clearInterval(ge){const{delegate:ae}=N;return((null==ae?void 0:ae.clearInterval)||clearInterval)(ge)},delegate:void 0};var he=P(8737);class se extends ee{constructor(ae,ce){super(ae,ce),this.scheduler=ae,this.work=ce,this.pending=!1}schedule(ae,ce=0){if(this.closed)return this;this.state=ae;const fe=this.id,z=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(z,fe,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(z,this.id,ce),this}requestAsyncId(ae,ce,fe=0){return N.setInterval(ae.flush.bind(ae,this),fe)}recycleAsyncId(ae,ce,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return ce;N.clearInterval(ce)}execute(ae,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ae,ce);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ce){let z,fe=!1;try{this.work(ae)}catch(j){fe=!0,z=j||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ae,scheduler:ce}=this,{actions:fe}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(fe,this),null!=ae&&(this.id=this.recycleAsyncId(ce,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(We,ye,P)=>{P.d(ye,{v:()=>N});var u=P(6063);class ee{constructor(se,ge=ee.now){this.schedulerActionCtor=se,this.now=ge}schedule(se,ge=0,ae){return new this.schedulerActionCtor(this,se).schedule(ae,ge)}}ee.now=u.l.now;class N extends ee{constructor(se,ge=ee.now){super(se,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:ge}=this;if(this._active)return void ge.push(se);let ae;this._active=!0;do{if(ae=se.execute(se.state,se.delay))break}while(se=ge.shift());if(this._active=!1,ae){for(;se=ge.shift();)se.unsubscribe();throw ae}}}},4986:(We,ye,P)=>{P.d(ye,{P:()=>he,z:()=>N});var u=P(4408);const N=new(P(7565).v)(u.o),he=N},6063:(We,ye,P)=>{P.d(ye,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(We,ye,P)=>{P.d(ye,{z:()=>u});const u={setTimeout(ee,N,...he){const{delegate:se}=u;return(null==se?void 0:se.setTimeout)?se.setTimeout(ee,N,...he):setTimeout(ee,N,...he)},clearTimeout(ee){const{delegate:N}=u;return((null==N?void 0:N.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(We,ye,P)=>{P.d(ye,{h:()=>ee});const ee=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(We,ye,P)=>{P.d(ye,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(We,ye,P)=>{P.d(ye,{_6:()=>ge,jO:()=>he,yG:()=>se});var u=P(576),ee=P(3532);function N(ae){return ae[ae.length-1]}function he(ae){return(0,u.m)(N(ae))?ae.pop():void 0}function se(ae){return(0,ee.K)(N(ae))?ae.pop():void 0}function ge(ae,ce){return"number"==typeof N(ae)?ae.pop():ce}},8737:(We,ye,P)=>{function u(ee,N){if(ee){const he=ee.indexOf(N);0<=he&&ee.splice(he,1)}}P.d(ye,{P:()=>u})},3888:(We,ye,P)=>{function u(ee){const he=ee(se=>{Error.call(se),se.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}P.d(ye,{d:()=>u})},2806:(We,ye,P)=>{P.d(ye,{O:()=>he,x:()=>N});var u=P(2416);let ee=null;function N(se){if(u.v.useDeprecatedSynchronousErrorHandling){const ge=!ee;if(ge&&(ee={errorThrown:!1,error:null}),se(),ge){const{errorThrown:ae,error:ce}=ee;if(ee=null,ae)throw ce}}else se()}function he(se){u.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=se)}},9672:(We,ye,P)=>{function u(ee,N,he,se=0,ge=!1){const ae=N.schedule(function(){he(),ge?ee.add(this.schedule(null,se)):this.unsubscribe()},se);if(ee.add(ae),!ge)return ae}P.d(ye,{f:()=>u})},4671:(We,ye,P)=>{function u(ee){return ee}P.d(ye,{y:()=>u})},1144:(We,ye,P)=>{P.d(ye,{z:()=>u});const u=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(We,ye,P)=>{P.d(ye,{D:()=>ee});var u=P(576);function ee(N){return Symbol.asyncIterator&&(0,u.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(We,ye,P)=>{function u(ee){return"function"==typeof ee}P.d(ye,{m:()=>u})},3670:(We,ye,P)=>{P.d(ye,{c:()=>N});var u=P(8822),ee=P(576);function N(he){return(0,ee.m)(he[u.L])}},6495:(We,ye,P)=>{P.d(ye,{T:()=>N});var u=P(2202),ee=P(576);function N(he){return(0,ee.m)(null==he?void 0:he[u.h])}},8239:(We,ye,P)=>{P.d(ye,{t:()=>ee});var u=P(576);function ee(N){return(0,u.m)(null==N?void 0:N.then)}},3260:(We,ye,P)=>{P.d(ye,{L:()=>he,Q:()=>N});var u=P(655),ee=P(576);function N(se){return(0,u.FC)(this,arguments,function*(){const ae=se.getReader();try{for(;;){const{value:ce,done:fe}=yield(0,u.qq)(ae.read());if(fe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ce)}}finally{ae.releaseLock()}})}function he(se){return(0,ee.m)(null==se?void 0:se.getReader)}},3532:(We,ye,P)=>{P.d(ye,{K:()=>ee});var u=P(576);function ee(N){return N&&(0,u.m)(N.schedule)}},4482:(We,ye,P)=>{P.d(ye,{A:()=>ee,e:()=>N});var u=P(576);function ee(he){return(0,u.m)(null==he?void 0:he.lift)}function N(he){return se=>{if(ee(se))return se.lift(function(ge){try{return he(ge,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(We,ye,P)=>{function u(){}P.d(ye,{Z:()=>u})},7849:(We,ye,P)=>{P.d(ye,{h:()=>N});var u=P(2416),ee=P(3410);function N(he){ee.z.setTimeout(()=>{const{onUnhandledError:se}=u.v;if(!se)throw he;se(he)})}},4532:(We,ye,P)=>{function u(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ye,{z:()=>u})},655:(We,ye,P)=>{function he(K,oe){var re={};for(var _e in K)Object.prototype.hasOwnProperty.call(K,_e)&&oe.indexOf(_e)<0&&(re[_e]=K[_e]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(_e=Object.getOwnPropertySymbols(K);ue<_e.length;ue++)oe.indexOf(_e[ue])<0&&Object.prototype.propertyIsEnumerable.call(K,_e[ue])&&(re[_e[ue]]=K[_e[ue]])}return re}function ce(K,oe,re,_e){return new(re||(re=Promise))(function(ke,tt){function kt(Ut){try{ze(_e.next(Ut))}catch(ln){tt(ln)}}function Dt(Ut){try{ze(_e.throw(Ut))}catch(ln){tt(ln)}}function ze(Ut){Ut.done?ke(Ut.value):function ue(ke){return ke instanceof re?ke:new re(function(tt){tt(ke)})}(Ut.value).then(kt,Dt)}ze((_e=_e.apply(K,oe||[])).next())})}function me(K){return this instanceof me?(this.v=K,this):new me(K)}function Ee(K,oe,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,_e=re.apply(K,oe||[]),ke=[];return ue={},tt("next"),tt("throw"),tt("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function tt(jt){_e[jt]&&(ue[jt]=function(Vt){return new Promise(function(rr,Ft){ke.push([jt,Vt,rr,Ft])>1||kt(jt,Vt)})})}function kt(jt,Vt){try{!function Dt(jt){jt.value instanceof me?Promise.resolve(jt.value.v).then(ze,Ut):ln(ke[0][2],jt)}(_e[jt](Vt))}catch(rr){ln(ke[0][3],rr)}}function ze(jt){kt("next",jt)}function Ut(jt){kt("throw",jt)}function ln(jt,Vt){jt(Vt),ke.shift(),ke.length&&kt(ke[0][0],ke[0][1])}}function Ge(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,oe=K[Symbol.asyncIterator];return oe?oe.call(K):(K=function ie(K){var oe="function"==typeof Symbol&&Symbol.iterator,re=oe&&K[oe],_e=0;if(re)return re.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&_e>=K.length&&(K=void 0),{value:K&&K[_e++],done:!K}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),re={},_e("next"),_e("throw"),_e("return"),re[Symbol.asyncIterator]=function(){return this},re);function _e(ke){re[ke]=K[ke]&&function(tt){return new Promise(function(kt,Dt){!function ue(ke,tt,kt,Dt){Promise.resolve(Dt).then(function(ze){ke({value:ze,done:kt})},tt)}(kt,Dt,(tt=K[ke](tt)).done,tt.value)})}}}P.d(ye,{FC:()=>Ee,KL:()=>Ge,_T:()=>he,mG:()=>ce,qq:()=>me})},5e3:(We,ye,P)=>{P.d(ye,{$8M:()=>Bs,$Z:()=>ph,AFp:()=>wb,AaK:()=>ce,BQk:()=>gh,CHM:()=>Rs,CRH:()=>Nh,CZH:()=>fr,CqO:()=>pl,EJc:()=>Tb,EpF:()=>Vm,F$t:()=>fv,F4k:()=>Ws,FYo:()=>rb,FiY:()=>Vi,G48:()=>oD,Gf:()=>PE,GfV:()=>fE,GkF:()=>Oo,Gpc:()=>j,Hsn:()=>pv,Ikx:()=>Ju,JOm:()=>k,LFG:()=>Ke,LSH:()=>sa,Lbi:()=>Mc,MAs:()=>Jy,NdJ:()=>mc,OlP:()=>an,Oqu:()=>Km,PXZ:()=>qg,Q6J:()=>Wu,QGY:()=>lp,Qsj:()=>yg,R0b:()=>Qs,RDi:()=>kl,Rgc:()=>xh,SBq:()=>Ih,Sil:()=>Ib,Suo:()=>NE,TTD:()=>ci,TgZ:()=>Zu,Udp:()=>Ch,VLi:()=>Rb,X6Q:()=>sD,XFs:()=>lt,Xpm:()=>nt,Y36:()=>pc,YKP:()=>vE,YNc:()=>Qy,Yjl:()=>Ho,Yz7:()=>Vt,ZZ4:()=>Ir,_Bn:()=>_g,_UZ:()=>mh,_Vd:()=>_l,_c5:()=>Oc,_uU:()=>Mv,aQg:()=>wi,c2e:()=>Lg,cJS:()=>Ft,cg1:()=>ag,dDg:()=>$g,deG:()=>Nd,dqk:()=>Mt,eFA:()=>Ob,ekj:()=>Qu,f3M:()=>Lt,g9A:()=>Ks,h0i:()=>Ah,hGG:()=>i_,hij:()=>fp,iGM:()=>Ph,ifc:()=>Ot,ip1:()=>Zs,kL8:()=>Hv,lG2:()=>Ma,n5z:()=>Cn,oAB:()=>sr,oxw:()=>hv,q4F:()=>sb,qLn:()=>Ou,qOj:()=>Mm,qZA:()=>ko,sBO:()=>aD,sIi:()=>Xr,s_b:()=>Tc,soG:()=>Gn,tBr:()=>Fr,tb:()=>Eb,tp0:()=>Kr,uIk:()=>xt,vHH:()=>xe,vpe:()=>ba,wAp:()=>ut,xp6:()=>dl,ynx:()=>ya,z2F:()=>Kg,zSh:()=>Xf,zs3:()=>pa});var u=P(7579),ee=P(727),N=P(8306),he=P(6451),se=P(3099);function ge(i){for(let s in i)if(i[s]===ge)return s;throw Error("Could not find renamed property on target object.")}function ae(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ce(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ce).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function fe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const z=ge({__forward_ref__:ge});function j(i){return i.__forward_ref__=j,i.toString=function(){return ce(this())},i}function ie(i){return Be(i)?i():i}function Be(i){return"function"==typeof i&&i.hasOwnProperty(z)&&i.__forward_ref__===j}class xe extends Error{constructor(s,a){super(function Ne(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function me(i){return"string"==typeof i?i:null==i?"":String(i)}function Ee(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():me(i)}function Ce(i,s){const a=s?` in ${s}`:"";throw new xe(-201,`No provider for ${Ee(i)} found${a}`)}function Dt(i,s){null==i&&function ze(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Vt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ft(i){return{providers:i.providers||[],imports:i.imports||[]}}function Tt(i){return ri(i,ii)||ri(i,pr)}function ri(i,s){return i.hasOwnProperty(s)?i[s]:null}function ir(i){return i&&(i.hasOwnProperty(Zi)||i.hasOwnProperty(jr))?i[Zi]:null}const ii=ge({\u0275prov:ge}),Zi=ge({\u0275inj:ge}),pr=ge({ngInjectableDef:ge}),jr=ge({ngInjectorDef:ge});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Mr;function cn(i){const s=Mr;return Mr=i,s}function Yi(i,s,a){const c=Tt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==s?s:void Ce(ce(i),"Injector")}function xn(i){return{toString:i}.toString()}var un=(()=>((un=un||{})[un.OnPush=0]="OnPush",un[un.Default=1]="Default",un))(),Ot=(()=>{return(i=Ot||(Ot={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ot;var i})();const Je="undefined"!=typeof globalThis&&globalThis,dt="undefined"!=typeof window&&window,qn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mt=Je||"undefined"!=typeof global&&global||dt||qn,Yn={},U=[],W=ge({\u0275cmp:ge}),q=ge({\u0275dir:ge}),De=ge({\u0275pipe:ge}),G=ge({\u0275mod:ge}),te=ge({\u0275fac:ge}),Me=ge({__NG_ELEMENT_ID__:ge});let qe=0;function nt(i){return xn(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||U,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ot.Emulated,id:"c",styles:i.styles||U,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,p=i.features,y=i.pipes;return c.id+=qe++,c.inputs=Uo(i.inputs,a),c.outputs=Uo(i.outputs),p&&p.forEach(C=>C(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Kt):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(ft):null,c})}function Kt(i){return In(i)||function or(i){return i[q]||null}(i)}function ft(i){return function Di(i){return i[De]||null}(i)}const Tn={};function sr(i){return xn(()=>{const s={type:i.type,bootstrap:i.bootstrap||U,declarations:i.declarations||U,imports:i.imports||U,exports:i.exports||U,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Tn[i.id]=i.type),s})}function Uo(i,s){if(null==i)return Yn;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,s&&(s[d]=p)}return a}const Ma=nt;function Ho(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function In(i){return i[W]||null}function Sn(i,s){const a=i[G]||null;if(!a&&!0===s)throw new Error(`Type ${ce(i)} does not have '\u0275mod' property.`);return a}function ar(i){return Array.isArray(i)&&"object"==typeof i[1]}function zr(i){return Array.isArray(i)&&!0===i[1]}function ka(i){return 0!=(8&i.flags)}function jc(i){return 2==(2&i.flags)}function ai(i){return 1==(1&i.flags)}function li(i){return null!==i.template}function Sl(i){return 0!=(512&i[2])}function Qn(i,s){return i.hasOwnProperty(te)?i[te]:null}class Is{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ci(){return ro}function ro(i){return i.type.prototype.ngOnChanges&&(i.setInput=xd),Kc}function Kc(){const i=Ss(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Yn)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function xd(i,s,a,c){const d=Ss(i)||function io(i,s){return i[Ml]=s}(i,{previous:Yn,current:null}),p=d.current||(d.current={}),y=d.previous,C=this.declaredInputs[a],w=y[C];p[C]=new Is(w&&w.currentValue,s,y===Yn),i[c]=s}ci.ngInherit=!0;const Ml="__ngSimpleChanges__";function Ss(i){return i[Ml]||null}let so;function kl(i){so=i}function Zt(i){return!!i.listen}const qo={createRenderer:(i,s)=>function ui(){return void 0!==so?so:"undefined"!=typeof document?document:void 0}()};function Bt(i){for(;Array.isArray(i);)i=i[0];return i}function ns(i,s){return Bt(s[i])}function Bn(i,s){return Bt(s[i.index])}function rn(i,s){return i.data[s]}function Un(i,s){const a=s[i];return ar(a)?a:a[0]}function Ms(i){return 4==(4&i[2])}function Ii(i){return 128==(128&i[2])}function Gr(i,s){return null==s?null:i[s]}function hi(i){i[18]=0}function oo(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const ct={lFrame:co(null),bindingsEnabled:!0};function Fa(){return ct.bindingsEnabled}function Ie(){return ct.lFrame.lView}function It(){return ct.lFrame.tView}function Rs(i){return ct.lFrame.contextLView=i,i[8]}function Xt(){let i=La();for(;null!==i&&64===i.type;)i=i.parent;return i}function La(){return ct.lFrame.currentTNode}function Or(i,s){const a=ct.lFrame;a.currentTNode=i,a.isParent=s}function Ll(){return ct.lFrame.isParent}function Vl(){ct.lFrame.isParent=!1}function is(){return ct.lFrame.bindingIndex++}function Ua(i,s){const a=ct.lFrame;a.bindingIndex=a.bindingRootIndex=i,lo(s)}function lo(i){ct.lFrame.currentDirectiveIndex=i}function ja(){return ct.lFrame.currentQueryIndex}function eu(i){ct.lFrame.currentQueryIndex=i}function tu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function $a(i,s,a){if(a&lt.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=tu(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const c=ct.lFrame=nu();return c.currentTNode=s,c.lView=i,!0}function ks(i){const s=nu(),a=i[1];ct.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function nu(){const i=ct.lFrame,s=null===i?null:i.child;return null===s?co(i):s}function co(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ru(){const i=ct.lFrame;return ct.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const za=ru;function vr(){const i=ru();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function kn(){return ct.lFrame.selectedIndex}function Os(i){ct.lFrame.selectedIndex=i}function vn(){const i=ct.lFrame;return rn(i.tView,i.selectedIndex)}function Qo(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:w,ngAfterViewChecked:I,ngOnDestroy:M}=p;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),C&&((i.contentHooks||(i.contentHooks=[])).push(a,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,C)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Ai(i,s,a){su(i,s,3,a)}function Ps(i,s,a,c){(3&i[2])===a&&su(i,s,a,c)}function An(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function su(i,s,a,c){const p=null!=c?c:-1,y=s.length-1;let C=0;for(let w=void 0!==c?65535&i[18]:0;w<y;w++)if("number"==typeof s[w+1]){if(C=s[w],null!=c&&C>=c)break}else s[w]<0&&(i[18]+=65536),(C<p||-1==p)&&(gf(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function gf(i,s,a,c){const d=a[c]<0,p=a[c+1],C=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class uo{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function zt(i,s,a){const c=Zt(i);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const y=a[d++],C=a[d++],w=a[d++];c?i.setAttribute(s,C,w,y):s.setAttributeNS(y,C,w)}else{const y=p,C=a[++d];en(y)?c&&i.setProperty(s,y,C):c?i.setAttribute(s,y,C):s.setAttribute(y,C),d++}}return d}function Hn(i){return 3===i||4===i||6===i}function en(i){return 64===i.charCodeAt(0)}function Jo(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||ou(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function ou(i,s,a,c,d){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const C=i[p++];if("number"==typeof C){if(C===s){y=-1;break}if(C>s){y=p-1;break}}}for(;p<i.length;){const C=i[p];if("number"==typeof C)break;if(C===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function fo(i){return-1!==i}function ss(i){return 32767&i}function os(i,s){let a=function hn(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let qr=!0;function yt(i){const s=qr;return qr=i,s}let $l=0;function as(i,s){const a=Fs(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,Ri(c.data,i),Ri(s,null),Ri(c.blueprint,null));const d=jn(i,s),p=i.injectorIndex;if(fo(d)){const y=ss(d),C=os(d,s),w=C[1].data;for(let I=0;I<8;I++)s[p+I]=C[y+I]|w[y+I]}return s[p+8]=d,p}function Ri(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Fs(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function jn(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const p=d[1],y=p.type;if(c=2===y?p.declTNode:1===y?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function $n(i,s,a){!function sn(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Me)&&(c=a[Me]),null==c&&(c=a[Me]=$l++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function po(i,s,a){if(a&lt.Optional)return i;Ce(s,"NodeInjector")}function ls(i,s,a,c){if(a&lt.Optional&&void 0===c&&(c=null),0==(a&(lt.Self|lt.Host))){const d=i[9],p=cn(void 0);try{return d?d.get(s,c,a&lt.Optional):Yi(s,c,a&lt.Optional)}finally{cn(p)}}return po(c,s,a)}function mo(i,s,a,c=lt.Default,d){if(null!==i){const p=function us(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Me)?i[Me]:void 0;return"number"==typeof s?s>=0?255&s:go:s}(a);if("function"==typeof p){if(!$a(s,i,c))return c&lt.Host?po(d,a,c):ls(s,a,c,d);try{const y=p(c);if(null!=y||c&lt.Optional)return y;Ce(a)}finally{za()}}else if("number"==typeof p){let y=null,C=Fs(i,s),w=-1,I=c&lt.Host?s[16][6]:null;for((-1===C||c&lt.SkipSelf)&&(w=-1===C?jn(i,s):s[C+8],-1!==w&&zl(c,!1)?(y=s[1],C=ss(w),s=os(w,s)):C=-1);-1!==C;){const M=s[1];if(fn(p,C,M.data)){const F=Vs(C,s,a,y,c,I);if(F!==cs)return F}w=s[C+8],-1!==w&&zl(c,s[1].data[C+8]===I)&&fn(p,C,s)?(y=M,C=ss(w),s=os(w,s)):C=-1}}}return ls(s,a,c,d)}const cs={};function go(){return new ds(Xt(),Ie())}function Vs(i,s,a,c,d,p){const y=s[1],C=y.data[i+8],M=Xo(C,y,a,null==c?jc(C)&&qr:c!=y&&0!=(3&C.type),d&lt.Host&&p===C);return null!==M?fi(s,y,M,C):cs}function Xo(i,s,a,c,d){const p=i.providerIndexes,y=s.data,C=1048575&p,w=i.directiveStart,M=p>>20,H=d?C+M:i.directiveEnd;for(let X=c?C:C+M;X<H;X++){const ve=y[X];if(X<w&&a===ve||X>=w&&ve.type===a)return X}if(d){const X=y[w];if(X&&li(X)&&X.type===a)return w}return null}function fi(i,s,a,c){let d=i[a];const p=s.data;if(function Ga(i){return i instanceof uo}(d)){const y=d;y.resolving&&function Ue(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new xe(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ee(p[a]));const C=yt(y.canSeeViewProviders);y.resolving=!0;const w=y.injectImpl?cn(y.injectImpl):null;$a(i,c,lt.Default);try{d=i[a]=y.factory(void 0,p,i,c),s.firstCreatePass&&a>=c.directiveStart&&function nm(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const y=ro(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==w&&cn(w),yt(C),y.resolving=!1,za()}}return d}function fn(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function zl(i,s){return!(i&lt.Self||i&lt.Host&&s)}class ds{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return mo(this._tNode,this._lView,s,c,a)}}function Cn(i){return xn(()=>{const s=i.prototype.constructor,a=s[te]||pi(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[te]||pi(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function pi(i){return Be(i)?()=>{const s=pi(ie(i));return s&&s()}:Qn(i)}function Bs(i){return function Ls(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(Hn(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(Xt(),i)}const ki="__parameters__";function mi(i,s,a){return xn(()=>{const c=function wn(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const y=new d(...p);return C.annotation=y,C;function C(w,I,M){const F=w.hasOwnProperty(ki)?w[ki]:Object.defineProperty(w,ki,{value:[]})[ki];for(;F.length<=M;)F.push(null);return(F[M]=F[M]||[]).push(y),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class an{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Vt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Nd=new an("AnalyzeForEntryComponents");function cr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),cr(c,s)):s!==i&&s.push(c)}return s}function ur(i,s){i.forEach(a=>Array.isArray(a)?ur(a,s):s(a))}function ta(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function yo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Pi(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}function tr(i,s,a){let c=Co(i,s);return c>=0?i[1|c]=a:(c=~c,function vo(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function na(i,s){const a=Co(i,s);if(a>=0)return i[1|a]}function Co(i,s){return function Fi(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const p=c+(d-c>>1),y=i[p<<a];if(s===y)return p<<a;y>s?d=p:c=p+1}return~(d<<a)}(i,s,1)}const ps={},wo="__NG_DI_FLAG__",ra="ngTempTokenPath",T=/\n/gm,V="__source",Q=ge({provide:String,useValue:ge});let ne;function de(i){const s=ne;return ne=i,s}function $e(i,s=lt.Default){if(void 0===ne)throw new xe(203,"");return null===ne?Yi(i,void 0,s):ne.get(i,s&lt.Optional?null:void 0,s)}function Ke(i,s=lt.Default){return(function on(){return Mr}()||$e)(ie(i),s)}const Lt=Ke;function st(i){const s=[];for(let a=0;a<i.length;a++){const c=ie(i[a]);if(Array.isArray(c)){if(0===c.length)throw new xe(900,"");let d,p=lt.Default;for(let y=0;y<c.length;y++){const C=c[y],w=Cr(C);"number"==typeof w?-1===w?d=C.token:p|=w:d=C}s.push(Ke(d,p))}else s.push(Ke(c))}return s}function pn(i,s){return i[wo]=s,i.prototype[wo]=s,i}function Cr(i){return i[wo]}const Fr=pn(mi("Inject",i=>({token:i})),-1),Vi=pn(mi("Optional"),8),Kr=pn(mi("SkipSelf"),4);class Cu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Jr(i){return i instanceof Cu?i.changingThisBreaksApplicationSecurity:i}const lm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ia=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function sa(i){const s=function sl(){const i=Ie();return i&&i[12]}();return s?s.sanitize(Dn.URL,i)||"":function js(i,s){const a=function Ql(i){return i instanceof Cu&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Jr(i):function Jl(i){return(i=String(i)).match(lm)||i.match(ia)?i:"unsafe:"+i}(me(i))}const Ru="__ngContext__";function zn(i,s){i[Ru]=s}function Yd(i){const s=function ol(i){return i[Ru]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function ku(i){return i.ngOriginalError}function vm(i,...s){i.error(...s)}class Ou{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=function ym(i){return i&&i.ngErrorLogger||vm}(s);c(this._console,"ERROR",s),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&ku(s);for(;a&&ku(a);)a=ku(a);return a||null}}const eh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Mt))();function _(i){return i instanceof Function?i():i}var k=(()=>((k=k||{})[k.Important=1]="Important",k[k.DashCase=2]="DashCase",k))();function pe(i,s){return undefined(i,s)}function it(i){const s=i[3];return zr(s)?s[3]:s}function Vr(i){return th(i[13])}function al(i){return th(i[4])}function th(i){for(;null!==i&&!zr(i);)i=i[4];return i}function la(i,s,a,c,d){if(null!=c){let p,y=!1;zr(c)?p=c:ar(c)&&(y=!0,c=c[0]);const C=Bt(c);0===i&&null!==a?null==d?z_(s,a,C):ul(s,a,C,d||null,!0):1===i&&null!==a?ul(s,a,C,d||null,!0):2===i?function Q_(i,s,a){const c=$f(i,s);c&&function W_(i,s,a,c){Zt(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,C,y):3===i&&s.destroyNode(C),null!=p&&function ey(i,s,a,c,d){const p=a[7];p!==Bt(a)&&la(s,i,c,p,d);for(let C=10;C<a.length;C++){const w=a[C];sh(w[1],w,i,s,c,p)}}(s,i,p,a,d)}}function dr(i,s,a){if(Zt(i))return i.createElement(s,a);{const c=null!==a?function xl(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?i.createElement(s):i.createElementNS(c,s)}}function H_(i,s){const a=i[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,oo(d,-1)),a.splice(c,1)}function Hf(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&H_(d,c),s>0&&(i[a-1][4]=c[4]);const p=yo(i,10+s);!function nh(i,s){sh(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function j_(i,s){if(!(256&s[2])){const a=s[11];Zt(a)&&a.destroyNode&&sh(i,s,a,3,null,null),function ca(i){let s=i[13];if(!s)return jf(i[1],i);for(;s;){let a=null;if(ar(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)ar(s)&&jf(s[1],s),s=s[3];null===s&&(s=i),ar(s)&&jf(s[1],s),a=s&&s[4]}s=a}}(s)}}function jf(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function wm(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof uo)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const C=d[p[y]],w=p[y+1];try{w.call(C)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function $_(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],C="function"==typeof y?y(s):Bt(s[y]),w=c[d=a[p+2]],I=a[p+3];"boolean"==typeof I?C.removeEventListener(a[p],w,I):I>=0?c[d=I]():c[d=-I].unsubscribe(),p+=2}else{const y=c[d=a[p+1]];a[p].call(y)}if(null!==c){for(let p=d+1;p<c.length;p++)c[p]();s[7]=null}}(i,s),1===s[1].type&&Zt(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&zr(s[3])){a!==s[3]&&H_(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function VC(i,s,a){return function cl(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===Ot.None||d===Ot.Emulated)return null}return Bn(c,a)}(i,s.parent,a)}function ul(i,s,a,c,d){Zt(i)?i.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function z_(i,s,a){Zt(i)?i.appendChild(s,a):s.appendChild(a)}function G_(i,s,a,c,d){null!==c?ul(i,s,a,c,d):z_(i,s,a)}function $f(i,s){return Zt(i)?i.parentNode(s):s.parentNode}function q_(i,s,a){return Z_(i,s,a)}let Z_=function Em(i,s,a){return 40&i.type?Bn(i,a):null};function Nu(i,s,a,c){const d=VC(i,c,s),p=s[11],C=q_(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)G_(p,d,a[w],C,!1);else G_(p,d,a,C,!1)}function zf(i,s){if(null!==s){const a=s.type;if(3&a)return Bn(s,i);if(4&a)return Gf(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return zf(i,c);{const d=i[s.index];return zr(d)?Gf(-1,d):Bt(d)}}if(32&a)return pe(s,i)()||Bt(i[s.index]);{const c=K_(i,s);return null!==c?Array.isArray(c)?c[0]:zf(it(i[16]),c):zf(i,s.next)}}return null}function K_(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Gf(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return zf(c,d)}return s[7]}function J_(i,s,a,c,d,p,y){for(;null!=a;){const C=c[a.index],w=a.type;if(y&&0===s&&(C&&zn(Bt(C),c),a.flags|=4),64!=(64&a.flags))if(8&w)J_(i,s,a.child,c,d,p,!1),la(s,i,d,C,p);else if(32&w){const I=pe(a,c);let M;for(;M=I();)la(s,i,d,M,p);la(s,i,d,C,p)}else 16&w?X_(i,s,c,a,d,p):la(s,i,d,C,p);a=y?a.projectionNext:a.next}}function sh(i,s,a,c,d,p){J_(a,c,i.firstChild,s,d,p,!1)}function X_(i,s,a,c,d,p){const y=a[16],w=y[6].projection[c.projection];if(Array.isArray(w))for(let I=0;I<w.length;I++)la(s,i,d,w[I],p);else J_(i,s,w,y[3],d,p,!0)}function UC(i,s,a){Zt(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function So(i,s,a){Zt(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function HC(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}const ty="ng-template";function jC(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==HC(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function ny(i){return 4===i.type&&i.value!==ty}function ry(i,s,a){return s===(4!==i.type||a?i.value:ty)}function aI(i,s,a){let c=4;const d=i.attrs||[],p=function lI(i){for(let s=0;s<i.length;s++)if(Hn(i[s]))return s;return i.length}(d);let y=!1;for(let C=0;C<s.length;C++){const w=s[C];if("number"!=typeof w){if(!y)if(4&c){if(c=2|1&c,""!==w&&!ry(i,w,a)||""===w&&1===s.length){if(vi(c))return!1;y=!0}}else{const I=8&c?w:s[++C];if(8&c&&null!==i.attrs){if(!jC(i.attrs,I,a)){if(vi(c))return!1;y=!0}continue}const F=iy(8&c?"class":w,d,ny(i),a);if(-1===F){if(vi(c))return!1;y=!0;continue}if(""!==I){let H;H=F>p?"":d[F+1].toLowerCase();const X=8&c?H:null;if(X&&-1!==HC(X,I,0)||2&c&&I!==H){if(vi(c))return!1;y=!0}}}}else{if(!y&&!vi(c)&&!vi(w))return!1;if(y&&vi(w))continue;y=!1,c=w|1&c}}return vi(c)||y}function vi(i){return 0==(1&i)}function iy(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let p=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let C=s[++d];for(;"string"==typeof C;)C=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function Fu(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function Wf(i,s,a=!1){for(let c=0;c<s.length;c++)if(aI(i,s[c],a))return!0;return!1}function sy(i,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function Tm(i,s){return i?":not("+s.trim()+")":s}function oh(i){let s=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const C=i[++a];d+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!vi(y)&&(s+=Tm(p,d),d=""),c=y,p=p||!vi(c);a++}return""!==d&&(s+=Tm(p,d)),s}const gt={};function dl(i){zC(It(),Ie(),kn()+i,!1)}function zC(i,s,a,c){if(!c)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Ai(s,p,a)}else{const p=i.preOrderHooks;null!==p&&Ps(s,p,0,a)}Os(a)}function Lu(i,s){return i<<17|s<<2}function zs(i){return i>>17&32767}function lc(i){return 2|i}function da(i){return(131068&i)>>2}function ay(i,s){return-131069&i|s<<2}function ly(i){return 1|i}function e0(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],p=a[c+1];if(-1!==p){const y=i.data[p];eu(d),y.contentQueries(2,s[p],p)}}}function Kf(i,s,a,c,d,p,y,C,w,I){const M=s.blueprint.slice();return M[0]=d,M[2]=140|c,hi(M),M[3]=M[15]=i,M[8]=a,M[10]=y||i&&i[10],M[11]=C||i&&i[11],M[12]=w||i&&i[12]||null,M[9]=I||i&&i[9]||null,M[6]=p,M[16]=2==s.type?i[16]:M,M}function ah(i,s,a,c,d){let p=i.data[s];if(null===p)p=function _y(i,s,a,c,d){const p=La(),y=Ll(),w=i.data[s]=function TI(i,s,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=w),null!==p&&(y?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}(i,s,a,c,d),function Ul(){return ct.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const y=function xs(){const i=ct.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Or(p,!0),p}function lh(i,s,a,c){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Qf(i,s,a){ks(s);try{const c=i.viewQuery;null!==c&&Sy(1,c,a);const d=i.template;null!==d&&t0(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&e0(i,s),i.staticViewQueries&&Sy(2,i.viewQuery,a);const p=i.components;null!==p&&function wI(i,s){for(let a=0;a<s.length;a++)$I(i,s[a])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,vr()}}function ch(i,s,a,c){const d=s[2];if(256!=(256&d)){ks(s);try{hi(s),function Va(i){return ct.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&t0(i,s,a,2,c);const y=3==(3&d);if(y){const I=i.preOrderCheckHooks;null!==I&&Ai(s,I,null)}else{const I=i.preOrderHooks;null!==I&&Ps(s,I,0,null),An(s,0)}if(function HI(i){for(let s=Vr(i);null!==s;s=al(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],p=d[3];0==(1024&d[2])&&oo(p,1),d[2]|=1024}}}(s),function UI(i){for(let s=Vr(i);null!==s;s=al(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];Ii(c)&&ch(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&e0(i,s),y){const I=i.contentCheckHooks;null!==I&&Ai(s,I)}else{const I=i.contentHooks;null!==I&&Ps(s,I,1),An(s,1)}!function bI(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Os(~d);else{const p=d,y=a[++c],C=a[++c];Ua(y,p),C(2,s[p])}}}finally{Os(-1)}}(i,s);const C=i.components;null!==C&&function CI(i,s){for(let a=0;a<s.length;a++)jI(i,s[a])}(s,C);const w=i.viewQuery;if(null!==w&&Sy(2,w,c),y){const I=i.viewCheckHooks;null!==I&&Ai(s,I)}else{const I=i.viewHooks;null!==I&&Ps(s,I,2),An(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-73,1024&s[2]&&(s[2]&=-1025,oo(s[3],-1))}finally{vr()}}}function EI(i,s,a,c){const d=s[10],y=Ms(s);try{!y&&d.begin&&d.begin(),y&&Qf(i,s,c),ch(i,s,a,c)}finally{!y&&d.end&&d.end()}}function t0(i,s,a,c,d){const p=kn(),y=2&c;try{Os(-1),y&&s.length>20&&zC(i,s,20,!1),a(c,d)}finally{Os(p)}}function n0(i,s,a){if(ka(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function yy(i,s,a){!Fa()||(function kI(i,s,a,c){const d=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||as(a,s),zn(c,s);const y=a.initialInputs;for(let C=d;C<p;C++){const w=i.data[C],I=li(w);I&&LI(s,a,w);const M=fi(s,i,C,a);zn(M,s),null!==y&&VI(0,C-d,M,w,0,y),I&&(Un(a.index,s)[8]=M)}}(i,s,a,Bn(a,s)),128==(128&a.flags)&&function OI(i,s,a){const c=a.directiveStart,d=a.directiveEnd,y=a.index,C=function Hl(){return ct.lFrame.currentDirectiveIndex}();try{Os(y);for(let w=c;w<d;w++){const I=i.data[w],M=s[w];lo(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&u0(I,M)}}finally{Os(-1),lo(C)}}(i,s,a))}function vy(i,s,a=Bn){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],C=-1===y?a(s,i):i[y];i[d++]=C}}}function r0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Im(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Im(i,s,a,c,d,p,y,C,w,I){const M=20+c,F=M+d,H=function DI(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:gt);return a}(M,F),X="function"==typeof I?I():I;return H[1]={type:i,blueprint:H,template:a,queries:null,viewQuery:C,declTNode:s,data:H.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:w,consts:X,incompleteFirstPass:!1}}function o0(i,s,a,c){const d=g0(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&_0(i).push(c,d.length-1))}function a0(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function gs(i,s,a,c,d,p,y,C){const w=Bn(s,a);let M,I=s.inputs;!C&&null!=I&&(M=I[c])?(My(i,a,M,c,d),jc(s)&&function AI(i,s){const a=Un(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function SI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,s.value||"",c):d,Zt(p)?p.setProperty(w,c,d):en(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function Cy(i,s,a,c){let d=!1;if(Fa()){const p=function PI(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];Wf(a,y.selectors,!1)&&(d||(d=[]),$n(as(a,s),i,y.type),li(y)?(d0(i,a),d.unshift(y)):d.push(y))}return d}(i,s,a),y=null===c?null:{"":-1};if(null!==p){d=!0,h0(a,i.data.length,p.length);for(let M=0;M<p.length;M++){const F=p[M];F.providersResolver&&F.providersResolver(F)}let C=!1,w=!1,I=lh(i,s,p.length,null);for(let M=0;M<p.length;M++){const F=p[M];a.mergedAttrs=Jo(a.mergedAttrs,F.hostAttrs),f0(i,a,s,I,F),FI(I,F,y),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const H=F.type.prototype;!C&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),C=!0),!w&&(H.ngOnChanges||H.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),I++}!function II(i,s){const c=s.directiveEnd,d=i.data,p=s.attrs,y=[];let C=null,w=null;for(let I=s.directiveStart;I<c;I++){const M=d[I],F=M.inputs,H=null===p||ny(s)?null:BI(F,p);y.push(H),C=a0(F,I,C),w=a0(M.outputs,I,w)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=C,s.outputs=w}(i,a)}y&&function NI(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new xe(-301,!1);c.push(s[d],p)}}}(a,c,y)}return a.mergedAttrs=Jo(a.mergedAttrs,a.attrs),d}function c0(i,s,a,c,d,p){const y=p.hostBindings;if(y){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const w=~s.index;(function xI(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=w&&C.push(w),C.push(c,d,y)}}function u0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function d0(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function FI(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;li(s)&&(a[""]=i)}}function h0(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function f0(i,s,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=Qn(d.type)),y=new uo(p,li(d),null);i.blueprint[c]=y,a[c]=y,c0(i,s,0,c,lh(i,a,d.hostVars,gt),d)}function LI(i,s,a){const c=Bn(s,i),d=r0(a),p=i[10],y=Sm(i,Kf(i,d,null,a.onPush?64:16,c,s,p,p.createRenderer(c,a),null,null));i[s.index]=y}function ha(i,s,a,c,d,p){const y=Bn(i,s);!function wy(i,s,a,c,d,p,y){if(null==p)Zt(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const C=null==y?me(p):y(p,c||"",d);Zt(i)?i.setAttribute(s,d,C,a):a?s.setAttributeNS(a,d,C):s.setAttribute(d,C)}}(s[11],y,p,i.value,a,c,d)}function VI(i,s,a,c,d,p){const y=p[s];if(null!==y){const C=c.setInput;for(let w=0;w<y.length;){const I=y[w++],M=y[w++],F=y[w++];null!==C?c.setInput(a,F,I,M):a[M]=F}}}function BI(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function p0(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function jI(i,s){const a=Un(s,i);if(Ii(a)){const c=a[1];80&a[2]?ch(c,a,c.template,a[8]):a[5]>0&&Ey(a)}}function Ey(i){for(let c=Vr(i);null!==c;c=al(c))for(let d=10;d<c.length;d++){const p=c[d];if(1024&p[2]){const y=p[1];ch(y,p,y.template,p[8])}else p[5]>0&&Ey(p)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=Un(a[c],i);Ii(d)&&d[5]>0&&Ey(d)}}function $I(i,s){const a=Un(s,i),c=a[1];(function zI(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Qf(c,a,a[8])}function Sm(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Dy(i){for(;i;){i[2]|=64;const s=it(i);if(Sl(i)&&!s)return i;i=s}return null}function m0(i){!function Ty(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=Yd(a),d=c[1];EI(d,c,d.template,a)}}(i[8])}function Sy(i,s,a){eu(0),s(i,a)}const WI=(()=>Promise.resolve(null))();function g0(i){return i[7]||(i[7]=[])}function _0(i){return i.cleanup||(i.cleanup=[])}function y0(i,s){const a=i[9],c=a?a.get(Ou,null):null;c&&c.handleError(s)}function My(i,s,a,c,d){for(let p=0;p<a.length;){const y=a[p++],C=a[p++],w=s[y],I=i.data[y];null!==I.setInput?I.setInput(w,d,c,C):w[C]=d}}function Ao(i,s,a){const c=ns(s,i);!function Pu(i,s,a){Zt(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function Jf(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const C=s[y];"number"==typeof C?p=C:1==p?d=fe(d,C):2==p&&(c=fe(c,C+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}const xy=new an("INJECTOR",-1);class b0{get(s,a=ps){if(a===ps){const c=new Error(`NullInjectorError: No provider for ${ce(s)}!`);throw c.name="NullInjectorError",c}return a}}const Xf=new an("Set Injector scope."),ep={},C0={};let ky;function Oy(){return void 0===ky&&(ky=new b0),ky}function w0(i,s=null,a=null,c){const d=E0(i,s,a,c);return d._resolveInjectorDefTypes(),d}function E0(i,s=null,a=null,c){return new qI(i,a,s||Oy(),c)}class qI{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&ur(a,C=>this.processProvider(C,s,a)),ur([s],C=>this.processInjectorType(C,[],p)),this.records.set(xy,uh(void 0,this));const y=this.records.get(Xf);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof s?null:ce(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ps,c=lt.Default){this.assertNotDestroyed();const d=de(this),p=cn(void 0);try{if(!(c&lt.SkipSelf)){let C=this.records.get(s);if(void 0===C){const w=function Ny(i){return"function"==typeof i||"object"==typeof i&&i instanceof an}(s)&&Tt(s);C=w&&this.injectableDefInScope(w)?uh(Py(s),ep):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(c&lt.Self?Oy():this.parent).get(s,a=c&lt.Optional&&a===ps?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[ra]=y[ra]||[]).unshift(ce(s)),d)throw y;return function Li(i,s,a,c){const d=i[ra];throw s[V]&&d.unshift(s[V]),i.message=function Nr(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=ce(s);if(Array.isArray(s))d=s.map(ce).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let C=s[y];p.push(y+":"+("string"==typeof C?JSON.stringify(C):ce(C)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(T,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[ra]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{cn(p),de(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(ce(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processInjectorType(s,a,c){if(!(s=ie(s)))return!1;let d=ir(s);const p=null==d&&s.ngModule||void 0,y=void 0===p?s:p,C=-1!==c.indexOf(y);if(void 0!==p&&(d=ir(p)),null==d)return!1;if(null!=d.imports&&!C){let M;c.push(y);try{ur(d.imports,F=>{this.processInjectorType(F,a,c)&&(void 0===M&&(M=[]),M.push(F))})}finally{}if(void 0!==M)for(let F=0;F<M.length;F++){const{ngModule:H,providers:X}=M[F];ur(X,ve=>this.processProvider(ve,H,X||U))}}this.injectorDefTypes.add(y);const w=Qn(y)||(()=>new y);this.records.set(y,uh(w,ep));const I=d.providers;if(null!=I&&!C){const M=s;ur(I,F=>this.processProvider(F,M,I))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,c){let d=Vu(s=ie(s))?s:ie(s&&s.provide);const p=function YI(i,s,a){return T0(i)?uh(void 0,i.useValue):uh(D0(i),ep)}(s);if(Vu(s)||!0!==s.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=uh(void 0,ep,!0),y.factory=()=>st(y.multi),this.records.set(d,y)),d=s,y.multi.push(s)}this.records.set(d,p)}hydrate(s,a){return a.value===ep&&(a.value=C0,a.value=a.factory()),"object"==typeof a.value&&a.value&&function M0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ie(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Py(i){const s=Tt(i),a=null!==s?s.factory:Qn(i);if(null!==a)return a;if(i instanceof an)throw new xe(204,!1);if(i instanceof Function)return function ZI(i){const s=i.length;if(s>0)throw Pi(s,"?"),new xe(204,!1);const a=function Ar(i){const s=i&&(i[ii]||i[pr]);if(s){const a=function Wn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new xe(204,!1)}function D0(i,s,a){let c;if(Vu(i)){const d=ie(i);return Qn(d)||Py(d)}if(T0(i))c=()=>ie(i.useValue);else if(function I0(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...st(i.deps||[]));else if(function KI(i){return!(!i||!i.useExisting)}(i))c=()=>Ke(ie(i.useExisting));else{const d=ie(i&&(i.useClass||i.provide));if(!function A0(i){return!!i.deps}(i))return Qn(d)||Py(d);c=()=>new d(...st(i.deps))}return c}function uh(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function T0(i){return null!==i&&"object"==typeof i&&Q in i}function Vu(i){return"function"==typeof i}let pa=(()=>{class i{static create(a,c){var d;if(Array.isArray(a))return w0({name:""},c,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return w0({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=ps,i.NULL=new b0,i.\u0275prov=Vt({token:i,providedIn:"any",factory:()=>Ke(xy)}),i.__NG_ELEMENT_ID__=-1,i})();function Uy(i,s){Qo(Yd(i)[1],Xt())}function Mm(i){let s=function tp(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(li(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new xe(903,"");d=s.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=np(i.inputs),y.declaredInputs=np(i.declaredInputs),y.outputs=np(i.outputs);const C=d.hostBindings;C&&dc(i,C);const w=d.viewQuery,I=d.contentQueries;if(w&&H0(i,w),I&&ma(i,I),ae(i.inputs,d.inputs),ae(i.declaredInputs,d.declaredInputs),ae(i.outputs,d.outputs),li(d)&&d.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const C=p[y];C&&C.ngInherit&&C(i),C===Mm&&(a=!1)}}s=Object.getPrototypeOf(s)}!function rS(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Jo(d.hostAttrs,a=Jo(a,d.hostAttrs))}}(c)}function np(i){return i===Yn?{}:i===U?[]:i}function H0(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function ma(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,p)=>{s(c,d,p),a(c,d,p)}:s}function dc(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let tn=null;function hr(){if(!tn){const i=Mt.Symbol;if(i&&i.iterator)tn=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(tn=c)}}}return tn}function Xr(i){return!!jy(i)&&(Array.isArray(i)||!(i instanceof Map)&&hr()in i)}function jy(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Dr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function xt(i,s,a,c){const d=Ie();return Dr(d,is(),s)&&(It(),ha(vn(),d,i,s,a,c)),xt}function Qy(i,s,a,c,d,p,y,C){const w=Ie(),I=It(),M=i+20,F=I.firstCreatePass?function z0(i,s,a,c,d,p,y,C,w){const I=s.consts,M=ah(s,i,4,y||null,Gr(I,C));Cy(s,a,M,Gr(I,w)),Qo(s,M);const F=M.tViews=Im(2,M,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,M),F.queries=s.queries.embeddedTView(M)),M}(M,I,w,s,a,c,d,p,y):I.data[M];Or(F,!1);const H=w[11].createComment("");Nu(I,w,H,F),zn(H,w),Sm(w,w[M]=p0(H,w,H,F)),ai(F)&&yy(I,w,F),null!=y&&vy(w,F,C)}function Jy(i){return function di(i,s){return i[s]}(function Xc(){return ct.lFrame.contextLView}(),20+i)}function pc(i,s=lt.Default){const a=Ie();return null===a?Ke(i,s):mo(Xt(),a,ie(i),s)}function ph(){throw new Error("invalid")}function Wu(i,s,a){const c=Ie();return Dr(c,is(),s)&&gs(It(),vn(),c,i,s,c[11],a,!1),Wu}function qu(i,s,a,c,d){const y=d?"class":"style";My(i,a,s.inputs[y],y,c)}function Zu(i,s,a,c){const d=Ie(),p=It(),y=20+i,C=d[11],w=d[y]=dr(C,s,function mf(){return ct.lFrame.currentNamespace}()),I=p.firstCreatePass?function uv(i,s,a,c,d,p,y){const C=s.consts,I=ah(s,i,2,d,Gr(C,p));return Cy(s,a,I,Gr(C,y)),null!==I.attrs&&Jf(I,I.attrs,!1),null!==I.mergedAttrs&&Jf(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(y,p,d,0,s,a,c):p.data[y];Or(I,!0);const M=I.mergedAttrs;null!==M&&zt(C,w,M);const F=I.classes;null!==F&&So(C,w,F);const H=I.styles;return null!==H&&UC(C,w,H),64!=(64&I.flags)&&Nu(p,d,w,I),0===function Ko(){return ct.lFrame.elementDepthCount}()&&zn(w,d),function Nl(){ct.lFrame.elementDepthCount++}(),ai(I)&&(yy(p,d,I),n0(p,I,d)),null!==c&&vy(d,I),Zu}function ko(){let i=Xt();Ll()?Vl():(i=i.parent,Or(i,!1));const s=i;!function Na(){ct.lFrame.elementDepthCount--}();const a=It();return a.firstCreatePass&&(Qo(a,i),ka(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function yf(i){return 0!=(16&i.flags)}(s)&&qu(a,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function bn(i){return 0!=(32&i.flags)}(s)&&qu(a,s,Ie(),s.stylesWithoutHost,!1),ko}function mh(i,s,a,c){return Zu(i,s,a,c),ko(),mh}function ya(i,s,a){const c=Ie(),d=It(),p=i+20,y=d.firstCreatePass?function nw(i,s,a,c,d){const p=s.consts,y=Gr(p,c),C=ah(s,i,8,"ng-container",y);return null!==y&&Jf(C,y,!0),Cy(s,a,C,Gr(p,d)),null!==s.queries&&s.queries.elementStart(s,C),C}(p,d,c,s,a):d.data[p];Or(y,!0);const C=c[p]=c[11].createComment("");return Nu(d,c,C,y),zn(C,c),ai(y)&&(yy(d,c,y),n0(d,y,c)),null!=a&&vy(c,y),ya}function gh(){let i=Xt();const s=It();return Ll()?Vl():(i=i.parent,Or(i,!1)),s.firstCreatePass&&(Qo(s,i),ka(i)&&s.queries.elementEnd(i)),gh}function Oo(i,s,a){return ya(i,s,a),gh(),Oo}function Vm(){return Ie()}function lp(i){return!!i&&"function"==typeof i.then}function Ws(i){return!!i&&"function"==typeof i.subscribe}const pl=Ws;function mc(i,s,a,c){const d=Ie(),p=It(),y=Xt();return function Um(i,s,a,c,d,p,y,C){const w=ai(c),M=i.firstCreatePass&&_0(i),F=s[8],H=g0(s);let X=!0;if(3&c.type||C){const Ve=Bn(c,s),Ye=C?C(Ve):Ve,Se=H.length,ot=C?Nt=>C(Bt(Nt[c.index])):c.index;if(Zt(a)){let Nt=null;if(!C&&w&&(Nt=function Bm(i,s,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===c){const C=s[7],w=d[p+2];return C.length>w?C[w]:null}"string"==typeof y&&(p+=2)}return null}(i,s,d,c.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=p,Nt.__ngLastListenerFn__=p,X=!1;else{p=Yu(c,s,F,p,!1);const at=a.listen(Ye,d,p);H.push(p,at),M&&M.push(d,ot,Se,Se+1)}}else p=Yu(c,s,F,p,!0),Ye.addEventListener(d,p,y),H.push(p),M&&M.push(d,ot,Se,y)}else p=Yu(c,s,F,p,!1);const ve=c.outputs;let Oe;if(X&&null!==ve&&(Oe=ve[d])){const Ve=Oe.length;if(Ve)for(let Ye=0;Ye<Ve;Ye+=2){const $i=s[Oe[Ye]][Oe[Ye+1]].subscribe(p),Pc=H.length;H.push(p,$i),M&&M.push(d,c.index,Pc,-(Pc+1))}}}(p,d,d[11],y,i,s,!!a,c),mc}function _h(i,s,a,c){try{return!1!==a(c)}catch(d){return y0(i,d),!1}}function Yu(i,s,a,c,d){return function p(y){if(y===Function)return c;const C=2&i.flags?Un(i.index,s):s;0==(32&s[2])&&Dy(C);let w=_h(s,0,c,y),I=p.__ngNextListenerFn__;for(;I;)w=_h(s,0,I,y)&&w,I=I.__ngNextListenerFn__;return d&&!1===w&&(y.preventDefault(),y.returnValue=!1),w}}function hv(i=1){return function Od(i){return(ct.lFrame.contextLView=function jl(i,s){for(;i>0;)s=s[15],i--;return s}(i,ct.lFrame.contextLView))[8]}(i)}function Hm(i,s){let a=null;const c=function ua(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===c?Wf(i,p,!0):sy(c,p))return d}else a=d}return a}function fv(i){const s=Ie()[16][6];if(!s.projection){const c=s.projection=Pi(i?i.length:1,null),d=c.slice();let p=s.child;for(;null!==p;){const y=i?Hm(p,i):0;null!==y&&(d[y]?d[y].projectionNext=p:c[y]=p,d[y]=p),p=p.next}}}function pv(i,s=0,a){const c=Ie(),d=It(),p=ah(d,20+i,16,null,a||null);null===p.projection&&(p.projection=s),Vl(),64!=(64&p.flags)&&function ms(i,s,a){X_(s[11],0,s,a,VC(i,a,s),q_(a.parent||s[6],a,s))}(d,c,p)}function vv(i,s,a,c,d){const p=i[a+1],y=null===s;let C=c?zs(p):da(p),w=!1;for(;0!==C&&(!1===w||y);){const M=i[C+1];cp(i[C],s)&&(w=!0,i[C+1]=c?ly(M):lc(M)),C=c?zs(M):da(M)}w&&(i[a+1]=c?lc(p):ly(p))}function cp(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Co(i,s)>=0}function Ch(i,s,a){return qs(i,s,a,!1),Ch}function Qu(i,s){return qs(i,s,null,!0),Qu}function qs(i,s,a,c){const d=Ie(),p=It(),y=function Wr(i){const s=ct.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function wh(i,s,a,c){const d=i.data;if(null===d[a+1]){const p=d[kn()],y=function Tv(i,s){return s>=i.expandoStartIndex}(i,a);(function Ym(i,s){return 0!=(i.flags&(s?16:32))})(p,c)&&null===s&&!y&&(s=!1),s=function Gm(i,s,a,c){const d=function Ha(i){const s=ct.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=hp(a=Wm(null,i,s,a,c),s.attrs,c),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=Wm(d,i,s,a,c),null===p){let w=function dp(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==da(c))return i[zs(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=Wm(null,i,s,w[1],c),w=hp(w,s.attrs,c),function fw(i,s,a,c){i[zs(a?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else p=function Iv(i,s,a){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=hp(c,i[p].hostAttrs,a);return hp(c,s.attrs,a)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,c),function sw(i,s,a,c,d,p){let y=p?s.classBindings:s.styleBindings,C=zs(y),w=da(y);i[c]=a;let M,I=!1;if(Array.isArray(a)){const F=a;M=F[1],(null===M||Co(F,M)>0)&&(I=!0)}else M=a;if(d)if(0!==w){const H=zs(i[C+1]);i[c+1]=Lu(H,C),0!==H&&(i[H+1]=ay(i[H+1],c)),i[C+1]=function cI(i,s){return 131071&i|s<<17}(i[C+1],c)}else i[c+1]=Lu(C,0),0!==C&&(i[C+1]=ay(i[C+1],c)),C=c;else i[c+1]=Lu(w,0),0===C?C=c:i[w+1]=ay(i[w+1],c),w=c;I&&(i[c+1]=lc(i[c+1])),vv(i,M,c,!0),vv(i,M,c,!1),function ow(i,s,a,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&Co(p,s)>=0&&(a[c+1]=ly(a[c+1]))}(s,M,i,c,p),y=Lu(C,w),p?s.classBindings=y:s.styleBindings=y}(d,p,s,a,y,c)}}(p,i,y,c),s!==gt&&Dr(d,y,s)&&function Sv(i,s,a,c,d,p,y,C){if(!(3&s.type))return;const w=i.data,I=w[C+1];Eh(function WC(i){return 1==(1&i)}(I)?Av(w,s,a,d,da(I),y):void 0)||(Eh(p)||function oy(i){return 2==(2&i)}(I)&&(p=Av(w,null,a,d,C,y)),function sI(i,s,a,c,d){const p=Zt(i);if(s)d?p?i.addClass(a,c):a.classList.add(c):p?i.removeClass(a,c):a.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:k.DashCase;if(null==d)p?i.removeStyle(a,c,y):a.style.removeProperty(c);else{const C="string"==typeof d&&d.endsWith("!important");C&&(d=d.slice(0,-10),y|=k.Important),p?i.setStyle(a,c,d,y):a.style.setProperty(c,d,C?"important":"")}}}(c,y,ns(kn(),a),d,p))}(p,p.data[kn()],d,d[11],i,d[y+1]=function Zm(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ce(Jr(i)))),i}(s,a),c,y)}function Wm(i,s,a,c,d){let p=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(p=s[C],c=hp(c,p.hostAttrs,d),p!==i);)C++;return null!==i&&(a.directiveStylingLast=C),c}function hp(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),tr(i,y,!!a||s[++p]))}return void 0===i?null:i}function Av(i,s,a,c,d,p){const y=null===s;let C;for(;d>0;){const w=i[d],I=Array.isArray(w),M=I?w[1]:w,F=null===M;let H=a[d+1];H===gt&&(H=F?U:void 0);let X=F?na(H,c):M===c?H:void 0;if(I&&!Eh(X)&&(X=na(w,c)),Eh(X)&&(C=X,y))return C;const ve=i[d+1];d=y?zs(ve):da(ve)}if(null!==s){let w=p?s.residualClasses:s.residualStyles;null!=w&&(C=na(w,c))}return C}function Eh(i){return void 0!==i}function Mv(i,s=""){const a=Ie(),c=It(),d=i+20,p=c.firstCreatePass?ah(c,d,1,s,null):c.data[d],y=a[d]=function ac(i,s){return Zt(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Nu(c,a,y,p),Or(p,!1)}function Km(i){return fp("",i,""),Km}function fp(i,s,a){const c=Ie(),d=function hc(i,s,a,c){return Dr(i,is(),a)?s+me(a)+c:gt}(c,i,s,a);return d!==gt&&Ao(c,kn(),d),fp}function Ju(i,s,a){const c=Ie();return Dr(c,is(),s)&&gs(It(),vn(),c,i,s,c[11],a,!0),Ju}const _c=void 0;var Iw=["en",[["a","p"],["AM","PM"],_c],[["AM","PM"],_c,_c],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_c,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_c,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_c,"{1} 'at' {0}",_c],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function og(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let yc={};function ag(i){const s=function Sw(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=lg(s);if(a)return a;const c=s.split("-")[0];if(a=lg(c),a)return a;if("en"===c)return Iw;throw new Error(`Missing locale data for the locale "${i}".`)}function Hv(i){return ag(i)[ut.PluralCase]}function lg(i){return i in yc||(yc[i]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[i]),yc[i]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const gp="en-US";let ug=gp;function mg(i,s,a,c,d){if(i=ie(i),Array.isArray(i))for(let p=0;p<i.length;p++)mg(i[p],s,a,c,d);else{const p=It(),y=Ie();let C=Vu(i)?i:ie(i.provide),w=D0(i);const I=Xt(),M=1048575&I.providerIndexes,F=I.directiveStart,H=I.providerIndexes>>20;if(Vu(i)||!i.multi){const X=new uo(w,d,pc),ve=Xv(C,s,d?M:M+H,F);-1===ve?($n(as(I,y),p,C),Jv(p,i,s.length),s.push(C),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(X),y.push(X)):(a[ve]=X,y[ve]=X)}else{const X=Xv(C,s,M+H,F),ve=Xv(C,s,M,M+H),Oe=X>=0&&a[X],Ve=ve>=0&&a[ve];if(d&&!Ve||!d&&!Oe){$n(as(I,y),p,C);const Ye=function tb(i,s,a,c,d){const p=new uo(i,a,pc);return p.multi=[],p.index=s,p.componentProviders=0,aE(p,d,c&&!a),p}(d?gg:lE,a.length,d,c,w);!d&&Ve&&(a[ve].providerFactory=Ye),Jv(p,i,s.length,0),s.push(C),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(Ye),y.push(Ye)}else Jv(p,i,X>-1?X:ve,aE(a[d?ve:X],w,!d&&c));!d&&c&&Ve&&a[ve].componentProviders++}}}function Jv(i,s,a,c){const d=Vu(s),p=function S0(i){return!!i.useClass}(s);if(d||p){const w=(p?ie(s.useClass):s).prototype.ngOnDestroy;if(w){const I=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const M=I.indexOf(a);-1===M?I.push(a,[c,w]):I[M+1].push(c,w)}else I.push(a,w)}}}function aE(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Xv(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function lE(i,s,a,c){return eb(this.multi,[])}function gg(i,s,a,c){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=fi(a,a[1],this.providerFactory.index,c);p=C.slice(0,y),eb(d,p);for(let w=y;w<C.length;w++)p.push(C[w])}else p=[],eb(d,p);return p}function eb(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function _g(i,s=[]){return a=>{a.providersResolver=(c,d)=>function Qv(i,s,a){const c=It();if(c.firstCreatePass){const d=li(i);mg(a,c.data,c.blueprint,d,!0),mg(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class cE{}class nb{resolveComponentFactory(s){throw function VS(i){const s=Error(`No component factory found for ${ce(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let _l=(()=>{class i{}return i.NULL=new nb,i})();function uE(){return vc(Xt(),Ie())}function vc(i,s){return new Ih(Bn(i,s))}let Ih=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=uE,i})();function dE(i){return i instanceof Ih?i.nativeElement:i}class rb{}let yg=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function ib(){const i=Ie(),a=Un(Xt().index,i);return function wp(i){return i[11]}(ar(a)?a:i)}(),i})(),hE=(()=>{class i{}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:()=>null}),i})();class fE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const sb=new fE("13.3.11"),vg={};function bc(i,s,a,c,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(Bt(p)),zr(p))for(let C=10;C<p.length;C++){const w=p[C],I=w[1].firstChild;null!==I&&bc(w[1],w,I,c)}const y=a.type;if(8&y)bc(i,s,a.child,c);else if(32&y){const C=pe(a,s);let w;for(;w=C();)c.push(w)}else if(16&y){const C=K_(s,a);if(Array.isArray(C))c.push(...C);else{const w=it(s[16]);bc(w[1],w,C,c,!0)}}a=d?a.projectionNext:a.next}return c}class Sh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return bc(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(zr(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Hf(s,c),yo(a,c))}this._attachedToViewContainer=!1}j_(this._lView[1],this._lView)}onDestroy(s){o0(this._lView[1],this._lView,null,s)}markForCheck(){Dy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Iy(i,s,a){const c=s[10];c.begin&&c.begin();try{ch(i,s,i.template,a)}catch(d){throw y0(s,d),d}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ih(i,s){sh(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=s}}class pE extends Sh{constructor(s){super(s),this._view=s}detectChanges(){m0(this._view)}checkNoChanges(){}get context(){return null}}class ob extends _l{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=In(s);return new bg(a,this.ngModule)}}function mE(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class bg extends cE{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function $C(i){return i.map(oh).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return mE(this.componentDef.inputs)}get outputs(){return mE(this.componentDef.outputs)}create(s,a,c,d){const p=(d=d||this.ngModule)?function gE(i,s){return{get:(a,c,d)=>{const p=i.get(a,vg,d);return p!==vg||c===vg?p:s.get(a,c,d)}}}(s,d.injector):s,y=p.get(rb,qo),C=p.get(hE,null),w=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",M=c?function s0(i,s,a){if(Zt(i))return i.selectRootElement(s,a===Ot.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(w,c,this.componentDef.encapsulation):dr(y.createRenderer(null,this.componentDef),I,function Ep(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(I)),F=this.componentDef.onPush?576:528,H=function B0(i,s){return{components:[],scheduler:i||eh,clean:WI,playerHandler:s||null,flags:0}}(),X=Im(0,null,null,1,0,null,null,null,null,null),ve=Kf(null,X,H,F,null,null,y,w,C,p);let Oe,Ve;ks(ve);try{const Ye=function dh(i,s,a,c,d,p){const y=a[1];a[20]=i;const w=ah(y,20,2,"#host",null),I=w.mergedAttrs=s.hostAttrs;null!==I&&(Jf(w,I,!0),null!==i&&(zt(d,i,I),null!==w.classes&&So(d,i,w.classes),null!==w.styles&&UC(d,i,w.styles)));const M=c.createRenderer(i,s),F=Kf(a,r0(s),null,s.onPush?64:16,a[20],w,c,M,p||null,null);return y.firstCreatePass&&($n(as(w,a),y,s.type),d0(y,w),h0(w,a.length,1)),Sm(a,F),a[20]=F}(M,this.componentDef,ve,y,w);if(M)if(c)zt(w,M,["ng-version",sb.full]);else{const{attrs:Se,classes:ot}=function qf(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++c]):8===d&&a.push(p);else{if(!vi(d))break;d=p}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Se&&zt(w,M,Se),ot&&ot.length>0&&So(w,M,ot.join(" "))}if(Ve=rn(X,20),void 0!==a){const Se=Ve.projection=[];for(let ot=0;ot<this.ngContentSelectors.length;ot++){const Nt=a[ot];Se.push(null!=Nt?Array.from(Nt):null)}}Oe=function By(i,s,a,c,d){const p=a[1],y=function RI(i,s,a){const c=Xt();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),f0(i,c,s,lh(i,s,1,null),a));const d=fi(s,i,c.directiveStart,c);zn(d,s);const p=Bn(c,s);return p&&zn(p,s),d}(p,a,s);if(c.components.push(y),i[8]=y,d&&d.forEach(w=>w(y,s)),s.contentQueries){const w=Xt();s.contentQueries(1,y,w.directiveStart)}const C=Xt();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Os(C.index),c0(a[1],C,0,C.directiveStart,C.directiveEnd,s),u0(s,y)),y}(Ye,this.componentDef,ve,H,[Uy]),Qf(X,ve,null)}finally{vr()}return new yE(this.componentType,Oe,vc(Ve,ve),ve,Ve)}}class yE extends class LS{}{constructor(s,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new pE(d),this.componentType=s}get injector(){return new ds(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Ah{}class vE{}const Mh=new Map;class ab extends Ah{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ob(this);const c=Sn(s);this._bootstrapComponents=_(c.bootstrap),this._r3Injector=E0(s,a,[{provide:Ah,useValue:this},{provide:_l,useValue:this.componentFactoryResolver}],ce(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=pa.THROW_IF_NOT_FOUND,c=lt.Default){return s===pa||s===Ah||s===xy?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class lb extends vE{constructor(s){super(),this.moduleType=s,null!==Sn(s)&&function jS(i){const s=new Set;!function a(c){const d=Sn(c,!0),p=d.id;null!==p&&(function bE(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ce(s)} vs ${ce(s.name)}`)}(p,Mh.get(p),c),Mh.set(p,c));const y=_(d.imports);for(const C of y)s.has(C)||(s.add(C),a(C))}(i)}(s)}create(s){return new ab(this.moduleType,s)}}function Dp(i){return s=>{setTimeout(i,void 0,s)}}const ba=class Dg extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,p,y;let C=s,w=a||(()=>null),I=c;if(s&&"object"==typeof s){const F=s;C=null===(d=F.next)||void 0===d?void 0:d.bind(F),w=null===(p=F.error)||void 0===p?void 0:p.bind(F),I=null===(y=F.complete)||void 0===y?void 0:y.bind(F)}this.__isAsync&&(w=Dp(w),C&&(C=Dp(C)),I&&(I=Dp(I)));const M=super.subscribe({next:C,error:w,complete:I});return s instanceof ee.w0&&s.add(M),M}};function Tg(){return this._results[hr()]()}class Ig{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=hr(),c=Ig.prototype;c[a]||(c[a]=Tg)}get changes(){return this._changes||(this._changes=new ba)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=cr(s);(this._changesDetected=!function Fd(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=s[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xh=(()=>{class i{}return i.__NG_ELEMENT_ID__=RE,i})();const kh=xh,ME=class extends kh{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=Kf(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(a)),Qf(a,c,s),new Sh(c)}};function RE(){return yl(Xt(),Ie())}function yl(i,s){return 4&i.type?new ME(s,i,vc(i,s)):null}let Tc=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ca,i})();function Ca(){return Ag(Xt(),Ie())}const Sg=Tc,Tp=class extends Sg{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return vc(this._hostTNode,this._hostLView)}get injector(){return new ds(this._hostTNode,this._hostLView)}get parentInjector(){const s=jn(this._hostTNode,this._hostLView);if(fo(s)){const a=os(s,this._hostLView),c=ss(s);return new ds(a[1].data[c+8],a)}return new ds(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Ip(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,p){const y=s&&!function Ya(i){return"function"==typeof i}(s);let C;if(y)C=a;else{const F=a||{};C=F.index,c=F.injector,d=F.projectableNodes,p=F.ngModuleRef}const w=y?s:new bg(In(s)),I=c||this.parentInjector;if(!p&&null==w.ngModule){const H=(y?I:this.parentInjector).get(Ah,null);H&&(p=H)}const M=w.create(I,d,void 0,p);return this.insert(M.hostView,C),M}insert(s,a){const c=s._lView,d=c[1];if(function Yo(i){return zr(i[3])}(c)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const F=c[3],H=new Tp(F,F[6],F[3]);H.detach(H.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function ll(i,s,a,c){const d=10+c,p=a.length;c>0&&(a[d-1][4]=s),c<p-10?(s[4]=a[d],ta(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function LC(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=128}(d,c,y,p);const C=Gf(p,y),w=c[11],I=$f(w,y[7]);return null!==I&&function rh(i,s,a,c,d,p){c[0]=d,c[6]=s,sh(i,c,a,1,d,p)}(d,y[6],w,c,I,C),s.attachToViewContainerRef(),ta(od(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Ip(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Hf(this._lContainer,a);c&&(yo(od(this._lContainer),a),j_(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Hf(this._lContainer,a);return c&&null!=yo(od(this._lContainer),a)?new Sh(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Ip(i){return i[8]}function od(i){return i[8]||(i[8]=[])}function Ag(i,s){let a;const c=s[i.index];if(zr(c))a=c;else{let d;if(8&i.type)d=Bt(c);else{const p=s[11];d=p.createComment("");const y=Bn(i,s);ul(p,$f(p,y),d,function BC(i,s){return Zt(i)?i.nextSibling(s):s.nextSibling}(p,y),!1)}s[i.index]=a=p0(c,s,d,i),Sm(s,a)}return new Tp(a,i,s)}class hb{constructor(s){this.queryList=s,this.matches=null}clone(){return new hb(this.queryList)}setDirty(){this.queryList.setDirty()}}class fb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new fb(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Ic(s,a).matches&&this.queries[a].setDirty()}}class kE{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class pb{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new pb(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class mb{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new mb(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,a,YS(a,p)),this.matchTNodeWithReadOption(s,a,Xo(a,s,p,!1,!1))}else c===xh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Xo(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Ih||d===Tc||d===xh&&4&a.type)this.addMatch(a.index,-2);else{const p=Xo(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function YS(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function OE(i,s,a,c){return-1===a?function Mg(i,s){return 11&i.type?vc(i,s):4&i.type?yl(i,s):null}(s,i):-2===a?function Sp(i,s,a){return a===Ih?vc(s,i):a===xh?yl(s,i):a===Tc?Ag(s,i):void 0}(i,s,c):fi(i,i[1],a,s)}function Oh(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const p=i.data,y=a.matches,C=[];for(let w=0;w<y.length;w+=2){const I=y[w];C.push(I<0?null:OE(s,p[I],y[w+1],a.metadata.read))}d.matches=C}return d.matches}function ad(i,s,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const y=Oh(i,s,d,a);for(let C=0;C<p.length;C+=2){const w=p[C];if(w>0)c.push(y[C/2]);else{const I=p[C+1],M=s[-w];for(let F=10;F<M.length;F++){const H=M[F];H[17]===H[3]&&ad(H[1],H,I,c)}if(null!==M[9]){const F=M[9];for(let H=0;H<F.length;H++){const X=F[H];ad(X[1],X,I,c)}}}}}return c}function Ph(i){const s=Ie(),a=It(),c=ja();eu(c+1);const d=Ic(a,c);if(i.dirty&&Ms(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?ad(a,s,c,[]):Oh(a,s,d,c);i.reset(p,dE),i.notifyOnChanges()}return!0}return!1}function PE(i,s,a){const c=It();c.firstCreatePass&&(FE(c,new kE(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),Rg(c,Ie(),s)}function NE(i,s,a,c){const d=It();if(d.firstCreatePass){const p=Xt();FE(d,new kE(s,a,c),p.index),function LE(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}Rg(d,Ie(),a)}function Nh(){return function Ap(i,s){return i[19].queries[s].queryList}(Ie(),ja())}function Rg(i,s,a){const c=new Ig(4==(4&a));o0(i,s,c,c.destroy),null===s[19]&&(s[19]=new fb),s[19].queries.push(new hb(c))}function FE(i,s,a){null===i.queries&&(i.queries=new pb),i.queries.track(new mb(s,a))}function Ic(i,s){return i.queries.getByIndex(s)}function Cl(...i){}const Zs=new an("Application Initializer");let fr=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Cl,this.reject=Cl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(lp(p))a.push(p);else if(pl(p)){const y=new Promise((C,w)=>{p.subscribe({complete:C,error:w})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ke(Zs,8))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const wb=new an("AppId",{providedIn:"root",factory:function zh(){return`${Ys()}${Ys()}${Ys()}`}});function Ys(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ks=new an("Platform Initializer"),Mc=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Eb=new an("appBootstrapListener");let Lg=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Gn=new an("LocaleId",{providedIn:"root",factory:()=>Lt(Gn,lt.Optional|lt.SkipSelf)||function Db(){return"undefined"!=typeof $localize&&$localize.locale||gp}()}),Tb=new an("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class XE{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Ib=(()=>{class i{compileModuleSync(a){return new lb(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=_(Sn(a).declarations).reduce((y,C)=>{const w=In(C);return w&&y.push(new bg(w)),y},[]);return new XE(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const fd=(()=>Promise.resolve(0))();function Ug(i){"undefined"==typeof Zone?fd.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Qs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ba(!1),this.onMicrotaskEmpty=new ba(!1),this.onStable=new ba(!1),this.onError=new ba(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Gh(){let i=Mt.requestAnimationFrame,s=Mt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Sb(i){const s=()=>{!function Np(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Mt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Fp(i),i.isCheckStableRunning=!0,Rc(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Fp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,y,C)=>{try{return Hg(i),a.invokeTask(d,p,y,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),jg(i)}},onInvoke:(a,c,d,p,y,C,w)=>{try{return Hg(i),a.invoke(d,p,y,C,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),jg(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Fp(i),Rc(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,s,eD,Cl,Cl);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const eD={};function Rc(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Fp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Hg(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function jg(i){i._nesting--,Rc(i)}class Ab{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ba,this.onMicrotaskEmpty=new ba,this.onStable=new ba,this.onError=new ba}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let $g=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qs.assertNotInAngularZone(),Ug(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ug(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ke(Qs))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac}),i})(),Mb=(()=>{class i{constructor(){this._applications=new Map,Lp.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Lp.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class zg{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function Rb(i){Lp=i}let Lp=new zg,Ea=null;const xb=new an("AllowMultipleToken"),Gg=new an("PlatformOnDestroy");class qg{constructor(s,a){this.name=s,this.token=a}}function Ob(i,s,a=[]){const c=`Platform: ${s}`,d=new an(c);return(p=[])=>{let y=Zg();if(!y||y.injector.get(xb,!1)){const C=[...a,...p,{provide:d,useValue:!0}];i?i(C):function nD(i){if(Ea&&!Ea.get(xb,!1))throw new xe(400,"");Ea=i;const s=i.get(Yg),a=i.get(Ks,null);a&&a.forEach(c=>c())}(function rD(i=[],s){return pa.create({name:s,providers:[{provide:Xf,useValue:"platform"},{provide:Gg,useValue:()=>Ea=null},...i]})}(C,c))}return function Pb(i){const s=Zg();if(!s)throw new xe(401,"");return s}()}}function Zg(){var i;return null!==(i=null==Ea?void 0:Ea.get(Yg))&&void 0!==i?i:null}let Yg=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const C=function Nb(i,s){let a;return a="noop"===i?new Ab:("zone.js"===i?void 0:i)||new Qs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:Qs,useValue:C}];return C.run(()=>{const I=pa.create({providers:w,parent:this.injector,name:a.moduleType.name}),M=a.create(I),F=M.injector.get(Ou,null);if(!F)throw new xe(402,"");return C.runOutsideAngular(()=>{const H=C.onError.subscribe({next:X=>{F.handleError(X)}});M.onDestroy(()=>{Qg(this._modules,M),H.unsubscribe()})}),function Fb(i,s,a){try{const c=a();return lp(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(F,C,()=>{const H=M.injector.get(fr);return H.runInitializers(),H.donePromise.then(()=>(function $v(i){Dt(i,"Expected localeId to be defined"),"string"==typeof i&&(ug=i.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Gn,gp)||gp),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,c=[]){const d=Lb({},c);return function tD(i,s,a){const c=new lb(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(Kg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new xe(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Gg,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ke(pa))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Lb(i,s){return Array.isArray(s)?s.reduce(Lb,i):Object.assign(Object.assign({},i),s)}let Kg=(()=>{class i{constructor(a,c,d,p){this._zone=a,this._injector=c,this._exceptionHandler=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new N.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),C=new N.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Qs.assertNotInAngularZone(),Ug(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Qs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),M.unsubscribe()}});this.isStable=(0,he.T)(y,C.pipe((0,se.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new xe(405,"");let d;d=a instanceof cE?a:this._injector.get(_l).resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function Wg(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Ah),C=d.create(pa.NULL,[],c||d.selector,p),w=C.location.nativeElement,I=C.injector.get($g,null),M=I&&C.injector.get(Mb);return I&&M&&M.registerApplication(w,I),C.onDestroy(()=>{this.detachView(C.hostView),Qg(this.components,C),M&&M.unregisterApplication(w)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Qg(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Eb,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Ke(Qs),Ke(pa),Ke(Ou),Ke(fr))},i.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Qg(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Jg=!0,Xg=!1;function sD(){return Xg=!0,Jg}function oD(){if(Xg)throw new Error("Cannot enable prod mode after platform setup.");Jg=!1}let aD=(()=>{class i{}return i.__NG_ELEMENT_ID__=lD,i})();function lD(i){return function Bp(i,s,a){if(jc(i)&&!a){const c=Un(i.index,s);return new Sh(c,c)}return 47&i.type?new Sh(s[16],s):null}(Xt(),Ie(),16==(16&i))}class Gt{constructor(){}supports(s){return Xr(s)}create(s){return new Rt(s)}}const Ht=(i,s)=>s;class Rt{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Ht}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<Hb(c,d,p)?a:c,C=Hb(y,d,p),w=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const I=C-d,M=w-d;if(I!=M){for(let H=0;H<I;H++){const X=H<p.length?p[H]:p[H]=0,ve=X+H;M<=ve&&ve<I&&(p[H]=X+1)}p[y.previousIndex]=M-I}}C!==w&&s(y,C,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Xr(s))throw new xe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)p=s[C],y=this._trackByFn(C,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,C)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,C),c=!0),a=a._next}else d=0,function j0(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[hr()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,C=>{y=this._trackByFn(d,C),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,C,y,d)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new wl(a,c),p,d),s}_verifyReinsertion(s,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new $p),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $p),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class wl{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nn{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class $p{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new nn,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hb(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class md{constructor(){}supports(s){return s instanceof Map||jy(s)}create(){return new jb}}class jb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||jy(s)))throw new xe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const c=new gn(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class gn{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function St(){return new Ir([new Gt])}let Ir=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||St()),deps:[[i,new Kr,new Vi]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new xe(901,"")}}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:St}),i})();function zp(){return new wi([new md])}let wi=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||zp()),deps:[[i,new Kr,new Vi]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new xe(901,"")}}return i.\u0275prov=Vt({token:i,providedIn:"root",factory:zp}),i})();const Oc=Ob(null,"core",[]);let i_=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ke(Kg))},i.\u0275mod=sr({type:i}),i.\u0275inj=Ft({}),i})()},3942:(We,ye,P)=>{P.d(ye,{Z:()=>xe});var u=P(2090),ee=P(4859),N=P(9681),he=P(1877);class se{constructor(me,Ee){this._delegate=me,this.firebase=Ee,(0,N._addComponent)(me,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(me,Ee=N._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(me);return!Ge.isInitialized()&&"EXPLICIT"===(null===(Ue=Ge.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Ee})}_removeServiceInstance(me,Ee=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ee)}_addComponent(me){(0,N._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,N._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function fe(){const Ne=function ce(Ne){const me={},Ee={__esModule:!0,initializeApp:function Te(Le,$={}){const be=N.initializeApp(Le,$);if((0,u.r3)(me,be.name))return me[be.name];const K=new Ne(be,Ee);return me[be.name]=K,K},app:Ge,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function we(Le){const $=Le.name,be=$.replace("-compat","");if(N._registerComponent(Le)&&"PUBLIC"===Le.type){const K=(oe=Ge())=>{if("function"!=typeof oe[be])throw ae.create("invalid-app-argument",{appName:$});return oe[be]()};void 0!==Le.serviceProps&&(0,u.ZB)(K,Le.serviceProps),Ee[be]=K,Ne.prototype[be]=function(...oe){return this._getService.bind(this,$).apply(this,Le.multipleInstances?oe:[])}}return"PUBLIC"===Le.type?Ee[be]:null},removeApp:function Ue(Le){delete me[Le]},useAsService:function Fe(Le,$){return"serverAuth"===$?null:$},modularAPIs:N}};function Ge(Le){if(!(0,u.r3)(me,Le=Le||N._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:Le});return me[Le]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function Ce(){return Object.keys(me).map(Le=>me[Le])}}),Ge.App=Ne,Ee}(se);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function me(Ee){(0,u.ZB)(Ne,Ee)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ne}(),j=new he.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=z;!function Ae(Ne){(0,N.registerVersion)("@firebase/app-compat","0.1.27",Ne)}()},9681:(We,ye,P)=>{P.r(ye),P.d(ye,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>ii,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>jt,_addOrOverwriteComponent:()=>Vt,_apps:()=>Ut,_clearComponents:()=>ri,_components:()=>ln,_getProvider:()=>Ft,_registerComponent:()=>rr,_removeServiceInstance:()=>Tt,deleteApp:()=>lt,getApp:()=>pr,getApps:()=>jr,initializeApp:()=>Zi,onLog:()=>cn,registerVersion:()=>on,setLogLevel:()=>Yi});var u=P(5861),ee=P(4859),N=P(1877),he=P(2090),se=P(8766);class ge{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function ae(G){const te=G.getComponent();return"VERSION"===(null==te?void 0:te.type)}(Me)){const qe=Me.getImmediate();return`${qe.library}/${qe.version}`}return null}).filter(Me=>Me).join(" ")}}const ce="@firebase/app",z=new N.Yd("@firebase/app"),Dt="[DEFAULT]",ze={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ut=new Map,ln=new Map;function jt(G,te){try{G.container.addComponent(te)}catch(Me){z.debug(`Component ${te.name} failed to register with FirebaseApp ${G.name}`,Me)}}function Vt(G,te){G.container.addOrOverwriteComponent(te)}function rr(G){const te=G.name;if(ln.has(te))return z.debug(`There were multiple attempts to register component ${te}.`),!1;ln.set(te,G);for(const Me of Ut.values())jt(Me,G);return!0}function Ft(G,te){const Me=G.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),G.container.getProvider(te)}function Tt(G,te,Me=Dt){Ft(G,te).clearInstance(Me)}function ri(){ln.clear()}const Wn=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ir{constructor(te,Me,qe){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=qe,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const ii="9.8.3";function Zi(G,te={}){"object"!=typeof te&&(te={name:te});const Me=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},te),qe=Me.name;if("string"!=typeof qe||!qe)throw Wn.create("bad-app-name",{appName:String(qe)});const nt=Ut.get(qe);if(nt){if((0,he.vZ)(G,nt.options)&&(0,he.vZ)(Me,nt.config))return nt;throw Wn.create("duplicate-app",{appName:qe})}const ht=new ee.H0(qe);for(const ft of ln.values())ht.addComponent(ft);const Kt=new ir(G,Me,ht);return Ut.set(qe,Kt),Kt}function pr(G=Dt){const te=Ut.get(G);if(!te)throw Wn.create("no-app",{appName:G});return te}function jr(){return Array.from(Ut.values())}function lt(G){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(G){const te=G.name;Ut.has(te)&&(Ut.delete(te),yield Promise.all(G.container.getProviders().map(Me=>Me.delete())),G.isDeleted=!0)})).apply(this,arguments)}function on(G,te,Me){var qe;let nt=null!==(qe=ze[G])&&void 0!==qe?qe:G;Me&&(nt+=`-${Me}`);const ht=nt.match(/\s|\//),Kt=te.match(/\s|\//);if(ht||Kt){const ft=[`Unable to register library "${nt}" with version "${te}":`];return ht&&ft.push(`library name "${nt}" contains illegal characters (whitespace or "/")`),ht&&Kt&&ft.push("and"),Kt&&ft.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void z.warn(ft.join(" "))}rr(new ee.wA(`${nt}-version`,()=>({library:nt,version:te}),"VERSION"))}function cn(G,te){if(null!==G&&"function"!=typeof G)throw Wn.create("invalid-log-argument");(0,N.Am)(G,te)}function Yi(G){(0,N.Ub)(G)}const un="firebase-heartbeat-store";let Rr=null;function ws(){return Rr||(Rr=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(G,te)=>{0===te&&G.createObjectStore(un)}}).catch(G=>{throw Wn.create("storage-open",{originalErrorMessage:G.message})})),Rr}function Je(){return(Je=(0,u.Z)(function*(G){var te;try{return(yield ws()).transaction(un).objectStore(un).get(xr(G))}catch(Me){throw Wn.create("storage-get",{originalErrorMessage:null===(te=Me)||void 0===te?void 0:te.message})}})).apply(this,arguments)}function dt(G,te){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(G,te){var Me;try{const nt=(yield ws()).transaction(un,"readwrite");return yield nt.objectStore(un).put(te,xr(G)),nt.done}catch(qe){throw Wn.create("storage-set",{originalErrorMessage:null===(Me=qe)||void 0===Me?void 0:Me.message})}})).apply(this,arguments)}function xr(G){return`${G.name}!${G.options.appId}`}class Zn{constructor(te){this.container=te,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new W(Me),this._heartbeatsCachePromise=this._storage.read().then(qe=>(this._heartbeatsCache=qe,qe))}triggerHeartbeat(){var te=this;return(0,u.Z)(function*(){const qe=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nt=Yn();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==nt&&!te._heartbeatsCache.heartbeats.some(ht=>ht.date===nt))return te._heartbeatsCache.heartbeats.push({date:nt,agent:qe}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(ht=>{const Kt=new Date(ht.date).valueOf();return Date.now()-Kt<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,u.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const Me=Yn(),{heartbeatsToSend:qe,unsentEntries:nt}=function U(G,te=1024){const Me=[];let qe=G.slice();for(const nt of G){const ht=Me.find(Kt=>Kt.agent===nt.agent);if(ht){if(ht.dates.push(nt.date),q(Me)>te){ht.dates.pop();break}}else if(Me.push({agent:nt.agent,dates:[nt.date]}),q(Me)>te){Me.pop();break}qe=qe.slice(1)}return{heartbeatsToSend:Me,unsentEntries:qe}}(te._heartbeatsCache.heartbeats),ht=(0,he.L)(JSON.stringify({version:2,heartbeats:qe}));return te._heartbeatsCache.lastSentHeartbeatDate=Me,nt.length>0?(te._heartbeatsCache.heartbeats=nt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),ht})()}}function Yn(){return(new Date).toISOString().substring(0,10)}class W{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,u.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Ot(G){return Je.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var Me=this;return(0,u.Z)(function*(){var qe;if(yield Me._canUseIndexedDBPromise){const ht=yield Me.read();return dt(Me.app,{lastSentHeartbeatDate:null!==(qe=te.lastSentHeartbeatDate)&&void 0!==qe?qe:ht.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var Me=this;return(0,u.Z)(function*(){var qe;if(yield Me._canUseIndexedDBPromise){const ht=yield Me.read();return dt(Me.app,{lastSentHeartbeatDate:null!==(qe=te.lastSentHeartbeatDate)&&void 0!==qe?qe:ht.lastSentHeartbeatDate,heartbeats:[...ht.heartbeats,...te.heartbeats]})}})()}}function q(G){return(0,he.L)(JSON.stringify({version:2,heartbeats:G})).length}!function De(G){rr(new ee.wA("platform-logger",te=>new ge(te),"PRIVATE")),rr(new ee.wA("heartbeat",te=>new Zn(te),"PRIVATE")),on(ce,"0.7.26",G),on(ce,"0.7.26","esm2017"),on("fire-js","")}("")},4859:(We,ye,P)=>{P.d(ye,{H0:()=>ce,wA:()=>N,zt:()=>se});var u=P(5861),ee=P(2090);class N{constructor(z,j,ie){this.name=z,this.instanceFactory=j,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const he="[DEFAULT]";class se{constructor(z,j){this.name=z,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const j=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(j)){const ie=new ee.BH;if(this.instancesDeferred.set(j,ie),this.isInitialized(j)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:j});Be&&ie.resolve(Be)}catch(Be){}}return this.instancesDeferred.get(j).promise}getImmediate(z){var j;const ie=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),Be=null!==(j=null==z?void 0:z.optional)&&void 0!==j&&j;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Ae){if(Be)return null;throw Ae}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ae(fe){return"EAGER"===fe.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:he})}catch(j){}for(const[j,ie]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(j);try{const Ae=this.getOrInitializeService({instanceIdentifier:Be});ie.resolve(Ae)}catch(Ae){}}}}clearInstance(z=he){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,u.Z)(function*(){const j=Array.from(z.instances.values());yield Promise.all([...j.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...j.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=he){return this.instances.has(z)}getOptions(z=he){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:j={}}=z,ie=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ie,options:j});for(const[Ae,xe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Ae)&&xe.resolve(Be);return Be}onInit(z,j){var ie;const Be=this.normalizeInstanceIdentifier(j),Ae=null!==(ie=this.onInitCallbacks.get(Be))&&void 0!==ie?ie:new Set;Ae.add(z),this.onInitCallbacks.set(Be,Ae);const xe=this.instances.get(Be);return xe&&z(xe,Be),()=>{Ae.delete(z)}}invokeOnInitCallbacks(z,j){const ie=this.onInitCallbacks.get(j);if(ie)for(const Be of ie)try{Be(z,j)}catch(Ae){}}getOrInitializeService({instanceIdentifier:z,options:j={}}){let ie=this.instances.get(z);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=z,fe===he?void 0:fe),options:j}),this.instances.set(z,ie),this.instancesOptions.set(z,j),this.invokeOnInitCallbacks(ie,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,ie)}catch(Be){}var fe;return ie||null}normalizeInstanceIdentifier(z=he){return this.component?this.component.multipleInstances?z:he:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const j=this.getProvider(z.name);if(j.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);j.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const j=new se(z,this);return this.providers.set(z,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(We,ye,P)=>{P.d(ye,{Am:()=>fe,Ub:()=>ce,Yd:()=>ae,in:()=>ee});const u=[];var ee=(()=>{return(z=ee||(ee={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",ee;var z})();const N={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},he=ee.INFO,se={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ge=(z,j,...ie)=>{if(j<z.logLevel)return;const Be=(new Date).toISOString(),Ae=se[j];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ae](`[${Be}]  ${z.name}:`,...ie)};class ae{constructor(j){this.name=j,this._logLevel=he,this._logHandler=ge,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ee))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?N[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...j),this._logHandler(this,ee.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...j),this._logHandler(this,ee.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...j),this._logHandler(this,ee.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...j),this._logHandler(this,ee.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...j),this._logHandler(this,ee.ERROR,...j)}}function ce(z){u.forEach(j=>{j.setLogLevel(z)})}function fe(z,j){for(const ie of u){let Be=null;j&&j.level&&(Be=N[j.level]),ie.userLogHandler=null===z?null:(Ae,xe,...Ne)=>{const me=Ne.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch(Ue){return null}}).filter(Ee=>Ee).join(" ");xe>=(null!=Be?Be:Ae.logLevel)&&z({level:ee[xe].toLowerCase(),message:me,args:Ne,type:Ae.name})}}}},8766:(We,ye,P)=>{P.d(ye,{Lj:()=>Te,X3:()=>Ge});var u=P(5861);let N,he;const ae=new WeakMap,ce=new WeakMap,fe=new WeakMap,z=new WeakMap,j=new WeakMap;let Ae={get($,be,K){if($ instanceof IDBTransaction){if("done"===be)return ce.get($);if("objectStoreNames"===be)return $.objectStoreNames||fe.get($);if("store"===be)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return Ee($[be])},set:($,be,K)=>($[be]=K,!0),has:($,be)=>$ instanceof IDBTransaction&&("done"===be||"store"===be)||be in $};function me($){return"function"==typeof $?function Ne($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...be){return $.apply(Ue(this),be),Ee(ae.get(this))}:function(...be){return Ee($.apply(Ue(this),be))}:function(be,...K){const oe=$.call(Ue(this),be,...K);return fe.set(oe,be.sort?be.sort():[be]),Ee(oe)}}($):($ instanceof IDBTransaction&&function Be($){if(ce.has($))return;const be=new Promise((K,oe)=>{const re=()=>{$.removeEventListener("complete",_e),$.removeEventListener("error",ue),$.removeEventListener("abort",ue)},_e=()=>{K(),re()},ue=()=>{oe($.error||new DOMException("AbortError","AbortError")),re()};$.addEventListener("complete",_e),$.addEventListener("error",ue),$.addEventListener("abort",ue)});ce.set($,be)}($),(($,be)=>be.some(K=>$ instanceof K))($,function se(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,Ae):$)}function Ee($){if($ instanceof IDBRequest)return function ie($){const be=new Promise((K,oe)=>{const re=()=>{$.removeEventListener("success",_e),$.removeEventListener("error",ue)},_e=()=>{K(Ee($.result)),re()},ue=()=>{oe($.error),re()};$.addEventListener("success",_e),$.addEventListener("error",ue)});return be.then(K=>{K instanceof IDBCursor&&ae.set(K,$)}).catch(()=>{}),j.set(be,$),be}($);if(z.has($))return z.get($);const be=me($);return be!==$&&(z.set($,be),j.set(be,$)),be}const Ue=$=>j.get($);function Ge($,be,{blocked:K,upgrade:oe,blocking:re,terminated:_e}={}){const ue=indexedDB.open($,be),ke=Ee(ue);return oe&&ue.addEventListener("upgradeneeded",tt=>{oe(Ee(ue.result),tt.oldVersion,tt.newVersion,Ee(ue.transaction))}),K&&ue.addEventListener("blocked",()=>K()),ke.then(tt=>{_e&&tt.addEventListener("close",()=>_e()),re&&tt.addEventListener("versionchange",()=>re())}).catch(()=>{}),ke}function Te($,{blocked:be}={}){const K=indexedDB.deleteDatabase($);return be&&K.addEventListener("blocked",()=>be()),Ee(K).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],Fe=new Map;function Le($,be){if(!($ instanceof IDBDatabase)||be in $||"string"!=typeof be)return;if(Fe.get(be))return Fe.get(be);const K=be.replace(/FromIndex$/,""),oe=be!==K,re=we.includes(K);if(!(K in(oe?IDBIndex:IDBObjectStore).prototype)||!re&&!Ce.includes(K))return;const _e=function(){var ue=(0,u.Z)(function*(ke,...tt){const kt=this.transaction(ke,re?"readwrite":"readonly");let Dt=kt.store;return oe&&(Dt=Dt.index(tt.shift())),(yield Promise.all([Dt[K](...tt),re&&kt.done]))[0]});return function(tt){return ue.apply(this,arguments)}}();return Fe.set(be,_e),_e}!function xe($){Ae=$(Ae)}($=>Fx(Nx({},$),{get:(be,K,oe)=>Le(be,K)||$.get(be,K,oe),has:(be,K)=>!!Le(be,K)||$.has(be,K)}))},5861:(We,ye,P)=>{function u(N,he,se,ge,ae,ce,fe){try{var z=N[ce](fe),j=z.value}catch(ie){return void se(ie)}z.done?he(j):Promise.resolve(j).then(ge,ae)}function ee(N){return function(){var he=this,se=arguments;return new Promise(function(ge,ae){var ce=N.apply(he,se);function fe(j){u(ce,ge,ae,fe,z,"next",j)}function z(j){u(ce,ge,ae,fe,z,"throw",j)}fe(void 0)})}}P.d(ye,{Z:()=>ee})}},We=>{We(We.s=4901)}]);